/*! For license information please see main.466d42c4c336a7a20786.js.LICENSE.txt */
(()=>{"use strict";var e={221(e,t,n){var r=n(540);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal"),s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=s.T,n=l.p;try{if(s.T=null,l.p=2,e)return e()}finally{s.T=t,l.p=n,l.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=u(n,t.crossOrigin),o="string"==typeof t.integrity?t.integrity:void 0,i="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?l.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&l.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=u(n,t.crossOrigin);l.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=u(t.as,t.crossOrigin);l.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},t.useFormStatus=function(){return s.H.useHostTransitionStatus()},t.version="19.2.3"},247(e,t,n){var r=n(982),o=n(540),i=n(961);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function d(e){if(s(e)!==e)throw Error(l(188))}function p(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=p(e)))return t;e=e.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var k=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList";case k:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case g:return"Portal";case S:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return P(e(t))}catch(e){}}return null}var R=Array.isArray,j=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},L=[],U=-1;function F(e){return{current:e}}function q(e){0>U||(e.current=L[U],L[U]=null,U--)}function G(e,t){U++,L[U]=e.current,e.current=t}var H,z,V=F(null),B=F(null),$=F(null),W=F(null);function J(e,t){switch(G($,t),G(B,e),G(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(V),G(V,e)}function K(){q(V),q(B),q($)}function Y(e){null!==e.memoizedState&&G(W,e);var t=V.current,n=vd(t,e.type);t!==n&&(G(B,e),G(V,n))}function Q(e){B.current===e&&(q(V),q(B)),W.current===e&&(q(W),cp._currentValue=M)}function X(e){if(void 0===H)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||"",z=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+H+e+z}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),l=i[0],a=i[1];if(l&&a){var s=l.split("\n"),u=a.split("\n");for(o=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;if(r===s.length||o===u.length)for(r=s.length-1,o=u.length-1;1<=r&&0<=o&&s[r]!==u[o];)o--;for(;1<=r&&0<=o;r--,o--)if(s[r]!==u[o]){if(1!==r||1!==o)do{if(r--,0>--o||s[r]!==u[o]){var c="\n"+s[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=o);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,le=r.unstable_shouldYield,ae=r.unstable_requestPaint,se=r.unstable_now,ue=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,pe=r.unstable_NormalPriority,fe=r.unstable_LowPriority,he=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"==typeof me&&ge(e),ve&&"function"==typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(e){}}var we=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(Se(e)/Ee|0)|0},Se=Math.log,Ee=Math.LN2,xe=256,_e=262144,Ce=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~i)?o=Te(r):0!==(l&=a)?o=Te(l):n||0!==(n=a&~e)&&(o=Te(n)):0!==(a=r&~i)?o=Te(a):0!==l?o=Te(l):n||0!==(n=r&~e)&&(o=Te(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&4194048&n)?t:o}function Ie(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Oe(){var e=Ce;return!(62914560&(Ce<<=1))&&(Ce=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function je(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function De(e,t){var n=t&-t;return 0!==((n=42&n?1:Me(n))&(e.suspendedLanes|t))?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ue(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:Tp(e.type)}function Fe(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var qe=Math.random().toString(36).slice(2),Ge="__reactFiber$"+qe,He="__reactProps$"+qe,ze="__reactContainer$"+qe,Ve="__reactEvents$"+qe,Be="__reactListeners$"+qe,$e="__reactHandles$"+qe,We="__reactResources$"+qe,Je="__reactMarker$"+qe;function Ke(e){delete e[Ge],delete e[He],delete e[Ve],delete e[Be],delete e[$e]}function Ye(e){var t=e[Ge];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ze]||n[Ge]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Md(e);null!==e;){if(n=e[Ge])return n;e=Md(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[Ge]||e[ze]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Ze(e){var t=e[We];return t||(t=e[We]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Je]=!0}var tt=new Set,nt={};function rt(e,t){ot(e,t),ot(e+"Capture",t)}function ot(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},at={};function st(e,t,n){if(o=t,re.call(at,o)||!re.call(lt,o)&&(it.test(o)?at[o]=!0:(lt[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function ut(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,o,i,l,a){e.name="",null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?wt(e,l,dt(t)):null!=n?wt(e,l,dt(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!=typeof o&&"symbol"!=typeof o),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+dt(a):e.removeAttribute("name")}function bt(e,t,n,r,o,i,l,a){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:o)&&"symbol"!=typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l&&(e.name=l),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Et(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(l(92));if(R(r)){if(1<r.length)throw Error(l(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(l(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Tt(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&Tt(e,i,t[i])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ot=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Ot.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var Rt=null;function jt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Mt=null;function Lt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[He]||null;if(!o)throw Error(l(90));vt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":Et(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var Ut=!1;function Ft(e,t,n){if(Ut)return e(t,n);Ut=!0;try{return e(t)}finally{if(Ut=!1,(null!==Dt||null!==Mt)&&(Zu(),Dt&&(t=Dt,e=Mt,Mt=Dt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function qt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[He]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(l(231,t,typeof n));return n}var Gt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Ht=!1;if(Gt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(e){Ht=!1}var Vt=null,Bt=null,$t=null;function Wt(){if($t)return $t;var e,t,n=Bt,r=n.length,o="value"in Vt?Vt.value:Vt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===o[i-t];t++);return $t=o.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Yt(){return!1}function Qt(e){function t(t,n,r,o,i){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Kt:Yt,this.isPropagationStopped=Yt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Qt(tn),rn=f({},tn,{view:0,detail:0}),on=Qt(rn),ln=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),an=Qt(ln),sn=Qt(f({},ln,{dataTransfer:0})),un=Qt(f({},rn,{relatedTarget:0})),cn=Qt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Qt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Qt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var vn=Qt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Qt(f({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Qt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),Sn=Qt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=Qt(f({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Qt(f({},tn,{newState:0,oldState:0})),_n=[9,13,27,32],Cn=Gt&&"CompositionEvent"in window,Tn=null;Gt&&"documentMode"in document&&(Tn=document.documentMode);var kn=Gt&&"TextEvent"in window&&!Tn,In=Gt&&(!Cn||Tn&&8<Tn&&11>=Tn),An=String.fromCharCode(32),On=!1;function Nn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1,jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Mn(e,t,n,r){Dt?Mt?Mt.push(r):Mt=[r]:Dt=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,Un=null;function Fn(e){Kc(e,0)}function qn(e){if(ht(Xe(e)))return e}function Gn(e,t){if("change"===e)return t}var Hn=!1;if(Gt){var zn;if(Gt){var Vn="oninput"in document;if(!Vn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Vn="function"==typeof Bn.oninput}zn=Vn}else zn=!1;Hn=zn&&(!document.documentMode||9<document.documentMode)}function $n(){Ln&&(Ln.detachEvent("onpropertychange",Wn),Un=Ln=null)}function Wn(e){if("value"===e.propertyName&&qn(Un)){var t=[];Mn(t,Un,e,jt(e)),Ft(Fn,t)}}function Jn(e,t,n){"focusin"===e?($n(),Un=n,(Ln=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&$n()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Un)}function Yn(e,t){if("click"===e)return qn(t)}function Qn(e,t){if("input"===e||"change"===e)return qn(t)}var Xn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Xn(e[o],t[o]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Gt&&"documentMode"in document&&11>=document.documentMode,lr=null,ar=null,sr=null,ur=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==lr||lr!==mt(r)||(r="selectionStart"in(r=lr)&&or(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Zn(sr,r)||(sr=r,0<(r=rd(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},hr={};function mr(e){if(fr[e])return fr[e];if(!pr[e])return e;var t,n=pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return fr[e]=n[t];return e}Gt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var gr=mr("animationend"),yr=mr("animationiteration"),vr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),Sr=mr("transitioncancel"),Er=mr("transitionend"),xr=new Map,_r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){xr.set(e,t),rt(t,[e])}_r.push("scrollEnd");var Tr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},kr=[],Ir=0,Ar=0;function Or(){for(var e=Ir,t=Ar=Ir=0;t<e;){var n=kr[t];kr[t++]=null;var r=kr[t];kr[t++]=null;var o=kr[t];kr[t++]=null;var i=kr[t];if(kr[t++]=null,null!==r&&null!==o){var l=r.pending;null===l?o.next=o:(o.next=l.next,l.next=o),r.pending=o}0!==i&&jr(n,o,i)}}function Nr(e,t,n,r){kr[Ir++]=e,kr[Ir++]=t,kr[Ir++]=n,kr[Ir++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Nr(e,t,n,r),Dr(e)}function Rr(e,t){return Nr(e,null,null,t),Dr(e)}function jr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-we(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Dr(e){if(50<Vu)throw Vu=0,Bu=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qr(e,t){var n=e.alternate;return null===n?((n=Ur(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Gr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,n,r,o,i){var a=0;if(r=e,"function"==typeof e)Fr(e)&&(a=1);else if("string"==typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Ur(31,n,t,o)).elementType=k,e.lanes=i,e;case y:return zr(n.children,o,i,t);case v:a=8,o|=24;break;case b:return(e=Ur(12,n,t,2|o)).elementType=b,e.lanes=i,e;case x:return(e=Ur(13,n,t,o)).elementType=x,e.lanes=i,e;case _:return(e=Ur(19,n,t,o)).elementType=_,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case w:a=9;break e;case E:a=11;break e;case C:a=14;break e;case T:a=16,r=null;break e}a=29,n=Error(l(130,null===e?"null":typeof e,"")),r=null}return(t=Ur(a,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function zr(e,t,n,r){return(e=Ur(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Ur(6,e,null,t)).lanes=n,e}function Br(e){var t=Ur(18,null,null,0);return t.stateNode=e,t}function $r(e,t,n){return(t=Ur(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=new WeakMap;function Jr(e,t){if("object"==typeof e&&null!==e){var n=Wr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Wr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Kr=[],Yr=0,Qr=null,Xr=0,Zr=[],eo=0,to=null,no=1,ro="";function oo(e,t){Kr[Yr++]=Xr,Kr[Yr++]=Qr,Qr=e,Xr=t}function io(e,t,n){Zr[eo++]=no,Zr[eo++]=ro,Zr[eo++]=to,to=e;var r=no;e=ro;var o=32-we(r)-1;r&=~(1<<o),n+=1;var i=32-we(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,no=1<<32-we(t)+o|n<<o|r,ro=i+e}else no=1<<i|n<<o|r,ro=e}function lo(e){null!==e.return&&(oo(e,1),io(e,1,0))}function ao(e){for(;e===Qr;)Qr=Kr[--Yr],Kr[Yr]=null,Xr=Kr[--Yr],Kr[Yr]=null;for(;e===to;)to=Zr[--eo],Zr[eo]=null,ro=Zr[--eo],Zr[eo]=null,no=Zr[--eo],Zr[eo]=null}function so(e,t){Zr[eo++]=no,Zr[eo++]=ro,Zr[eo++]=to,no=t.id,ro=t.overflow,to=e}var uo=null,co=null,po=!1,fo=null,ho=!1,mo=Error(l(519));function go(e){throw Eo(Jr(Error(l(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mo}function yo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ge]=e,t[He]=r,n){case"dialog":Yc("cancel",t),Yc("close",t);break;case"iframe":case"object":case"embed":Yc("load",t);break;case"video":case"audio":for(n=0;n<Wc.length;n++)Yc(Wc[n],t);break;case"source":Yc("error",t);break;case"img":case"image":case"link":Yc("error",t),Yc("load",t);break;case"details":Yc("toggle",t);break;case"input":Yc("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Yc("invalid",t);break;case"textarea":Yc("invalid",t),xt(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Yc("beforetoggle",t),Yc("toggle",t)),null!=r.onScroll&&Yc("scroll",t),null!=r.onScrollEnd&&Yc("scrollend",t),null!=r.onClick&&(t.onclick=Pt),t=!0):t=!1,t||go(e,!0)}function vo(e){for(uo=e.return;uo;)switch(uo.tag){case 5:case 31:case 13:return void(ho=!1);case 27:case 3:return void(ho=!0);default:uo=uo.return}}function bo(e){if(e!==uo)return!1;if(!po)return vo(e),po=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&co&&go(e),vo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));co=Dd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));co=Dd(e)}else 27===n?(n=co,Td(e.type)?(e=jd,jd=null,co=e):co=n):co=uo?Rd(e.stateNode.nextSibling):null;return!0}function wo(){co=uo=null,po=!1}function So(){var e=fo;return null!==e&&(null===Ou?Ou=e:Ou.push.apply(Ou,e),fo=null),e}function Eo(e){null===fo?fo=[e]:fo.push(e)}var xo=F(null),_o=null,Co=null;function To(e,t,n){G(xo,t._currentValue),t._currentValue=n}function ko(e){e._currentValue=xo.current,q(xo)}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var a=o.child;i=i.firstContext;e:for(;null!==i;){var s=i;i=o;for(var u=0;u<t.length;u++)if(s.context===t[u]){i.lanes|=n,null!==(s=i.alternate)&&(s.lanes|=n),Io(i.return,n,e),r||(a=null);break e}i=s.next}}else if(18===o.tag){if(null===(a=o.return))throw Error(l(341));a.lanes|=n,null!==(i=a.alternate)&&(i.lanes|=n),Io(a,n,e),a=null}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}}function Oo(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(524288&o.flags)i=!0;else if(262144&o.flags)break;if(10===o.tag){var a=o.alternate;if(null===a)throw Error(l(387));if(null!==(a=a.memoizedProps)){var s=o.type;Xn(o.pendingProps.value,a.value)||(null!==e?e.push(s):e=[s])}}else if(o===W.current){if(null===(a=o.alternate))throw Error(l(387));a.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(cp):e=[cp])}o=o.return}null!==e&&Ao(t,e,n,r),t.flags|=262144}function No(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Po(e){_o=e,Co=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ro(e){return Do(_o,e)}function jo(e,t){return null===_o&&Po(e),Do(e,t)}function Do(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Co){if(null===e)throw Error(l(308));Co=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Co=Co.next=t;return n}var Mo="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Lo=r.unstable_scheduleCallback,Uo=r.unstable_NormalPriority,Fo={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qo(){return{controller:new Mo,data:new Map,refCount:0}}function Go(e){e.refCount--,0===e.refCount&&Lo(Uo,function(){e.controller.abort()})}var Ho=null,zo=0,Vo=0,Bo=null;function $o(){if(0===--zo&&null!==Ho){null!==Bo&&(Bo.status="fulfilled");var e=Ho;Ho=null,Vo=0,Bo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wo=j.S;j.S=function(e,t){Ru=se(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Ho){var n=Ho=[];zo=0,Vo=Hc(),Bo={status:"pending",value:void 0,then:function(e){n.push(e)}}}zo++,t.then($o,$o)}(0,t),null!==Wo&&Wo(e,t)};var Jo=F(null);function Ko(){var e=Jo.current;return null!==e?e:hu.pooledCache}function Yo(e,t){G(Jo,null===t?Jo.current:t.pool)}function Qo(){var e=Ko();return null===e?null:{parent:Fo._currentValue,pool:e}}var Xo=Error(l(460)),Zo=Error(l(474)),ei=Error(l(542)),ti={then:function(){}};function ni(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ri(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Pt,Pt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ai(e=t.reason),e;default:if("string"==typeof t.status)t.then(Pt,Pt);else{if(null!==(e=hu)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ai(e=t.reason),e}throw ii=t,Xo}}function oi(e){try{return(0,e._init)(e._payload)}catch(e){if(null!==e&&"object"==typeof e&&"function"==typeof e.then)throw ii=e,Xo;throw e}}var ii=null;function li(){if(null===ii)throw Error(l(459));var e=ii;return ii=null,e}function ai(e){if(e===Xo||e===ei)throw Error(l(483))}var si=null,ui=0;function ci(e){var t=ui;return ui+=1,null===si&&(si=[]),ri(si,e,t)}function di(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function pi(e,t){if(t.$$typeof===h)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=qr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===T&&oi(i)===t.type)?(di(t=o(t,n.props),n),t.return=e,t):(di(t=Hr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=zr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case m:return di(n=Hr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=$r(t,e.mode,n)).return=e,t;case T:return p(e,t=oi(t),n)}if(R(t)||O(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,ci(t),n);if(t.$$typeof===S)return p(e,jo(e,t),n);pi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===o?u(e,t,n,r):null;case g:return n.key===o?c(e,t,n,r):null;case T:return f(e,t,n=oi(n),r)}if(R(n)||O(n))return null!==o?null:d(e,t,n,r,null);if("function"==typeof n.then)return f(e,t,ci(n),r);if(n.$$typeof===S)return f(e,t,jo(e,n),r);pi(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case T:return h(e,t,n,r=oi(r),o)}if(R(r)||O(r))return d(t,e=e.get(n)||null,r,o,null);if("function"==typeof r.then)return h(e,t,n,ci(r),o);if(r.$$typeof===S)return h(e,t,n,jo(t,r),o);pi(t,r)}return null}function v(s,u,c,d){if("object"==typeof c&&null!==c&&c.type===y&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case m:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===y){if(7===u.tag){n(s,u.sibling),(d=o(u,c.props.children)).return=s,s=d;break e}}else if(u.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===T&&oi(b)===u.type){n(s,u.sibling),di(d=o(u,c.props),c),d.return=s,s=d;break e}n(s,u);break}t(s,u),u=u.sibling}c.type===y?((d=zr(c.props.children,s.mode,d,c.key)).return=s,s=d):(di(d=Hr(c.type,c.key,c.props,null,s.mode,d),c),d.return=s,s=d)}return a(s);case g:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(s,u.sibling),(d=o(u,c.children||[])).return=s,s=d;break e}n(s,u);break}t(s,u),u=u.sibling}(d=$r(c,s.mode,d)).return=s,s=d}return a(s);case T:return v(s,u,c=oi(c),d)}if(R(c))return function(o,l,a,s){for(var u=null,c=null,d=l,m=l=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(o,d,a[m],s);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),l=i(y,l,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===a.length)return n(o,d),po&&oo(o,m),u;if(null===d){for(;m<a.length;m++)null!==(d=p(o,a[m],s))&&(l=i(d,l,m),null===c?u=d:c.sibling=d,c=d);return po&&oo(o,m),u}for(d=r(d);m<a.length;m++)null!==(g=h(d,o,m,a[m],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),l=i(g,l,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(o,e)}),po&&oo(o,m),u}(s,u,c,d);if(O(c)){if("function"!=typeof(b=O(c)))throw Error(l(150));return function(o,a,s,u){if(null==s)throw Error(l(151));for(var c=null,d=null,m=a,g=a=0,y=null,v=s.next();null!==m&&!v.done;g++,v=s.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(o,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(o,m),a=i(b,a,g),null===d?c=b:d.sibling=b,d=b,m=y}if(v.done)return n(o,m),po&&oo(o,g),c;if(null===m){for(;!v.done;g++,v=s.next())null!==(v=p(o,v.value,u))&&(a=i(v,a,g),null===d?c=v:d.sibling=v,d=v);return po&&oo(o,g),c}for(m=r(m);!v.done;g++,v=s.next())null!==(v=h(m,o,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=i(v,a,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(o,e)}),po&&oo(o,g),c}(s,u,c=b.call(c),d)}if("function"==typeof c.then)return v(s,u,ci(c),d);if(c.$$typeof===S)return v(s,u,jo(s,c),d);pi(s,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(s,u.sibling),(d=o(u,c)).return=s,s=d):(n(s,u),(d=Vr(c,s.mode,d)).return=s,s=d),a(s)):n(s,u)}return function(e,t,n,r){try{ui=0;var o=v(e,t,n,r);return si=null,o}catch(t){if(t===Xo||t===ei)throw t;var i=Ur(29,t,null,e.mode);return i.lanes=r,i.return=e,i}}}var hi=fi(!0),mi=fi(!1),gi=!1;function yi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&fu){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Dr(e),jr(e,null,n),t}return Nr(e,r,t,n),Dr(e)}function Si(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,je(e,n)}}function Ei(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=l:i=i.next=l,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var xi=!1;function _i(){if(xi&&null!==Bo)throw Bo}function Ci(e,t,n,r){xi=!1;var o=e.updateQueue;gi=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var s=a,u=s.next;s.next=null,null===l?i=u:l.next=u,l=s;var c=e.alternate;null!==c&&(a=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=s)}if(null!==i){var d=o.baseState;for(l=0,c=u=s=null,a=i;;){var p=-536870913&a.lane,h=p!==a.lane;if(h?(gu&p)===p:(r&p)===p){0!==p&&p===Vo&&(xi=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;p=t;var y=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(y,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=g.payload)?m.call(y,d,p):m))break e;d=f({},d,p);break e;case 2:gi=!0}}null!==(p=a.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=o.callbacks)?o.callbacks=[p]:h.push(p))}else h={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=h,s=d):c=c.next=h,l|=p;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}null===c&&(s=d),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null===i&&(o.shared.lanes=0),_u|=l,e.lanes=l,e.memoizedState=d}}function Ti(e,t){if("function"!=typeof e)throw Error(l(191,e));e.call(t)}function ki(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ti(n[e],t)}var Ii=F(null),Ai=F(0);function Oi(e,t){G(Ai,e=Eu),G(Ii,t),Eu=e|t.baseLanes}function Ni(){G(Ai,Eu),G(Ii,Ii.current)}function Pi(){Eu=Ai.current,q(Ii),q(Ai)}var Ri=F(null),ji=null;function Di(e){var t=e.alternate;G(qi,1&qi.current),G(Ri,e),null===ji&&(null===t||null!==Ii.current||null!==t.memoizedState)&&(ji=e)}function Mi(e){G(qi,qi.current),G(Ri,e),null===ji&&(ji=e)}function Li(e){22===e.tag?(G(qi,qi.current),G(Ri,e),null===ji&&(ji=e)):Ui()}function Ui(){G(qi,qi.current),G(Ri,Ri.current)}function Fi(e){q(Ri),ji===e&&(ji=null),q(qi)}var qi=F(0);function Gi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Nd(n)||Pd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hi=0,zi=null,Vi=null,Bi=null,$i=!1,Wi=!1,Ji=!1,Ki=0,Yi=0,Qi=null,Xi=0;function Zi(){throw Error(l(321))}function el(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function tl(e,t,n,r,o,i){return Hi=i,zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=null===e||null===e.memoizedState?ga:ya,Ji=!1,i=n(r,o),Ji=!1,Wi&&(i=rl(t,n,r,o)),nl(e),i}function nl(e){j.H=ma;var t=null!==Vi&&null!==Vi.next;if(Hi=0,Bi=Vi=zi=null,$i=!1,Yi=0,Qi=null,t)throw Error(l(300));null===e||Ra||null!==(e=e.dependencies)&&No(e)&&(Ra=!0)}function rl(e,t,n,r){zi=e;var o=0;do{if(Wi&&(Qi=null),Yi=0,Wi=!1,25<=o)throw Error(l(301));if(o+=1,Bi=Vi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}j.H=va,i=t(n,r)}while(Wi);return i}function ol(){var e=j.H,t=e.useState()[0];return t="function"==typeof t.then?cl(t):t,e=e.useState()[0],(null!==Vi?Vi.memoizedState:null)!==e&&(zi.flags|=1024),t}function il(){var e=0!==Ki;return Ki=0,e}function ll(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function al(e){if($i){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}$i=!1}Hi=0,Bi=Vi=zi=null,Wi=!1,Yi=Ki=0,Qi=null}function sl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Bi?zi.memoizedState=Bi=e:Bi=Bi.next=e,Bi}function ul(){if(null===Vi){var e=zi.alternate;e=null!==e?e.memoizedState:null}else e=Vi.next;var t=null===Bi?zi.memoizedState:Bi.next;if(null!==t)Bi=t,Vi=e;else{if(null===e){if(null===zi.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(Vi=e).memoizedState,baseState:Vi.baseState,baseQueue:Vi.baseQueue,queue:Vi.queue,next:null},null===Bi?zi.memoizedState=Bi=e:Bi=Bi.next=e}return Bi}function cl(e){var t=Yi;return Yi+=1,null===Qi&&(Qi=[]),e=ri(Qi,e,t),t=zi,null===(null===Bi?t.memoizedState:Bi.next)&&(t=t.alternate,j.H=null===t||null===t.memoizedState?ga:ya),e}function dl(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return cl(e);if(e.$$typeof===S)return Ro(e)}throw Error(l(438,String(e)))}function pl(e){var t=null,n=zi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=zi.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},zi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function fl(e,t){return"function"==typeof t?t(e):t}function hl(e){return ml(ul(),Vi,e)}function ml(e,t,n){var r=e.queue;if(null===r)throw Error(l(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var s=a=null,u=null,c=t=o.next,d=!1;do{var p=-536870913&c.lane;if(p!==c.lane?(gu&p)===p:(Hi&p)===p){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Vo&&(d=!0);else{if((Hi&f)===f){c=c.next,f===Vo&&(d=!0);continue}p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(s=u=p,a=i):u=u.next=p,zi.lanes|=f,_u|=f}p=c.action,Ji&&n(i,p),i=c.hasEagerState?c.eagerState:n(i,p)}else f={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(s=u=f,a=i):u=u.next=f,zi.lanes|=p,_u|=p;c=c.next}while(null!==c&&c!==t);if(null===u?a=i:u.next=s,!Xn(i,e.memoizedState)&&(Ra=!0,d&&null!==(n=Bo)))throw n;e.memoizedState=i,e.baseState=a,e.baseQueue=u,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gl(e){var t=ul(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{i=e(i,a.action),a=a.next}while(a!==o);Xn(i,t.memoizedState)||(Ra=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function yl(e,t,n){var r=zi,o=ul(),i=po;if(i){if(void 0===n)throw Error(l(407));n=n()}else n=t();var a=!Xn((Vi||o).memoizedState,n);if(a&&(o.memoizedState=n,Ra=!0),o=o.queue,Hl(wl.bind(null,r,o,e),[e]),o.getSnapshot!==t||a||null!==Bi&&1&Bi.memoizedState.tag){if(r.flags|=2048,Ll(9,{destroy:void 0},bl.bind(null,r,o,n,t),null),null===hu)throw Error(l(349));i||127&Hi||vl(r,t,n)}return n}function vl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=zi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},zi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bl(e,t,n,r){t.value=n,t.getSnapshot=r,Sl(t)&&El(e)}function wl(e,t,n){return n(function(){Sl(t)&&El(e)})}function Sl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(e){return!0}}function El(e){var t=Rr(e,2);null!==t&&Ju(t,0,2)}function xl(e){var t=sl();if("function"==typeof e){var n=e;if(e=n(),Ji){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:e},t}function _l(e,t,n,r){return e.baseState=n,ml(e,Vi,"function"==typeof r?r:fl)}function Cl(e,t,n,r,o){if(pa(e))throw Error(l(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==j.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,Tl(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Tl(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=j.T,l={};j.T=l;try{var a=n(o,r),s=j.S;null!==s&&s(l,a),kl(e,t,a)}catch(n){Al(e,t,n)}finally{null!==i&&null!==l.types&&(i.types=l.types),j.T=i}}else try{kl(e,t,i=n(o,r))}catch(n){Al(e,t,n)}}function kl(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Il(e,t,n)},function(n){return Al(e,t,n)}):Il(e,t,n)}function Il(e,t,n){t.status="fulfilled",t.value=n,Ol(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Tl(e,n)))}function Al(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ol(t),t=t.next}while(t!==r)}e.action=null}function Ol(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Nl(e,t){return t}function Pl(e,t){if(po){var n=hu.formState;if(null!==n){e:{var r=zi;if(po){if(co){t:{for(var o=co,i=ho;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=Rd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){co=Rd(o.nextSibling),r="F!"===o.data;break e}}go(r)}r=!1}r&&(t=n[0])}}return(n=sl()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:t},n.queue=r,n=ua.bind(null,zi,r),r.dispatch=n,r=xl(!1),i=da.bind(null,zi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=sl()).queue=o,n=Cl.bind(null,zi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Rl(e){return jl(ul(),Vi,e)}function jl(e,t,n){if(t=ml(e,t,Nl)[0],e=hl(fl)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=cl(t)}catch(e){if(e===Xo)throw ei;throw e}else r=t;var o=(t=ul()).queue,i=o.dispatch;return n!==t.memoizedState&&(zi.flags|=2048,Ll(9,{destroy:void 0},Dl.bind(null,o,n),null)),[r,i,e]}function Dl(e,t){e.action=t}function Ml(e){var t=ul(),n=Vi;if(null!==n)return jl(t,n,e);ul(),t=t.memoizedState;var r=(n=ul()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ll(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=zi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},zi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ul(){return ul().memoizedState}function Fl(e,t,n,r){var o=sl();zi.flags|=e,o.memoizedState=Ll(1|t,{destroy:void 0},n,void 0===r?null:r)}function ql(e,t,n,r){var o=ul();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==Vi&&null!==r&&el(r,Vi.memoizedState.deps)?o.memoizedState=Ll(t,i,n,r):(zi.flags|=e,o.memoizedState=Ll(1|t,i,n,r))}function Gl(e,t){Fl(8390656,8,e,t)}function Hl(e,t){ql(2048,8,e,t)}function zl(e){var t=ul().memoizedState;return function(e){zi.flags|=4;var t=zi.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},zi.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&fu)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Vl(e,t){return ql(4,2,e,t)}function Bl(e,t){return ql(4,4,e,t)}function $l(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Wl(e,t,n){n=null!=n?n.concat([e]):null,ql(4,4,$l.bind(null,t,e),n)}function Jl(){}function Kl(e,t){var n=ul();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&el(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yl(e,t){var n=ul();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&el(t,r[1]))return r[0];if(r=e(),Ji){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Ql(e,t,n){return void 0===n||1073741824&Hi&&!(261930&gu)?e.memoizedState=t:(e.memoizedState=n,e=Wu(),zi.lanes|=e,_u|=e,n)}function Xl(e,t,n,r){return Xn(n,t)?n:null!==Ii.current?(e=Ql(e,n,r),Xn(e,t)||(Ra=!0),e):42&Hi&&(!(1073741824&Hi)||261930&gu)?(e=Wu(),zi.lanes|=e,_u|=e,t):(Ra=!0,e.memoizedState=n)}function Zl(e,t,n,r,o){var i=D.p;D.p=0!==i&&8>i?i:8;var l=j.T,a={};j.T=a,da(e,!1,t,n);try{var s=o(),u=j.S;if(null!==u&&u(a,s),null!==s&&"object"==typeof s&&"function"==typeof s.then){var c=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(s,r);ca(e,t,c,$u())}else ca(e,t,r,$u())}catch(n){ca(e,t,{then:function(){},status:"rejected",reason:n},$u())}finally{D.p=i,null!==l&&null!==a.types&&(l.types=a.types),j.T=l}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(l(476));var o=na(e).queue;Zl(e,o,t,M,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ca(e,t.next.queue,{},$u())}function oa(){return Ro(cp)}function ia(){return ul().memoizedState}function la(){return ul().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=$u(),r=wi(t,e=bi(n),n);return null!==r&&(Ju(r,0,n),Si(r,t,n)),t={cache:qo()},void(e.payload=t)}t=t.return}}function sa(e,t,n){var r=$u();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},pa(e)?fa(t,n):null!==(n=Pr(e,t,n,r))&&(Ju(n,0,r),ha(n,t,r))}function ua(e,t,n){ca(e,t,n,$u())}function ca(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(pa(e))fa(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,a=i(l,n);if(o.hasEagerState=!0,o.eagerState=a,Xn(a,l))return Nr(e,t,o,0),null===hu&&Or(),!1}catch(e){}if(null!==(n=Pr(e,t,o,r)))return Ju(n,0,r),ha(n,t,r),!0}return!1}function da(e,t,n,r){if(r={lane:2,revertLane:Hc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},pa(e)){if(t)throw Error(l(479))}else null!==(t=Pr(e,n,r,2))&&Ju(t,0,2)}function pa(e){var t=e.alternate;return e===zi||null!==t&&t===zi}function fa(e,t){Wi=$i=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ha(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,je(e,n)}}var ma={readContext:Ro,use:dl,useCallback:Zi,useContext:Zi,useEffect:Zi,useImperativeHandle:Zi,useLayoutEffect:Zi,useInsertionEffect:Zi,useMemo:Zi,useReducer:Zi,useRef:Zi,useState:Zi,useDebugValue:Zi,useDeferredValue:Zi,useTransition:Zi,useSyncExternalStore:Zi,useId:Zi,useHostTransitionStatus:Zi,useFormState:Zi,useActionState:Zi,useOptimistic:Zi,useMemoCache:Zi,useCacheRefresh:Zi};ma.useEffectEvent=Zi;var ga={readContext:Ro,use:dl,useCallback:function(e,t){return sl().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:Gl,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Fl(4194308,4,$l.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fl(4194308,4,e,t)},useInsertionEffect:function(e,t){Fl(4,2,e,t)},useMemo:function(e,t){var n=sl();t=void 0===t?null:t;var r=e();if(Ji){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=sl();if(void 0!==n){var o=n(t);if(Ji){be(!0);try{n(t)}finally{be(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=sa.bind(null,zi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},sl().memoizedState=e},useState:function(e){var t=(e=xl(e)).queue,n=ua.bind(null,zi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Jl,useDeferredValue:function(e,t){return Ql(sl(),e,t)},useTransition:function(){var e=xl(!1);return e=Zl.bind(null,zi,e.queue,!0,!1),sl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=zi,o=sl();if(po){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===hu)throw Error(l(349));127&gu||vl(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Gl(wl.bind(null,r,i,e),[e]),r.flags|=2048,Ll(9,{destroy:void 0},bl.bind(null,r,i,n,t),null),n},useId:function(){var e=sl(),t=hu.identifierPrefix;if(po){var n=ro;t="_"+t+"R_"+(n=(no&~(1<<32-we(no)-1)).toString(32)+n),0<(n=Ki++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Xi++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:oa,useFormState:Pl,useActionState:Pl,useOptimistic:function(e){var t=sl();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=da.bind(null,zi,!0,n),n.dispatch=t,[e,t]},useMemoCache:pl,useCacheRefresh:function(){return sl().memoizedState=aa.bind(null,zi)},useEffectEvent:function(e){var t=sl(),n={impl:e};return t.memoizedState=n,function(){if(2&fu)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},ya={readContext:Ro,use:dl,useCallback:Kl,useContext:Ro,useEffect:Hl,useImperativeHandle:Wl,useInsertionEffect:Vl,useLayoutEffect:Bl,useMemo:Yl,useReducer:hl,useRef:Ul,useState:function(){return hl(fl)},useDebugValue:Jl,useDeferredValue:function(e,t){return Xl(ul(),Vi.memoizedState,e,t)},useTransition:function(){var e=hl(fl)[0],t=ul().memoizedState;return["boolean"==typeof e?e:cl(e),t]},useSyncExternalStore:yl,useId:ia,useHostTransitionStatus:oa,useFormState:Rl,useActionState:Rl,useOptimistic:function(e,t){return _l(ul(),0,e,t)},useMemoCache:pl,useCacheRefresh:la};ya.useEffectEvent=zl;var va={readContext:Ro,use:dl,useCallback:Kl,useContext:Ro,useEffect:Hl,useImperativeHandle:Wl,useInsertionEffect:Vl,useLayoutEffect:Bl,useMemo:Yl,useReducer:gl,useRef:Ul,useState:function(){return gl(fl)},useDebugValue:Jl,useDeferredValue:function(e,t){var n=ul();return null===Vi?Ql(n,e,t):Xl(n,Vi.memoizedState,e,t)},useTransition:function(){var e=gl(fl)[0],t=ul().memoizedState;return["boolean"==typeof e?e:cl(e),t]},useSyncExternalStore:yl,useId:ia,useHostTransitionStatus:oa,useFormState:Ml,useActionState:Ml,useOptimistic:function(e,t){var n=ul();return null!==Vi?_l(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:pl,useCacheRefresh:la};function ba(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}va.useEffectEvent=zl;var wa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$u(),o=bi(r);o.payload=t,null!=n&&(o.callback=n),null!==(t=wi(e,o,r))&&(Ju(t,0,r),Si(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$u(),o=bi(r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=wi(e,o,r))&&(Ju(t,0,r),Si(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$u(),r=bi(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=wi(e,r,n))&&(Ju(t,0,n),Si(t,e,n))}};function Sa(e,t,n,r,o,i,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,l):!(t.prototype&&t.prototype.isPureReactComponent&&Zn(n,r)&&Zn(o,i))}function Ea(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function xa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=f({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function _a(e){Tr(e)}function Ca(e){console.error(e)}function Ta(e){Tr(e)}function ka(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Ia(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Aa(e,t,n){return(n=bi(n)).tag=3,n.payload={element:null},n.callback=function(){ka(e,t)},n}function Oa(e){return(e=bi(e)).tag=3,e}function Na(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"==typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){Ia(t,n,r)}}var l=n.stateNode;null!==l&&"function"==typeof l.componentDidCatch&&(e.callback=function(){Ia(t,n,r),"function"!=typeof o&&(null===Mu?Mu=new Set([this]):Mu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Pa=Error(l(461)),Ra=!1;function ja(e,t,n,r){t.child=null===e?mi(t,null,n,r):hi(t,e.child,n,r)}function Da(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var l={};for(var a in r)"ref"!==a&&(l[a]=r[a])}else l=r;return Po(t),r=tl(e,t,n,l,i,o),a=il(),null===e||Ra?(po&&a&&lo(t),t.flags|=1,ja(e,t,r,o),t.child):(ll(e,t,o),os(e,t,o))}function Ma(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Fr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Hr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,La(e,t,i,r,o))}if(i=e.child,!is(e,o)){var l=i.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(l,r)&&e.ref===t.ref)return os(e,t,o)}return t.flags|=1,(e=qr(i,r)).ref=t.ref,e.return=t,t.child=e}function La(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Zn(i,r)&&e.ref===t.ref){if(Ra=!1,t.pendingProps=r=i,!is(e,o))return t.lanes=e.lanes,os(e,t,o);131072&e.flags&&(Ra=!0)}}return Va(e,t,n,r,o)}function Ua(e,t,n,r){var o=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~i}else r=0,t.child=null;return qa(e,t,i,n,r)}if(!(536870912&n))return r=t.lanes=536870912,qa(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yo(0,null!==i?i.cachePool:null),null!==i?Oi(t,i):Ni(),Li(t)}else null!==i?(Yo(0,i.cachePool),Oi(t,i),Ui(),t.memoizedState=null):(null!==e&&Yo(0,null),Ni(),Ui());return ja(e,t,o,n),t.child}function Fa(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qa(e,t,n,r,o){var i=Ko();return i=null===i?null:{parent:Fo._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Yo(0,null),Ni(),Li(t),null!==e&&Oo(e,t,r,!0),t.childLanes=o,null}function Ga(e,t){return(t=Za({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ha(e,t,n){return hi(t,e.child,null,n),(e=Ga(t,t.pendingProps)).flags|=2,Fi(t),t.memoizedState=null,e}function za(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(l(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Va(e,t,n,r,o){return Po(t),n=tl(e,t,n,r,void 0,o),r=il(),null===e||Ra?(po&&r&&lo(t),t.flags|=1,ja(e,t,n,o),t.child):(ll(e,t,o),os(e,t,o))}function Ba(e,t,n,r,o,i){return Po(t),t.updateQueue=null,n=rl(t,r,n,o),nl(e),r=il(),null===e||Ra?(po&&r&&lo(t),t.flags|=1,ja(e,t,n,i),t.child):(ll(e,t,i),os(e,t,i))}function $a(e,t,n,r,o){if(Po(t),null===t.stateNode){var i=Mr,l=n.contextType;"object"==typeof l&&null!==l&&(i=Ro(l)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=wa,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},yi(t),l=n.contextType,i.context="object"==typeof l&&null!==l?Ro(l):Mr,i.state=t.memoizedState,"function"==typeof(l=n.getDerivedStateFromProps)&&(ba(t,n,l,r),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(l=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),l!==i.state&&wa.enqueueReplaceState(i,i.state,null),Ci(t,r,i,o),_i(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var a=t.memoizedProps,s=xa(n,a);i.props=s;var u=i.context,c=n.contextType;l=Mr,"object"==typeof c&&null!==c&&(l=Ro(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(a||u!==l)&&Ea(t,i,r,l),gi=!1;var p=t.memoizedState;i.state=p,Ci(t,r,i,o),_i(),u=t.memoizedState,a||p!==u||gi?("function"==typeof d&&(ba(t,n,d,r),u=t.memoizedState),(s=gi||Sa(t,n,s,r,p,u,l))?(c||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=l,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,vi(e,t),c=xa(n,l=t.memoizedProps),i.props=c,d=t.pendingProps,p=i.context,u=n.contextType,s=Mr,"object"==typeof u&&null!==u&&(s=Ro(u)),(u="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==d||p!==s)&&Ea(t,i,r,s),gi=!1,p=t.memoizedState,i.state=p,Ci(t,r,i,o),_i();var f=t.memoizedState;l!==d||p!==f||gi||null!==e&&null!==e.dependencies&&No(e.dependencies)?("function"==typeof a&&(ba(t,n,a,r),f=t.memoizedState),(c=gi||Sa(t,n,c,r,p,f,s)||null!==e&&null!==e.dependencies&&No(e.dependencies))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,s),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,s)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=s,r=c):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,za(e,t),r=!!(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=hi(t,e.child,null,o),t.child=hi(t,null,n,o)):ja(e,t,n,o),t.memoizedState=i.state,e=t.child):e=os(e,t,o),e}function Wa(e,t,n,r){return wo(),t.flags|=256,ja(e,t,n,r),t.child}var Ja={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ka(e){return{baseLanes:e,cachePool:Qo()}}function Ya(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=ku),e}function Qa(e,t,n){var r,o=t.pendingProps,i=!1,a=!!(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&!!(2&qi.current)),r&&(i=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(po){if(i?Di(t):Ui(),(e=co)?null!==(e=null!==(e=Od(e,ho))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Br(e)).return=t,t.child=n,uo=t,co=null):e=null,null===e)throw go(t);return Pd(e)?t.lanes=32:t.lanes=536870912,null}var s=o.children;return o=o.fallback,i?(Ui(),s=Za({mode:"hidden",children:s},i=t.mode),o=zr(o,i,n,null),s.return=t,o.return=t,s.sibling=o,t.child=s,(o=t.child).memoizedState=Ka(n),o.childLanes=Ya(e,r,n),t.memoizedState=Ja,Fa(null,o)):(Di(t),Xa(t,s))}var u=e.memoizedState;if(null!==u&&null!==(s=u.dehydrated)){if(a)256&t.flags?(Di(t),t.flags&=-257,t=es(e,t,n)):null!==t.memoizedState?(Ui(),t.child=e.child,t.flags|=128,t=null):(Ui(),s=o.fallback,i=t.mode,o=Za({mode:"visible",children:o.children},i),(s=zr(s,i,n,null)).flags|=2,o.return=t,s.return=t,o.sibling=s,t.child=o,hi(t,e.child,null,n),(o=t.child).memoizedState=Ka(n),o.childLanes=Ya(e,r,n),t.memoizedState=Ja,t=Fa(null,o));else if(Di(t),Pd(s)){if(r=s.nextSibling&&s.nextSibling.dataset)var c=r.dgst;r=c,(o=Error(l(419))).stack="",o.digest=r,Eo({value:o,source:null,stack:null}),t=es(e,t,n)}else if(Ra||Oo(e,t,n,!1),r=0!==(n&e.childLanes),Ra||r){if(null!==(r=hu)&&0!==(o=De(r,n))&&o!==u.retryLane)throw u.retryLane=o,Rr(e,o),Ju(r,0,o),Pa;Nd(s)||lc(),t=es(e,t,n)}else Nd(s)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,co=Rd(s.nextSibling),uo=t,po=!0,fo=null,ho=!1,null!==e&&so(t,e),(t=Xa(t,o.children)).flags|=4096);return t}return i?(Ui(),s=o.fallback,i=t.mode,c=(u=e.child).sibling,(o=qr(u,{mode:"hidden",children:o.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?s=qr(c,s):(s=zr(s,i,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,Fa(null,o),o=t.child,null===(s=e.child.memoizedState)?s=Ka(n):(null!==(i=s.cachePool)?(u=Fo._currentValue,i=i.parent!==u?{parent:u,pool:u}:i):i=Qo(),s={baseLanes:s.baseLanes|n,cachePool:i}),o.memoizedState=s,o.childLanes=Ya(e,r,n),t.memoizedState=Ja,Fa(e.child,o)):(Di(t),e=(n=e.child).sibling,(n=qr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xa(e,t){return(t=Za({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Za(e,t){return(e=Ur(22,e,null,t)).lanes=0,e}function es(e,t,n){return hi(t,e.child,null,n),(e=Xa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ts(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function ns(e,t,n,r,o,i){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o,l.treeForkCount=i)}function rs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;r=r.children;var l=qi.current,a=!!(2&l);if(a?(l=1&l|2,t.flags|=128):l&=1,G(qi,l),ja(e,t,r,n),r=po?Xr:0,!a&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ts(e,n,t);else if(19===e.tag)ts(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Gi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ns(t,!1,o,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Gi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ns(t,!0,n,null,i,r);break;case"together":ns(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_u|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Oo(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=qr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function is(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!No(e))}function ls(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ra=!0;else{if(!(is(e,n)||128&t.flags))return Ra=!1,function(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),To(0,Fo,e.memoizedState.cache),wo();break;case 27:case 5:Y(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:To(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Mi(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Di(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Qa(e,t,n):(Di(t),null!==(e=os(e,t,n))?e.sibling:null);Di(t);break;case 19:var o=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Oo(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return rs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(qi,qi.current),r)break;return null;case 22:return t.lanes=0,Ua(e,t,n,t.pendingProps);case 24:To(0,Fo,e.memoizedState.cache)}return os(e,t,n)}(e,t,n);Ra=!!(131072&e.flags)}else Ra=!1,po&&1048576&t.flags&&io(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=oi(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var o=e.$$typeof;if(o===E){t.tag=11,t=Da(null,t,e,r,n);break e}if(o===C){t.tag=14,t=Ma(null,t,e,r,n);break e}}throw t=P(e)||e,Error(l(306,t,""))}Fr(e)?(r=xa(e,r),t.tag=1,t=$a(null,t,e,r,n)):(t.tag=0,t=Va(null,t,e,r,n))}return t;case 0:return Va(e,t,t.type,t.pendingProps,n);case 1:return $a(e,t,r=t.type,o=xa(r,t.pendingProps),n);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(l(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,vi(e,t),Ci(t,r,null,n);var a=t.memoizedState;if(r=a.cache,To(0,Fo,r),r!==i.cache&&Ao(t,[Fo],n,!0),_i(),r=a.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Wa(e,t,r,n);break e}if(r!==o){Eo(o=Jr(Error(l(424)),t)),t=Wa(e,t,r,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,co=Rd(e.firstChild),uo=t,po=!0,fo=null,ho=!0,n=mi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wo(),r===o){t=os(e,t,n);break e}ja(e,t,r,n)}t=t.child}return t;case 26:return za(e,t),null===e?(n=Bd(t.type,null,t.pendingProps,null))?t.memoizedState=n:po||(n=t.type,e=t.pendingProps,(r=gd($.current).createElement(n))[Ge]=t,r[He]=e,pd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Bd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&po&&(r=t.stateNode=Ld(t.type,t.pendingProps,$.current),uo=t,ho=!0,o=co,Td(t.type)?(jd=o,co=Rd(r.firstChild)):co=o),ja(e,t,t.pendingProps.children,n),za(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&po&&((o=r=co)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Je])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=Rd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ho))?(t.stateNode=r,uo=t,co=Rd(r.firstChild),ho=!1,o=!0):o=!1),o||go(t)),Y(t),o=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,r=i.children,bd(o,i)?r=null:null!==a&&bd(o,a)&&(t.flags|=32),null!==t.memoizedState&&(o=tl(e,t,ol,null,null,n),cp._currentValue=o),za(e,t),ja(e,t,r,n),t.child;case 6:return null===e&&po&&((e=n=co)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}(n,t.pendingProps,ho))?(t.stateNode=n,uo=t,co=null,e=!0):e=!1),e||go(t)),null;case 13:return Qa(e,t,n);case 4:return J(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=hi(t,null,r,n):ja(e,t,r,n),t.child;case 11:return Da(e,t,t.type,t.pendingProps,n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,To(0,t.type,r.value),ja(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Po(t),r=r(o=Ro(o)),t.flags|=1,ja(e,t,r,n),t.child;case 14:return Ma(e,t,t.type,t.pendingProps,n);case 15:return La(e,t,t.type,t.pendingProps,n);case 19:return rs(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,o=!!(128&t.flags);if(t.flags&=-129,null===e){if(po){if("hidden"===r.mode)return e=Ga(t,r),t.lanes=536870912,Fa(null,e);if(Mi(t),(e=co)?null!==(e=null!==(e=Od(e,ho))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Br(e)).return=t,t.child=n,uo=t,co=null):e=null,null===e)throw go(t);return t.lanes=536870912,null}return Ga(t,r)}var i=e.memoizedState;if(null!==i){var a=i.dehydrated;if(Mi(t),o)if(256&t.flags)t.flags&=-257,t=Ha(e,t,n);else{if(null===t.memoizedState)throw Error(l(558));t.child=e.child,t.flags|=128,t=null}else if(Ra||Oo(e,t,n,!1),o=0!==(n&e.childLanes),Ra||o){if(null!==(r=hu)&&0!==(a=De(r,n))&&a!==i.retryLane)throw i.retryLane=a,Rr(e,a),Ju(r,0,a),Pa;lc(),t=Ha(e,t,n)}else e=i.treeContext,co=Rd(a.nextSibling),uo=t,po=!0,fo=null,ho=!1,null!==e&&so(t,e),(t=Ga(t,r)).flags|=4096;return t}return(e=qr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ua(e,t,n,t.pendingProps);case 24:return Po(t),r=Ro(Fo),null===e?(null===(o=Ko())&&(o=hu,i=qo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},yi(t),To(0,Fo,o)):(0!==(e.lanes&n)&&(vi(e,t),Ci(t,null,null,n),_i()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),To(0,Fo,r)):(r=i.cache,To(0,Fo,r),r!==o.cache&&Ao(t,[Fo],n,!0))),ja(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function as(e){e.flags|=4}function ss(e,t,n,r,o){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!rc())throw ii=ti,Zo;e.flags|=8192}}else e.flags&=-16777217}function us(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!op(t)){if(!rc())throw ii=ti,Zo;e.flags|=8192}}function cs(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Oe():536870912,e.lanes|=t,Iu|=t)}function ds(e,t){if(!po)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ps(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fs(e,t,n){var r=t.pendingProps;switch(ao(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ps(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ko(Fo),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bo(t)?as(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,So())),ps(t),null;case 26:var o=t.type,i=t.memoizedState;return null===e?(as(t),null!==i?(ps(t),us(t,i)):(ps(t),ss(t,o,0,0,n))):i?i!==e.memoizedState?(as(t),ps(t),us(t,i)):(ps(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&as(t),ps(t),ss(t,o,0,0,n)),null;case 27:if(Q(t),n=$.current,o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&as(t);else{if(!r){if(null===t.stateNode)throw Error(l(166));return ps(t),null}e=V.current,bo(t)?yo(t):(e=Ld(o,r,n),t.stateNode=e,as(t))}return ps(t),null;case 5:if(Q(t),o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&as(t);else{if(!r){if(null===t.stateNode)throw Error(l(166));return ps(t),null}if(i=V.current,bo(t))yo(t);else{var a=gd($.current);switch(i){case 1:i=a.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=a.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=a.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=a.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":(i=a.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"==typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i="string"==typeof r.is?a.createElement(o,{is:r.is}):a.createElement(o)}}i[Ge]=t,i[He]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)i.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=i;e:switch(pd(i,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&as(t)}}return ps(t),ss(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&as(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(l(166));if(e=$.current,bo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=uo))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Ge]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||go(t,!0)}else(e=gd(e).createTextNode(r))[Ge]=t,t.stateNode=e}return ps(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bo(t),null!==n){if(null===e){if(!r)throw Error(l(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(l(557));e[Ge]=t}else wo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ps(t),e=!1}else n=So(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Fi(t),t):(Fi(t),null);if(128&t.flags)throw Error(l(558))}return ps(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=bo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(l(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(l(317));o[Ge]=t}else wo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ps(t),o=!1}else o=So(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(Fi(t),t):(Fi(t),null)}return Fi(t),128&t.flags?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool),i=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cs(t,t.updateQueue),ps(t),null);case 4:return K(),null===e&&Zc(t.stateNode.containerInfo),ps(t),null;case 10:return ko(t.type),ps(t),null;case 19:if(q(qi),null===(r=t.memoizedState))return ps(t),null;if(o=!!(128&t.flags),null===(i=r.rendering))if(o)ds(r,!1);else{if(0!==xu||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=Gi(e))){for(t.flags|=128,ds(r,!1),e=i.updateQueue,t.updateQueue=e,cs(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Gr(n,e),n=n.sibling;return G(qi,1&qi.current|2),po&&oo(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&se()>ju&&(t.flags|=128,o=!0,ds(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=Gi(i))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,cs(t,e),ds(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!po)return ps(t),null}else 2*se()-r.renderingStartTime>ju&&536870912!==n&&(t.flags|=128,o=!0,ds(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=se(),e.sibling=null,n=qi.current,G(qi,o?1&n|2:1&n),po&&oo(t,r.treeForkCount),e):(ps(t),null);case 22:case 23:return Fi(t),Pi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(ps(t),6&t.subtreeFlags&&(t.flags|=8192)):ps(t),null!==(n=t.updateQueue)&&cs(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&q(Jo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ko(Fo),ps(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}function hs(e,t){switch(ao(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ko(Fo),K(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 31:if(null!==t.memoizedState){if(Fi(t),null===t.alternate)throw Error(l(340));wo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));wo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return q(qi),null;case 4:return K(),null;case 10:return ko(t.type),null;case 22:case 23:return Fi(t),Pi(),null!==e&&q(Jo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ko(Fo),null;default:return null}}function ms(e,t){switch(ao(t),t.tag){case 3:ko(Fo),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 31:null!==t.memoizedState&&Fi(t);break;case 13:Fi(t);break;case 19:q(qi);break;case 10:ko(t.type);break;case 22:case 23:Fi(t),Pi(),null!==e&&q(Jo);break;case 24:ko(Fo)}}function gs(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,l=n.inst;r=i(),l.destroy=r}n=n.next}while(n!==o)}}catch(e){xc(t,t.return,e)}}function ys(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var l=r.inst,a=l.destroy;if(void 0!==a){l.destroy=void 0,o=t;var s=n,u=a;try{u()}catch(e){xc(o,s,e)}}}r=r.next}while(r!==i)}}catch(e){xc(t,t.return,e)}}function vs(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ki(t,n)}catch(t){xc(e,e.return,t)}}}function bs(e,t,n){n.props=xa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){xc(e,t,n)}}function ws(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){xc(e,t,n)}}function Ss(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){xc(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){xc(e,t,n)}else n.current=null}function Es(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){xc(e,e.return,t)}}function xs(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,a=null,s=null,u=null,c=null,d=null;for(h in n){var p=n[h];if(n.hasOwnProperty(h)&&null!=p)switch(h){case"checked":case"value":break;case"defaultValue":u=p;default:r.hasOwnProperty(h)||cd(e,t,h,null,r,p)}}for(var f in r){var h=r[f];if(p=n[f],r.hasOwnProperty(f)&&(null!=h||null!=p))switch(f){case"type":i=h;break;case"name":o=h;break;case"checked":c=h;break;case"defaultChecked":d=h;break;case"value":a=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(l(137,t));break;default:h!==p&&cd(e,t,f,h,r,p)}}return void vt(e,a,s,u,c,d,i,o);case"select":for(i in h=a=s=f=null,n)if(u=n[i],n.hasOwnProperty(i)&&null!=u)switch(i){case"value":break;case"multiple":h=u;default:r.hasOwnProperty(i)||cd(e,t,i,null,r,u)}for(o in r)if(i=r[o],u=n[o],r.hasOwnProperty(o)&&(null!=i||null!=u))switch(o){case"value":f=i;break;case"defaultValue":s=i;break;case"multiple":a=i;default:i!==u&&cd(e,t,o,i,r,u)}return t=s,n=a,r=h,void(null!=f?St(e,!!n,f,!1):!!r!=!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(s in h=f=null,n)if(o=n[s],n.hasOwnProperty(s)&&null!=o&&!r.hasOwnProperty(s))switch(s){case"value":case"children":break;default:cd(e,t,s,null,r,o)}for(a in r)if(o=r[a],i=n[a],r.hasOwnProperty(a)&&(null!=o||null!=i))switch(a){case"value":f=o;break;case"defaultValue":h=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(l(91));break;default:o!==i&&cd(e,t,a,o,r,i)}return void Et(e,f,h);case"option":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&("selected"===m?e.selected=!1:cd(e,t,m,null,r,f));for(u in r)f=r[u],h=n[u],!r.hasOwnProperty(u)||f===h||null==f&&null==h||("selected"===u?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:cd(e,t,u,f,r,h));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&cd(e,t,g,null,r,f);for(c in r)if(f=r[c],h=n[c],r.hasOwnProperty(c)&&f!==h&&(null!=f||null!=h))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(l(137,t));break;default:cd(e,t,c,f,r,h)}return;default:if(It(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&dd(e,t,y,void 0,r,f);for(d in r)f=r[d],h=n[d],!r.hasOwnProperty(d)||f===h||void 0===f&&void 0===h||dd(e,t,d,f,r,h);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&cd(e,t,v,null,r,f);for(p in r)f=r[p],h=n[p],!r.hasOwnProperty(p)||f===h||null==f&&null==h||cd(e,t,p,f,r,h)}(r,e.type,n,t),r[He]=t}catch(t){xc(e,e.return,t)}}function _s(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Td(e.type)||4===e.tag}function Cs(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_s(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Td(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ts(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Pt));else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function ks(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function Is(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);pd(t,r,n),t[Ge]=e,t[He]=n}catch(t){xc(e,e.return,t)}}var As=!1,Os=!1,Ns=!1,Ps="function"==typeof WeakSet?WeakSet:Set,Rs=null;function js(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Js(e,n),4&r&&gs(5,n);break;case 1:if(Js(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){xc(n,n.return,e)}else{var o=xa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){xc(n,n.return,e)}}64&r&&vs(n),512&r&&ws(n,n.return);break;case 3:if(Js(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ki(e,t)}catch(e){xc(n,n.return,e)}}break;case 27:null===t&&4&r&&Is(n);case 26:case 5:Js(e,n),null===t&&4&r&&Es(n),512&r&&ws(n,n.return);break;case 12:Js(e,n);break;case 31:Js(e,n),4&r&&qs(e,n);break;case 13:Js(e,n),4&r&&Gs(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=kc.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||As)){t=null!==t&&null!==t.memoizedState||Os,o=As;var i=Os;As=r,(Os=t)&&!i?Ys(e,n,!!(8772&n.subtreeFlags)):Js(e,n),As=o,Os=i}break;case 30:break;default:Js(e,n)}}function Ds(e){var t=e.alternate;null!==t&&(e.alternate=null,Ds(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Ke(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ms=null,Ls=!1;function Us(e,t,n){for(n=n.child;null!==n;)Fs(e,t,n),n=n.sibling}function Fs(e,t,n){if(ve&&"function"==typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(e){}switch(n.tag){case 26:Os||Ss(n,t),Us(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Os||Ss(n,t);var r=Ms,o=Ls;Td(n.type)&&(Ms=n.stateNode,Ls=!1),Us(e,t,n),Ud(n.stateNode),Ms=r,Ls=o;break;case 5:Os||Ss(n,t);case 6:if(r=Ms,o=Ls,Ms=null,Us(e,t,n),Ls=o,null!==(Ms=r))if(Ls)try{(9===Ms.nodeType?Ms.body:"HTML"===Ms.nodeName?Ms.ownerDocument.body:Ms).removeChild(n.stateNode)}catch(e){xc(n,t,e)}else try{Ms.removeChild(n.stateNode)}catch(e){xc(n,t,e)}break;case 18:null!==Ms&&(Ls?(kd(9===(e=Ms).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vp(e)):kd(Ms,n.stateNode));break;case 4:r=Ms,o=Ls,Ms=n.stateNode.containerInfo,Ls=!0,Us(e,t,n),Ms=r,Ls=o;break;case 0:case 11:case 14:case 15:ys(2,n,t),Os||ys(4,n,t),Us(e,t,n);break;case 1:Os||(Ss(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&bs(n,t,r)),Us(e,t,n);break;case 21:Us(e,t,n);break;case 22:Os=(r=Os)||null!==n.memoizedState,Us(e,t,n),Os=r;break;default:Us(e,t,n)}}function qs(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)){e=e.dehydrated;try{Vp(e)}catch(e){xc(t,t.return,e)}}}function Gs(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Vp(e)}catch(e){xc(t,t.return,e)}}function Hs(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ps),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ps),t;default:throw Error(l(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Ic.bind(null,e,t);t.then(r,r)}})}function zs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,a=t,s=a;e:for(;null!==s;){switch(s.tag){case 27:if(Td(s.type)){Ms=s.stateNode,Ls=!1;break e}break;case 5:Ms=s.stateNode,Ls=!1;break e;case 3:case 4:Ms=s.stateNode.containerInfo,Ls=!0;break e}s=s.return}if(null===Ms)throw Error(l(160));Fs(i,a,o),Ms=null,Ls=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Bs(t,e),t=t.sibling}var Vs=null;function Bs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zs(t,e),$s(e),4&r&&(ys(3,e,e.return),gs(3,e),ys(5,e,e.return));break;case 1:zs(t,e),$s(e),512&r&&(Os||null===n||Ss(n,n.return)),64&r&&As&&null!==(e=e.updateQueue)&&null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r));break;case 26:var o=Vs;if(zs(t,e),$s(e),512&r&&(Os||null===n||Ss(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[Je]||i[Ge]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),pd(i,r,n),i[Ge]=e,et(i),r=i;break e;case"link":var a=np("link","href",o).get(r+(n.href||""));if(a)for(var s=0;s<a.length;s++)if((i=a[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(s,1);break t}pd(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(a=np("meta","content",o).get(r+(n.content||"")))for(s=0;s<a.length;s++)if((i=a[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(s,1);break t}pd(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(l(468,r))}i[Ge]=e,et(i),r=i}e.stateNode=r}else rp(o,e.type,e.stateNode);else e.stateNode=Qd(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?rp(o,e.type,e.stateNode):Qd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&xs(e,e.memoizedProps,n.memoizedProps)}break;case 27:zs(t,e),$s(e),512&r&&(Os||null===n||Ss(n,n.return)),null!==n&&4&r&&xs(e,e.memoizedProps,n.memoizedProps);break;case 5:if(zs(t,e),$s(e),512&r&&(Os||null===n||Ss(n,n.return)),32&e.flags){o=e.stateNode;try{_t(o,"")}catch(t){xc(e,e.return,t)}}4&r&&null!=e.stateNode&&xs(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(Ns=!0);break;case 6:if(zs(t,e),$s(e),4&r){if(null===e.stateNode)throw Error(l(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){xc(e,e.return,t)}}break;case 3:if(tp=null,o=Vs,Vs=Gd(t.containerInfo),zs(t,e),Vs=o,$s(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vp(t.containerInfo)}catch(t){xc(e,e.return,t)}Ns&&(Ns=!1,Ws(e));break;case 4:r=Vs,Vs=Gd(e.stateNode.containerInfo),zs(t,e),$s(e),Vs=r;break;case 12:default:zs(t,e),$s(e);break;case 31:case 19:zs(t,e),$s(e),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,Hs(e,r));break;case 13:zs(t,e),$s(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Pu=se()),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,Hs(e,r));break;case 22:o=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=As,d=Os;if(As=c||o,Os=d||u,zs(t,e),Os=d,As=c,$s(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||u||As||Os||Ks(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,o)"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{s=u.stateNode;var p=u.memoizedProps.style,f=null!=p&&p.hasOwnProperty("display")?p.display:null;s.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){xc(u,u.return,e)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=o?"":u.memoizedProps}catch(e){xc(u,u.return,e)}}}else if(18===t.tag){if(null===n){u=t;try{var h=u.stateNode;o?Id(h,!0):Id(u.stateNode,!1)}catch(e){xc(u,u.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&null!==(r=e.updateQueue)&&null!==(n=r.retryQueue)&&(r.retryQueue=null,Hs(e,n));case 30:case 21:}}function $s(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(_s(r)){n=r;break}r=r.return}if(null==n)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode;ks(e,Cs(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(_t(i,""),n.flags&=-33),ks(e,Cs(e),i);break;case 3:case 4:var a=n.stateNode.containerInfo;Ts(e,Cs(e),a);break;default:throw Error(l(161))}}catch(t){xc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ws(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ws(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Js(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)js(e,t.alternate,t),t=t.sibling}function Ks(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ys(4,t,t.return),Ks(t);break;case 1:Ss(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&bs(t,t.return,n),Ks(t);break;case 27:Ud(t.stateNode);case 26:case 5:Ss(t,t.return),Ks(t);break;case 22:null===t.memoizedState&&Ks(t);break;default:Ks(t)}e=e.sibling}}function Ys(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:Ys(o,i,n),gs(4,i);break;case 1:if(Ys(o,i,n),"function"==typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(e){xc(r,r.return,e)}if(null!==(o=(r=i).updateQueue)){var a=r.stateNode;try{var s=o.shared.hiddenCallbacks;if(null!==s)for(o.shared.hiddenCallbacks=null,o=0;o<s.length;o++)Ti(s[o],a)}catch(e){xc(r,r.return,e)}}n&&64&l&&vs(i),ws(i,i.return);break;case 27:Is(i);case 26:case 5:Ys(o,i,n),n&&null===r&&4&l&&Es(i),ws(i,i.return);break;case 12:Ys(o,i,n);break;case 31:Ys(o,i,n),n&&4&l&&qs(o,i);break;case 13:Ys(o,i,n),n&&4&l&&Gs(o,i);break;case 22:null===i.memoizedState&&Ys(o,i,n),ws(i,i.return);break;case 30:break;default:Ys(o,i,n)}t=t.sibling}}function Qs(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Go(n))}function Xs(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Go(e))}function Zs(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)eu(e,t,n,r),t=t.sibling}function eu(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Zs(e,t,n,r),2048&o&&gs(9,t);break;case 1:case 31:case 13:default:Zs(e,t,n,r);break;case 3:Zs(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Go(e)));break;case 12:if(2048&o){Zs(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,a=i.onPostCommit;"function"==typeof a&&a(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){xc(t,t.return,e)}}else Zs(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,null!==t.memoizedState?2&i._visibility?Zs(e,t,n,r):nu(e,t):2&i._visibility?Zs(e,t,n,r):(i._visibility|=2,tu(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&o&&Qs(l,t);break;case 24:Zs(e,t,n,r),2048&o&&Xs(t.alternate,t)}}function tu(e,t,n,r,o){for(o=o&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,l=t,a=n,s=r,u=l.flags;switch(l.tag){case 0:case 11:case 15:tu(i,l,a,s,o),gs(8,l);break;case 23:break;case 22:var c=l.stateNode;null!==l.memoizedState?2&c._visibility?tu(i,l,a,s,o):nu(i,l):(c._visibility|=2,tu(i,l,a,s,o)),o&&2048&u&&Qs(l.alternate,l);break;case 24:tu(i,l,a,s,o),o&&2048&u&&Xs(l.alternate,l);break;default:tu(i,l,a,s,o)}t=t.sibling}}function nu(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:nu(n,r),2048&o&&Qs(r.alternate,r);break;case 24:nu(n,r),2048&o&&Xs(r.alternate,r);break;default:nu(n,r)}t=t.sibling}}var ru=8192;function ou(e,t,n){if(e.subtreeFlags&ru)for(e=e.child;null!==e;)iu(e,t,n),e=e.sibling}function iu(e,t,n){switch(e.tag){case 26:ou(e,t,n),e.flags&ru&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var o=$d(r.href),i=t.querySelector(Wd(o));if(i)return null!==(t=i._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=lp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void et(i);i=t.ownerDocument||t,r=Jd(r),(o=Fd.get(o))&&Zd(r,o),et(i=i.createElement("link"));var l=i;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),pd(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=lp.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vs,e.memoizedState,e.memoizedProps);break;case 5:default:ou(e,t,n);break;case 3:case 4:var r=Vs;Vs=Gd(e.stateNode.containerInfo),ou(e,t,n),Vs=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ru,ru=16777216,ou(e,t,n),ru=r):ou(e,t,n))}}function lu(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function au(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rs=r,cu(r,e)}lu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)su(e),e=e.sibling}function su(e){switch(e.tag){case 0:case 11:case 15:au(e),2048&e.flags&&ys(9,e,e.return);break;case 3:case 12:default:au(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uu(e)):au(e)}}function uu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rs=r,cu(r,e)}lu(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ys(8,t,t.return),uu(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uu(t));break;default:uu(t)}e=e.sibling}}function cu(e,t){for(;null!==Rs;){var n=Rs;switch(n.tag){case 0:case 11:case 15:ys(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Go(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Rs=r;else e:for(n=e;null!==Rs;){var o=(r=Rs).sibling,i=r.return;if(Ds(r),r===n){Rs=null;break e}if(null!==o){o.return=i,Rs=o;break e}Rs=i}}}var du={getCacheForType:function(e){var t=Ro(Fo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ro(Fo).controller.signal}},pu="function"==typeof WeakMap?WeakMap:Map,fu=0,hu=null,mu=null,gu=0,yu=0,vu=null,bu=!1,wu=!1,Su=!1,Eu=0,xu=0,_u=0,Cu=0,Tu=0,ku=0,Iu=0,Au=null,Ou=null,Nu=!1,Pu=0,Ru=0,ju=1/0,Du=null,Mu=null,Lu=0,Uu=null,Fu=null,qu=0,Gu=0,Hu=null,zu=null,Vu=0,Bu=null;function $u(){return 2&fu&&0!==gu?gu&-gu:null!==j.T?Hc():Ue()}function Wu(){if(0===ku)if(536870912&gu&&!po)ku=536870912;else{var e=_e;!(3932160&(_e<<=1))&&(_e=262144),ku=e}return null!==(e=Ri.current)&&(e.flags|=32),ku}function Ju(e,t,n){(e!==hu||2!==yu&&9!==yu)&&null===e.cancelPendingCommit||(tc(e,0),Xu(e,gu,ku,!1)),Pe(e,n),2&fu&&e===hu||(e===hu&&(!(2&fu)&&(Cu|=n),4===xu&&Xu(e,gu,ku,!1)),Dc(e))}function Ku(e,t,n){if(6&fu)throw Error(l(327));for(var r=!n&&!(127&t)&&0===(t&e.expiredLanes)||Ie(e,t),o=r?function(e,t){var n=fu;fu|=2;var r=oc(),o=ic();hu!==e||gu!==t?(Du=null,ju=se()+500,tc(e,t)):wu=Ie(e,t);e:for(;;)try{if(0!==yu&&null!==mu){t=mu;var i=vu;t:switch(yu){case 1:yu=0,vu=null,pc(e,t,i,1);break;case 2:case 9:if(ni(i)){yu=0,vu=null,dc(t);break}t=function(){2!==yu&&9!==yu||hu!==e||(yu=7),Dc(e)},i.then(t,t);break e;case 3:yu=7;break e;case 4:yu=5;break e;case 7:ni(i)?(yu=0,vu=null,dc(t)):(yu=0,vu=null,pc(e,t,i,7));break;case 5:var a=null;switch(mu.tag){case 26:a=mu.memoizedState;case 5:case 27:var s=mu;if(a?op(a):s.stateNode.complete){yu=0,vu=null;var u=s.sibling;if(null!==u)mu=u;else{var c=s.return;null!==c?(mu=c,fc(c)):mu=null}break t}}yu=0,vu=null,pc(e,t,i,5);break;case 6:yu=0,vu=null,pc(e,t,i,6);break;case 8:ec(),xu=6;break e;default:throw Error(l(462))}}uc();break}catch(t){nc(e,t)}return Co=_o=null,j.H=r,j.A=o,fu=n,null!==mu?0:(hu=null,gu=0,Or(),xu)}(e,t):ac(e,t,!0),i=r;;){if(0===o){wu&&!r&&Xu(e,t,0,!1);break}if(n=e.current.alternate,!i||Qu(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var a=0;else a=0!=(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var s=e;o=Au;var u=s.current.memoizedState.isDehydrated;if(u&&(tc(s,a).flags|=256),2!==(a=ac(s,a,!1))){if(Su&&!u){s.errorRecoveryDisabledLanes|=i,Cu|=i,o=4;break e}i=Ou,Ou=o,null!==i&&(null===Ou?Ou=i:Ou.push.apply(Ou,i))}o=a}if(i=!1,2!==o)continue}}if(1===o){tc(e,0),Xu(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:Xu(r,t,ku,!bu);break e;case 2:Ou=null;break;case 3:case 5:break;default:throw Error(l(329))}if((62914560&t)===t&&10<(o=Pu+300-se())){if(Xu(r,t,ku,!bu),0!==ke(r,0,!0))break e;qu=t,r.timeoutHandle=Sd(Yu.bind(null,r,n,Ou,Du,Nu,t,ku,Cu,Iu,bu,i,"Throttled",-0,0),o)}else Yu(r,n,Ou,Du,Nu,t,ku,Cu,Iu,bu,i,null,-0,0)}break}o=ac(e,t,!1),i=!1}Dc(e)}function Yu(e,t,n,r,o,i,l,a,s,u,c,d,p,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){iu(t,i,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt});var h=(62914560&i)===i?Pu-se():(4194048&i)===i?Ru-se():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&sp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&sp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ip&&(ip=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],i=o.transferSize,l=o.initiatorType,a=o.duration;if(i&&a&&fd(l)){for(l=0,a=o.responseEnd,r+=1;r<n.length;r++){var s=n[r],u=s.startTime;if(u>a)break;var c=s.transferSize,d=s.initiatorType;c&&fd(d)&&(l+=c*((s=s.responseEnd)<a?1:(a-u)/(s-u)))}if(--r,t+=8*(i+l)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&sp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ip?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(d,h)))return qu=i,e.cancelPendingCommit=h(mc.bind(null,e,t,i,n,r,o,l,a,s,c,d,null,p,f)),void Xu(e,i,l,!u)}mc(e,t,i,n,r,o,l,a,s)}function Qu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Xn(i(),o))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xu(e,t,n,r){t&=~Tu,t&=~Cu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-we(o),l=1<<i;r[i]=-1,o&=~l}0!==n&&Re(e,n,t)}function Zu(){return!!(6&fu)||(Mc(0,!1),!1)}function ec(){if(null!==mu){if(0===yu)var e=mu.return;else Co=_o=null,al(e=mu),si=null,ui=0,e=mu;for(;null!==e;)ms(e.alternate,e),e=e.return;mu=null}}function tc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Ed(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),qu=0,ec(),hu=e,mu=n=qr(e.current,null),gu=t,yu=0,vu=null,bu=!1,wu=Ie(e,t),Su=!1,Iu=ku=Tu=Cu=_u=xu=0,Ou=Au=null,Nu=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-we(r),i=1<<o;t|=e[o],r&=~i}return Eu=t,Or(),n}function nc(e,t){zi=null,j.H=ma,t===Xo||t===ei?(t=li(),yu=3):t===Zo?(t=li(),yu=4):yu=t===Pa?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,vu=t,null===mu&&(xu=1,ka(e,Jr(t,e.current)))}function rc(){var e=Ri.current;return null===e||((4194048&gu)===gu?null===ji:!!((62914560&gu)===gu||536870912&gu)&&e===ji)}function oc(){var e=j.H;return j.H=ma,null===e?ma:e}function ic(){var e=j.A;return j.A=du,e}function lc(){xu=4,bu||(4194048&gu)!==gu&&null!==Ri.current||(wu=!0),!(134217727&_u)&&!(134217727&Cu)||null===hu||Xu(hu,gu,ku,!1)}function ac(e,t,n){var r=fu;fu|=2;var o=oc(),i=ic();hu===e&&gu===t||(Du=null,tc(e,t)),t=!1;var l=xu;e:for(;;)try{if(0!==yu&&null!==mu){var a=mu,s=vu;switch(yu){case 8:ec(),l=6;break e;case 3:case 2:case 9:case 6:null===Ri.current&&(t=!0);var u=yu;if(yu=0,vu=null,pc(e,a,s,u),n&&wu){l=0;break e}break;default:u=yu,yu=0,vu=null,pc(e,a,s,u)}}sc(),l=xu;break}catch(t){nc(e,t)}return t&&e.shellSuspendCounter++,Co=_o=null,fu=r,j.H=o,j.A=i,null===mu&&(hu=null,gu=0,Or()),l}function sc(){for(;null!==mu;)cc(mu)}function uc(){for(;null!==mu&&!le();)cc(mu)}function cc(e){var t=ls(e.alternate,e,Eu);e.memoizedProps=e.pendingProps,null===t?fc(e):mu=t}function dc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ba(n,t,t.pendingProps,t.type,void 0,gu);break;case 11:t=Ba(n,t,t.pendingProps,t.type.render,t.ref,gu);break;case 5:al(t);default:ms(n,t),t=ls(n,t=mu=Gr(t,Eu),Eu)}e.memoizedProps=e.pendingProps,null===t?fc(e):mu=t}function pc(e,t,n,r){Co=_o=null,al(t),si=null,ui=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Oo(t,n,o,!0),null!==(n=Ri.current)){switch(n.tag){case 31:case 13:return null===ji?lc():null===n.alternate&&0===xu&&(xu=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===ti?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),_c(e,r,o)),!1;case 22:return n.flags|=65536,r===ti?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),_c(e,r,o)),!1}throw Error(l(435,n.tag))}return _c(e,r,o),lc(),!1}if(po)return null!==(t=Ri.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==mo&&Eo(Jr(e=Error(l(422),{cause:r}),n))):(r!==mo&&Eo(Jr(t=Error(l(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Jr(r,n),Ei(e,o=Aa(e.stateNode,r,o)),4!==xu&&(xu=2)),!1;var i=Error(l(520),{cause:r});if(i=Jr(i,n),null===Au?Au=[i]:Au.push(i),4!==xu&&(xu=2),null===t)return!0;r=Jr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,Ei(n,e=Aa(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==Mu&&Mu.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Na(o=Oa(o),e,n,r),Ei(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,gu))return xu=1,ka(e,Jr(n,e.current)),void(mu=null)}catch(t){if(null!==o)throw mu=o,t;return xu=1,ka(e,Jr(n,e.current)),void(mu=null)}32768&t.flags?(po||1===r?e=!0:wu||536870912&gu?e=!1:(bu=e=!0,(2===r||9===r||3===r||6===r)&&null!==(r=Ri.current)&&13===r.tag&&(r.flags|=16384)),hc(t,e)):fc(t)}function fc(e){var t=e;do{if(32768&t.flags)return void hc(t,bu);e=t.return;var n=fs(t.alternate,t,Eu);if(null!==n)return void(mu=n);if(null!==(t=t.sibling))return void(mu=t);mu=t=e}while(null!==t);0===xu&&(xu=5)}function hc(e,t){do{var n=hs(e.alternate,e);if(null!==n)return n.flags&=32767,void(mu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mu=e);mu=e=n}while(null!==e);xu=6,mu=null}function mc(e,t,n,r,o,i,a,s,u){e.cancelPendingCommit=null;do{wc()}while(0!==Lu);if(6&fu)throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(n=l&~n;0<n;){var c=31-we(n),d=1<<c;a[c]=0,s[c]=-1;var p=u[c];if(null!==p)for(u[c]=null,c=0;c<p.length;c++){var f=p[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Re(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(l&~t))}(e,n,i|=Ar,a,s,u),e===hu&&(mu=hu=null,gu=0),Fu=t,Uu=e,qu=n,Gu=i,Hu=o,zu=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,oe(pe,function(){return Sc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=j.T,j.T=null,o=D.p,D.p=2,a=fu,fu|=4;try{!function(e,t){if(e=e.containerInfo,hd=bp,or(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break e}var a=0,s=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==o&&3!==p.nodeType||(s=a+o),p!==i||0!==r&&3!==p.nodeType||(u=a+r),3===p.nodeType&&(a+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===o&&(s=a),f===i&&++d===r&&(u=a),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},bp=!1,Rs=t;null!==Rs;)if(e=(t=Rs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Rs=e;else for(;null!==Rs;){switch(i=(t=Rs).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(o=e[n]).ref.impl=o.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=xa(n.type,o);e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){xc(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,Rs=e;break}Rs=t.return}}(e,t)}finally{fu=a,D.p=o,j.T=r}}Lu=1,gc(),yc(),vc()}}function gc(){if(1===Lu){Lu=0;var e=Uu,t=Fu,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=j.T,j.T=null;var r=D.p;D.p=2;var o=fu;fu|=4;try{Bs(t,e);var i=md,l=rr(e.containerInfo),a=i.focusedElem,s=i.selectionRange;if(l!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==s&&or(a)){var u=s.start,c=s.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var d=a.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var f=p.getSelection(),h=a.textContent.length,m=Math.min(s.start,h),g=void 0===s.end?m:Math.min(s.end,h);!f.extend&&m>g&&(l=g,g=m,m=l);var y=tr(a,m),v=tr(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<d.length;a++){var w=d[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}bp=!!hd,md=hd=null}finally{fu=o,D.p=r,j.T=n}}e.current=t,Lu=2}}function yc(){if(2===Lu){Lu=0;var e=Uu,t=Fu,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=j.T,j.T=null;var r=D.p;D.p=2;var o=fu;fu|=4;try{js(e,t.alternate,t)}finally{fu=o,D.p=r,j.T=n}}Lu=3}}function vc(){if(4===Lu||3===Lu){Lu=0,ae();var e=Uu,t=Fu,n=qu,r=zu;10256&t.subtreeFlags||10256&t.flags?Lu=5:(Lu=0,Fu=Uu=null,bc(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Mu=null),Le(n),t=t.stateNode,ve&&"function"==typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=j.T,o=D.p,D.p=2,j.T=null;try{for(var i=e.onRecoverableError,l=0;l<r.length;l++){var a=r[l];i(a.value,{componentStack:a.stack})}}finally{j.T=t,D.p=o}}3&qu&&wc(),Dc(e),o=e.pendingLanes,261930&n&&42&o?e===Bu?Vu++:(Vu=0,Bu=e):Vu=0,Mc(0,!1)}}function bc(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Go(t))}function wc(){return gc(),yc(),vc(),Sc()}function Sc(){if(5!==Lu)return!1;var e=Uu,t=Gu;Gu=0;var n=Le(qu),r=j.T,o=D.p;try{D.p=32>n?32:n,j.T=null,n=Hu,Hu=null;var i=Uu,a=qu;if(Lu=0,Fu=Uu=null,qu=0,6&fu)throw Error(l(331));var s=fu;if(fu|=4,su(i.current),eu(i,i.current,a,n),fu=s,Mc(0,!1),ve&&"function"==typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,i)}catch(e){}return!0}finally{D.p=o,j.T=r,bc(e,t)}}function Ec(e,t,n){t=Jr(n,t),null!==(e=wi(e,t=Aa(e.stateNode,t,2),2))&&(Pe(e,2),Dc(e))}function xc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Mu||!Mu.has(r))){e=Jr(n,e),null!==(r=wi(t,n=Oa(2),2))&&(Na(n,r,t,e),Pe(r,2),Dc(r));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pu;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(Su=!0,o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,hu===e&&(gu&n)===n&&(4===xu||3===xu&&(62914560&gu)===gu&&300>se()-Pu?!(2&fu)&&tc(e,0):Tu|=n,Iu===gu&&(Iu=0)),Dc(e)}function Tc(e,t){0===t&&(t=Oe()),null!==(e=Rr(e,t))&&(Pe(e,t),Dc(e))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==r&&r.delete(t),Tc(e,n)}var Ac=null,Oc=null,Nc=!1,Pc=!1,Rc=!1,jc=0;function Dc(e){e!==Oc&&null===e.next&&(null===Oc?Ac=Oc=e:Oc=Oc.next=e),Pc=!0,Nc||(Nc=!0,_d(function(){6&fu?oe(ce,Lc):Uc()}))}function Mc(e,t){if(!Rc&&Pc){Rc=!0;do{for(var n=!1,r=Ac;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var l=r.suspendedLanes,a=r.pingedLanes;i=(1<<31-we(42|e)+1)-1,i=201326741&(i&=o&~(l&~a))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Gc(r,i))}else i=gu,!(3&(i=ke(r,r===hu?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ie(r,i)||(n=!0,Gc(r,i));r=r.next}}while(n);Rc=!1}}function Lc(){Uc()}function Uc(){Pc=Nc=!1;var e,t=0;0!==jc&&((e=window.event)&&"popstate"===e.type?e!==wd&&(wd=e,1):(wd=null,0))&&(t=jc);for(var n=se(),r=null,o=Ac;null!==o;){var i=o.next,l=Fc(o,n);0===l?(o.next=null,null===r?Ac=i:r.next=i,null===i&&(Oc=r)):(r=o,(0!==t||3&l)&&(Pc=!0)),o=i}0!==Lu&&5!==Lu||Mc(t,!1),0!==jc&&(jc=0)}function Fc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var l=31-we(i),a=1<<l,s=o[l];-1===s?0!==(a&n)&&0===(a&r)||(o[l]=Ae(a,t)):s<=t&&(e.expiredLanes|=a),i&=~a}if(n=gu,n=ke(e,e===(t=hu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yu||9===yu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ie(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=pe;break;case 268435456:n=he}return r=qc.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function qc(e,t){if(0!==Lu&&5!==Lu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=gu;return 0===(r=ke(e,e===hu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Ku(e,r,t),Fc(e,se()),null!=e.callbackNode&&e.callbackNode===n?qc.bind(null,e):null)}function Gc(e,t){if(wc())return null;Ku(e,t,!0)}function Hc(){if(0===jc){var e=Vo;0===e&&(e=xe,!(261888&(xe<<=1))&&(xe=256)),jc=e}return jc}function zc(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Nt(""+e)}function Vc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Bc=0;Bc<_r.length;Bc++){var $c=_r[Bc];Cr($c.toLowerCase(),"on"+($c[0].toUpperCase()+$c.slice(1)))}Cr(gr,"onAnimationEnd"),Cr(yr,"onAnimationIteration"),Cr(vr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(br,"onTransitionRun"),Cr(wr,"onTransitionStart"),Cr(Sr,"onTransitionCancel"),Cr(Er,"onTransitionEnd"),ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wc));function Kc(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var a=r[l],s=a.instance,u=a.currentTarget;if(a=a.listener,s!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=u;try{i(o)}catch(e){Tr(e)}o.currentTarget=null,i=s}else for(l=0;l<r.length;l++){if(s=(a=r[l]).instance,u=a.currentTarget,a=a.listener,s!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=u;try{i(o)}catch(e){Tr(e)}o.currentTarget=null,i=s}}}}function Yc(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function Qc(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Zc(e){if(!e[Xc]){e[Xc]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Jc.has(t)||Qc(t,!1,e),Qc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xc]||(t[Xc]=!0,Qc("selectionchange",!1,t))}}function ed(e,t,n,r){switch(Tp(t)){case 2:var o=wp;break;case 8:o=Sp;break;default:o=Ep}n=o.bind(null,t,n,e),o=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function td(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var a=r.stateNode.containerInfo;if(a===o)break;if(4===l)for(l=r.return;null!==l;){var u=l.tag;if((3===u||4===u)&&l.stateNode.containerInfo===o)return;l=l.return}for(;null!==a;){if(null===(l=Ye(a)))return;if(5===(u=l.tag)||6===u||26===u||27===u){r=i=l;continue e}a=a.parentNode}}r=r.return}Ft(function(){var r=i,o=jt(n),l=[];e:{var a=xr.get(e);if(void 0!==a){var u=nn,c=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":u=vn;break;case"focusin":c="focus",u=un;break;case"focusout":c="blur",u=un;break;case"beforeblur":case"afterblur":u=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=wn;break;case gr:case yr:case vr:u=cn;break;case Er:u=Sn;break;case"scroll":case"scrollend":u=on;break;case"wheel":u=En;break;case"copy":case"cut":case"paste":u=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=bn;break;case"toggle":case"beforetoggle":u=xn}var d=!!(4&t),p=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var h,m=r;null!==m;){var g=m;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===f||null!=(g=qt(m,f))&&d.push(nd(m,g,h)),p)break;m=m.return}0<d.length&&(a=new u(a,c,null,n,o),l.push({event:a,listeners:d}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Rt||!(c=n.relatedTarget||n.fromElement)||!Ye(c)&&!c[ze])&&(u||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ye(c):null)&&(p=s(c),d=c.tag,c!==p||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=an,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),p=null==u?a:Xe(u),h=null==c?a:Xe(c),(a=new d(g,m+"leave",u,n,o)).target=p,a.relatedTarget=h,g=null,Ye(o)===r&&((d=new d(f,m+"enter",c,n,o)).target=h,d.relatedTarget=p,g=d),p=g,u&&c)e:{for(d=od,m=c,h=0,g=f=u;g;g=d(g))h++;g=0;for(var y=m;y;y=d(y))g++;for(;0<h-g;)f=d(f),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==u&&id(l,a,u,d,!1),null!==c&&null!==p&&id(l,p,c,d,!0)}if("select"===(u=(a=r?Xe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var v=Gn;else if(Dn(a))if(Hn)v=Qn;else{v=Kn;var b=Jn}else!(u=a.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&It(r.elementType)&&(v=Gn):v=Yn;switch(v&&(v=v(e,r))?Mn(l,v,n,o):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&wt(a,"number",a.value)),b=r?Xe(r):window,e){case"focusin":(Dn(b)||"true"===b.contentEditable)&&(lr=b,ar=r,sr=null);break;case"focusout":sr=ar=lr=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,cr(l,n,o);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":cr(l,n,o)}var w;if(Cn)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Rn?Nn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(In&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==S?"onCompositionEnd"===S&&Rn&&(w=Wt()):(Bt="value"in(Vt=o)?Vt.value:Vt.textContent,Rn=!0)),0<(b=rd(r,S)).length&&(S=new pn(S,e,null,n,o),l.push({event:S,listeners:b}),(w||null!==(w=Pn(n)))&&(S.data=w))),(w=kn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(On=!0,An);case"textInput":return(e=t.data)===An&&On?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Cn&&Nn(e,t)?(e=Wt(),$t=Bt=Vt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(S=rd(r,"onBeforeInput")).length&&(b=new pn("onBeforeInput","beforeinput",null,n,o),l.push({event:b,listeners:S}),b.data=w),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=zc((o[He]||null).action),l=r.submitter;l&&null!==(t=(t=l[He]||null)?zc(t.formAction):l.getAttribute("formAction"))&&(i=t,l=null);var a=new nn("action","action",null,r,o);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==jc){var e=l?Vc(o,l):new FormData(o);ta(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"==typeof i&&(a.preventDefault(),e=l?Vc(o,l):new FormData(o),ta(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(l,e,r,n,o)}Kc(l,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=qt(e,n))&&r.unshift(nd(e,o,i)),null!=(o=qt(e,t))&&r.push(nd(e,o,i))),3===e.tag)return r;e=e.return}return[]}function od(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function id(e,t,n,r,o){for(var i=t._reactName,l=[];null!==n&&n!==r;){var a=n,s=a.alternate,u=a.stateNode;if(a=a.tag,null!==s&&s===r)break;5!==a&&26!==a&&27!==a||null===u||(s=u,o?null!=(u=qt(n,i))&&l.unshift(nd(n,u,s)):o||null!=(u=qt(n,i))&&l.push(nd(n,u,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var ld=/\r\n?/g,ad=/\u0000|\uFFFD/g;function sd(e){return("string"==typeof e?e:""+e).replace(ld,"\n").replace(ad,"")}function ud(e,t){return t=sd(t),sd(e)===t}function cd(e,t,n,r,o,i){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":ut(e,"class",r);break;case"tabIndex":ut(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ut(e,n,r);break;case"style":kt(e,r,i);break;case"data":if("object"!==t){ut(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&cd(e,t,"name",o.name,o,null),cd(e,t,"formEncType",o.formEncType,o,null),cd(e,t,"formMethod",o.formMethod,o,null),cd(e,t,"formTarget",o.formTarget,o,null)):(cd(e,t,"encType",o.encType,o,null),cd(e,t,"method",o.method,o,null),cd(e,t,"target",o.target,o,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"onScroll":null!=r&&Yc("scroll",e);break;case"onScrollEnd":null!=r&&Yc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(l(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Yc("beforetoggle",e),Yc("toggle",e),st(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":st(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=At.get(n)||n,r)}}function dd(e,t,n,r,o,i){switch(n){case"style":kt(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(l(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(l(60));e.innerHTML=n}}break;case"children":"string"==typeof r?_t(e,r):("number"==typeof r||"bigint"==typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Yc("scroll",e);break;case"onScrollEnd":null!=r&&Yc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"==typeof(i=null!=(i=e[He]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):st(e,n,r):("function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function pd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yc("error",e),Yc("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:cd(e,t,r,a,n,null)}}return i&&cd(e,t,"srcSet",n.srcSet,n,null),void(o&&cd(e,t,"src",n.src,n,null));case"input":Yc("invalid",e);var s=r=a=i=null,u=null,c=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(l(137,t));break;default:cd(e,t,o,d,n,null)}}return void bt(e,r,s,u,c,a,i,!1);case"select":for(i in Yc("invalid",e),o=a=r=null,n)if(n.hasOwnProperty(i)&&null!=(s=n[i]))switch(i){case"value":r=s;break;case"defaultValue":a=s;break;case"multiple":o=s;default:cd(e,t,i,s,n,null)}return t=r,n=a,e.multiple=!!o,void(null!=t?St(e,!!o,t,!1):null!=n&&St(e,!!o,n,!0));case"textarea":for(a in Yc("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(a)&&null!=(s=n[a]))switch(a){case"value":o=s;break;case"defaultValue":i=s;break;case"children":r=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(l(91));break;default:cd(e,t,a,s,n,null)}return void xt(e,o,i,r);case"option":for(u in n)n.hasOwnProperty(u)&&null!=(o=n[u])&&("selected"===u?e.selected=o&&"function"!=typeof o&&"symbol"!=typeof o:cd(e,t,u,o,n,null));return;case"dialog":Yc("beforetoggle",e),Yc("toggle",e),Yc("cancel",e),Yc("close",e);break;case"iframe":case"object":Yc("load",e);break;case"video":case"audio":for(o=0;o<Wc.length;o++)Yc(Wc[o],e);break;case"image":Yc("error",e),Yc("load",e);break;case"details":Yc("toggle",e);break;case"embed":case"source":case"link":Yc("error",e),Yc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:cd(e,t,c,o,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(o=n[d])&&dd(e,t,d,o,n,void 0);return}}for(s in n)n.hasOwnProperty(s)&&null!=(o=n[s])&&cd(e,t,s,o,n,null)}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var hd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wd=null,Sd="function"==typeof setTimeout?setTimeout:void 0,Ed="function"==typeof clearTimeout?clearTimeout:void 0,xd="function"==typeof Promise?Promise:void 0,_d="function"==typeof queueMicrotask?queueMicrotask:void 0!==xd?function(e){return xd.resolve(null).then(e).catch(Cd)}:Sd;function Cd(e){setTimeout(function(){throw e})}function Td(e){return"head"===e}function kd(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void Vp(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Ud(e.ownerDocument.documentElement);else if("head"===n){Ud(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var l=i.nextSibling,a=i.nodeName;i[Je]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=l}}else"body"===n&&Ud(e.ownerDocument.body);n=o}while(n);Vp(t)}function Id(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ad(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Od(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}function Nd(e){return"$?"===e.data||"$~"===e.data}function Pd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Rd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var jd=null;function Dd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Rd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Ld(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function Ud(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ke(e)}var Fd=new Map,qd=new Set;function Gd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hd=D.d;D.d={f:function(){var e=Hd.f(),t=Zu();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):Hd.r(e)},D:function(e){Hd.D(e),Vd("dns-prefetch",e,null)},C:function(e,t){Hd.C(e,t),Vd("preconnect",e,t)},L:function(e,t,n){Hd.L(e,t,n);var r=zd;if(r&&e&&t){var o='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(o+='[imagesizes="'+yt(n.imageSizes)+'"]')):o+='[href="'+yt(e)+'"]';var i=o;switch(t){case"style":i=$d(e);break;case"script":i=Kd(e)}Fd.has(i)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fd.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Wd(i))||"script"===t&&r.querySelector(Yd(i))||(pd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Hd.m(e,t);var n=zd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Kd(e)}if(!Fd.has(i)&&(e=f({rel:"modulepreload",href:e},t),Fd.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yd(i)))return}pd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Hd.X(e,t);var n=zd;if(n&&e){var r=Ze(n).hoistableScripts,o=Kd(e),i=r.get(o);i||((i=n.querySelector(Yd(o)))||(e=f({src:e,async:!0},t),(t=Fd.get(o))&&ep(e,t),et(i=n.createElement("script")),pd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Hd.S(e,t,n);var r=zd;if(r&&e){var o=Ze(r).hoistableStyles,i=$d(e);t=t||"default";var l=o.get(i);if(!l){var a={loading:0,preload:null};if(l=r.querySelector(Wd(i)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fd.get(i))&&Zd(e,n);var s=l=r.createElement("link");et(s),pd(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){a.loading|=1}),s.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Xd(l,t,r)}l={type:"stylesheet",instance:l,count:1,state:a},o.set(i,l)}}},M:function(e,t){Hd.M(e,t);var n=zd;if(n&&e){var r=Ze(n).hoistableScripts,o=Kd(e),i=r.get(o);i||((i=n.querySelector(Yd(o)))||(e=f({src:e,async:!0,type:"module"},t),(t=Fd.get(o))&&ep(e,t),et(i=n.createElement("script")),pd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var zd="undefined"==typeof document?null:document;function Vd(e,t,n){var r=zd;if(r&&"string"==typeof t&&t){var o=yt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"==typeof n&&(o+='[crossorigin="'+n+'"]'),qd.has(o)||(qd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(pd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Bd(e,t,n,r){var o,i,a,s,u=(u=$.current)?Gd(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=$d(n.href),(r=(n=Ze(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=$d(n.href);var c=Ze(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Wd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fd.set(e,n),c||(o=u,i=e,a=n,s=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=o.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),pd(i,"link",a),et(i),o.head.appendChild(i))))),t&&null===r)throw Error(l(528,""));return d}if(t&&null!==r)throw Error(l(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Kd(n),(r=(n=Ze(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function $d(e){return'href="'+yt(e)+'"'}function Wd(e){return'link[rel="stylesheet"]['+e+"]"}function Jd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Kd(e){return'[src="'+yt(e)+'"]'}function Yd(e){return"script[async]"+e}function Qd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var o=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),pd(r,"style",o),Xd(r,n.precedence,e),t.instance=r;case"stylesheet":o=$d(n.href);var i=e.querySelector(Wd(o));if(i)return t.state.loading|=4,t.instance=i,et(i),i;r=Jd(n),(o=Fd.get(o))&&Zd(r,o),et(i=(e.ownerDocument||e).createElement("link"));var a=i;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),pd(i,"link",r),t.state.loading|=4,Xd(i,n.precedence,e),t.instance=i;case"script":return i=Kd(n.src),(o=e.querySelector(Yd(i)))?(t.instance=o,et(o),o):(r=n,(o=Fd.get(i))&&ep(r=f({},n),o),et(o=(e=e.ownerDocument||e).createElement("script")),pd(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Xd(r,n.precedence,e));return t.instance}function Xd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,l=0;l<r.length;l++){var a=r[l];if(a.dataset.precedence===t)i=a;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ep(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tp=null;function np(e,t,n){if(null===tp){var r=new Map,o=tp=new Map;o.set(n,r)}else(r=(o=tp).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Je]||i[Ge]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var l=i.getAttribute(t)||"";l=e+l;var a=r.get(l);a?a.push(i):r.set(l,[i])}}return r}function rp(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function op(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var ip=0;function lp(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)sp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ap=null;function sp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ap=new Map,t.forEach(up,e),ap=null,lp.call(e))}function up(e,t){if(!(4&t.state.loading)){var n=ap.get(e);if(n)var r=n.get(null);else{n=new Map,ap.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var l=o[i];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}l=(o=t.instance).getAttribute("data-precedence"),(i=n.get(l)||r)===r&&n.set(null,o),n.set(l,o),this.count++,r=lp.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var cp={$$typeof:S,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function dp(e,t,n,r,o,i,l,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function pp(e,t,n,r,o,i,l,a,s,u,c,d){return e=new dp(e,t,n,l,s,u,c,d,a),t=1,!0===i&&(t|=24),i=Ur(3,null,null,t),e.current=i,i.stateNode=e,(t=qo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},yi(i),e}function fp(e){return e?e=Mr:Mr}function hp(e,t,n,r,o,i){o=fp(o),null===r.context?r.context=o:r.pendingContext=o,(r=bi(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=wi(e,r,t))&&(Ju(n,0,t),Si(n,e,t))}function mp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gp(e,t){mp(e,t),(e=e.alternate)&&mp(e,t)}function yp(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Ju(t,0,67108864),gp(e,67108864)}}function vp(e){if(13===e.tag||31===e.tag){var t=$u(),n=Rr(e,t=Me(t));null!==n&&Ju(n,0,t),gp(e,t)}}var bp=!0;function wp(e,t,n,r){var o=j.T;j.T=null;var i=D.p;try{D.p=2,Ep(e,t,n,r)}finally{D.p=i,j.T=o}}function Sp(e,t,n,r){var o=j.T;j.T=null;var i=D.p;try{D.p=8,Ep(e,t,n,r)}finally{D.p=i,j.T=o}}function Ep(e,t,n,r){if(bp){var o=xp(r);if(null===o)td(e,t,r,_p,n),Dp(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Ip=Mp(Ip,e,t,n,r,o),!0;case"dragenter":return Ap=Mp(Ap,e,t,n,r,o),!0;case"mouseover":return Op=Mp(Op,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Np.set(i,Mp(Np.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Pp.set(i,Mp(Pp.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Dp(e,r),4&t&&-1<jp.indexOf(e)){for(;null!==o;){var i=Qe(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var l=Te(i.pendingLanes);if(0!==l){var a=i;for(a.pendingLanes|=2,a.entangledLanes|=2;l;){var s=1<<31-we(l);a.entanglements[1]|=s,l&=~s}Dc(i),!(6&fu)&&(ju=se()+500,Mc(0,!1))}}break;case 31:case 13:null!==(a=Rr(i,2))&&Ju(a,0,2),Zu(),gp(i,2)}if(null===(i=xp(r))&&td(e,t,r,_p,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else td(e,t,r,null,n)}}function xp(e){return Cp(e=jt(e))}var _p=null;function Cp(e){if(_p=null,null!==(e=Ye(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _p=e,null}function Tp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case ce:return 2;case de:return 8;case pe:case fe:return 32;case he:return 268435456;default:return 32}default:return 32}}var kp=!1,Ip=null,Ap=null,Op=null,Np=new Map,Pp=new Map,Rp=[],jp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dp(e,t){switch(e){case"focusin":case"focusout":Ip=null;break;case"dragenter":case"dragleave":Ap=null;break;case"mouseover":case"mouseout":Op=null;break;case"pointerover":case"pointerout":Np.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pp.delete(t.pointerId)}}function Mp(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=Qe(t))&&yp(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lp(e){var t=Ye(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void Fe(e.priority,function(){vp(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void Fe(e.priority,function(){vp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Up(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=xp(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&yp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Fp(e,t,n){Up(e)&&n.delete(t)}function qp(){kp=!1,null!==Ip&&Up(Ip)&&(Ip=null),null!==Ap&&Up(Ap)&&(Ap=null),null!==Op&&Up(Op)&&(Op=null),Np.forEach(Fp),Pp.forEach(Fp)}function Gp(e,t){e.blockedOn===t&&(e.blockedOn=null,kp||(kp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qp)))}var Hp=null;function zp(e){Hp!==e&&(Hp=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hp===e&&(Hp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!=typeof r){if(null===Cp(r||n))continue;break}var i=Qe(n);null!==i&&(e.splice(t,3),t-=3,ta(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Vp(e){function t(t){return Gp(t,e)}null!==Ip&&Gp(Ip,e),null!==Ap&&Gp(Ap,e),null!==Op&&Gp(Op,e),Np.forEach(t),Pp.forEach(t);for(var n=0;n<Rp.length;n++){var r=Rp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Rp.length&&null===(n=Rp[0]).blockedOn;)Lp(n),null===n.blockedOn&&Rp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],l=o[He]||null;if("function"==typeof i)l||zp(n);else if(l){var a=null;if(i&&i.hasAttribute("formAction")){if(o=i,l=i[He]||null)a=l.formAction;else if(null!==Cp(o))continue}else a=l.action;"function"==typeof a?n[r+1]=a:(n.splice(r,3),r-=3),zp(n)}}}function Bp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function $p(e){this._internalRoot=e}function Wp(e){this._internalRoot=e}Wp.prototype.render=$p.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));hp(t.current,$u(),e,t,null,null)},Wp.prototype.unmount=$p.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hp(e.current,2,null,e,null,null),Zu(),t[ze]=null}},Wp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rp.length&&0!==t&&t<Rp[n].priority;n++);Rp.splice(n,0,e),0===n&&Lp(e)}};var Jp=o.version;if("19.2.3"!==Jp)throw Error(l(527,Jp,"19.2.3"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return d(o),e;if(i===r)return d(o),t;i=i.sibling}throw Error(l(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a){for(u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?p(e):null)?null:e.stateNode};var Kp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{ye=Yp.inject(Kp),ve=Yp}catch(e){}}t.createRoot=function(e,t){if(!a(e))throw Error(l(299));var n=!1,r="",o=_a,i=Ca,s=Ta;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=pp(e,1,!1,null,0,n,r,null,o,i,s,Bp),e[ze]=t.current,Zc(e),new $p(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(l(299));var r=!1,o="",i=_a,s=Ca,u=Ta,c=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=pp(e,1,!0,t,0,r,o,c,i,s,u,Bp)).context=fp(null),n=t.current,(o=bi(r=Me(r=$u()))).callback=null,wi(n,o,r),n=r,t.current.lanes=n,Pe(t,n),Dc(t),e[ze]=t.current,Zc(e),new Wp(t)},t.version="19.2.3"},338(e,t,n){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(247)},477(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,l=o>>>1;r<l;){var a=2*(r+1)-1,s=e[a],u=a+1,c=e[u];if(0>i(s,n))u<o&&0>i(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[a]=n,r=a);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var u=[],c=[],d=1,p=null,f=3,h=!1,m=!1,g=!1,y=!1,v="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function S(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,S(e),!m)if(null!==r(u))m=!0,_||(_=!0,x());else{var t=r(c);null!==t&&P(E,t.startTime-e)}}var x,_=!1,C=-1,T=5,k=-1;function I(){return!(!y&&t.unstable_now()-k<T)}function A(){if(y=!1,_){var e=t.unstable_now();k=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(C),C=-1),h=!0;var i=f;try{t:{for(S(e),p=r(u);null!==p&&!(p.expirationTime>e&&I());){var l=p.callback;if("function"==typeof l){p.callback=null,f=p.priorityLevel;var a=l(p.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof a){p.callback=a,S(e),n=!0;break t}p===r(u)&&o(u),S(e)}else o(u);p=r(u)}if(null!==p)n=!0;else{var s=r(c);null!==s&&P(E,s.startTime-e),n=!1}}break e}finally{p=null,f=i,h=!1}n=void 0}}finally{n?x():_=!1}}}if("function"==typeof w)x=function(){w(A)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,N=O.port2;O.port1.onmessage=A,x=function(){N.postMessage(null)}}else x=function(){v(A,0)};function P(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var l=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?l+i:l,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>l?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(g?(b(C),C=-1):g=!0,P(E,i-l))):(e.sortIndex=a,n(u,e),m||h||(m=!0,_||(_=!0,x()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},540(e,t,n){e.exports=n(869)},698(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},848(e,t,n){e.exports=n(698)},869(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),h=Symbol.iterator,m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var S=w.prototype=new b;S.constructor=w,g(S,v.prototype),S.isPureReactComponent=!0;var E=Array.isArray;function x(){}var _={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function T(e,t,r){var o=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==o?o:null,props:r}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function O(e,t,o,i,l){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var s,u,c=!1;if(null===e)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case p:return O((c=e._init)(e._payload),t,o,i,l)}}if(c)return l=l(e),c=""===i?"."+A(e,0):i,E(l)?(o="",null!=c&&(o=c.replace(I,"$&/")+"/"),O(l,t,o,"",function(e){return e})):null!=l&&(k(l)&&(s=l,u=o+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(I,"$&/")+"/")+c,l=T(s.type,u,s.props)),t.push(l)),1;c=0;var d,f=""===i?".":i+":";if(E(e))for(var m=0;m<e.length;m++)c+=O(i=e[m],t,o,a=f+A(i,m),l);else if("function"==typeof(m=null===(d=e)||"object"!=typeof d?null:"function"==typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)c+=O(i=i.value,t,o,a=f+A(i,m++),l);else if("object"===a){if("function"==typeof e.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(x,x):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function N(e,t,n){if(null==e)return e;var r=[],o=0;return O(e,r,"","",function(e){return t.call(n,e,o++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},j={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=j,t.Component=v,t.Fragment=o,t.Profiler=l,t.PureComponent=w,t.StrictMode=i,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)!C.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var l=Array(i),a=0;a<i;a++)l[a]=arguments[a+2];r.children=l}return T(e.type,o,r)},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)C.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var a=Array(l),s=0;s<l;s++)a[s]=arguments[s+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return T(e,i,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),o=_.S;null!==o&&o(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(x,R)}catch(e){R(e)}finally{null!==t&&null!==n.types&&(t.types=n.types),_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useEffectEvent=function(e){return _.H.useEffectEvent(e)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.2.3"},961(e,t,n){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(221)},982(e,t,n){e.exports=n(477)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}var r=n(540),o=n(338);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="configs",d={apiKey:"",theme:"d",agtName:"x__AGENT_NAME__x",totalTemplatesCopied:0,totalResponseGen:0,cxName:"x__CUSTOMER_NAME__X"},p=function(){var e=d;try{var t=localStorage.getItem(c);t&&(e=s(s({},e),JSON.parse(t)))}catch(e){console.error("Failed to parse configs while loading: ",e)}return e},f=p(),h=function(e){f=s(s({},f),e);try{localStorage.setItem(c,JSON.stringify(f))}catch(e){console.error("Failed to save configs: ",e)}b()},m=function(){return f.apiKey&&f.apiKey.length>38},g=function(){return h({totalTemplatesCopied:f.totalTemplatesCopied+1})},y=function(){return h({totalResponseGen:f.totalResponseGen+1})},v=new Set,b=function(){return v.forEach(function(e){return e(f)})},w=function(){var e,t,n=(e=(0,r.useState)(f),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];return(0,r.useEffect)(function(){i(f),v.add(i);var e=function(e){e.key===c&&(f=p(),i(f),b())};return window.addEventListener("storage",e),function(){v.delete(i),window.removeEventListener("storage",e)}},[]),o},S=function(e){return e.POSITIVE="Positive",e.NEUTRAL="Neutral",e.NEGATIVE="Negative",e.FRUSTRATED="Frustrated",e}({}),E=function(e){return e[e.CLOSED=0]="CLOSED",e[e.OPEN=1]="OPEN",e}({}),x=function(e){return{id:e,status:E.OPEN,sentiment:S.NEUTRAL,cid:"",cxName:"",cxRequest:"",ogBD:"",chgPlc:"",cxlPlc:""}},_=function(e){return e.DASHBOARD="dashboard",e.QUICK_RESP="qResp",e.ASSISTANT="assistant",e.CHAT_TEMPLATES="templates",e.SETTINGS="settings",e}({}),C=n(848),T=function(){return(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"text-blue-400 hover:text-blue-300 flex-shrink-0 hover:scale-150",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,C.jsx)("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L12 3Z"})})},k=function(){return(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),(0,C.jsx)("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),(0,C.jsx)("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),(0,C.jsx)("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]})},I=function(){return(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),(0,C.jsx)("path",{d:"m13 7-6 5h4l-2 5 6-5h-4l2-5z"})]})},A=function(){return(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),(0,C.jsx)("path",{d:"M3 9h18"}),(0,C.jsx)("path",{d:"M9 21V9"})]})},O=function(){return(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),(0,C.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})};const N=function(){var e=w();return(0,C.jsxs)("div",{className:"m-4 space-y-8 animate-fadeIn",children:[(0,C.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Templates Copied",value:e.totalTemplatesCopied,change:"0",color:"blue"},{label:"Total Responses Generated",value:e.totalResponseGen,change:"0",color:"blue"}].map(function(e,t){return(0,C.jsxs)("div",{title:"Key Metric: ".concat(e.label),className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-all",children:[(0,C.jsx)("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:e.label}),(0,C.jsxs)("div",{className:"flex items-end justify-between mt-2",children:[(0,C.jsx)("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:e.value}),(0,C.jsx)("span",{className:"text-xs font-bold px-2 py-1 rounded ".concat(e.change.startsWith("+")?"bg-green-50 text-green-600 dark:bg-green-900/30 dark:text-green-400":"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400"),title:"Change from previous period",children:e.change})]})]},t)})}),(0,C.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-8"})]})};var P=[{key:"$_AGENT_NAME_",val:f.agtName},{key:"$_CUSTOMER_NAME_",val:f.cxName}],R=function(e){try{for(var t,n=e.content,r=0;r<P.length;++r)t=P[r],n=n.replace(t.key,t.val);return n}catch(t){console.error("Failed to replace placeholders in TID: ".concat(e.id))}return""},j=function(e){return e.GREETING="Greeting",e.SORRY="Sorry",e.WAIT="Wait",e.THANKS="Thanks",e.QUESTION="Question",e.CLOSING="Closing",e.REDIRECT="Redirect",e.INFO="Info",e.CUSTOM="Custom",e}({}),D=[{cat:j.GREETING,catBgClr:"emerald-700",catTxtClr:"white"},{cat:j.SORRY,catBgClr:"orange-600",catTxtClr:"white"},{cat:j.WAIT,catBgClr:"amber-400",catTxtClr:"white"},{cat:j.THANKS,catBgClr:"emerald-500",catTxtClr:"white"},{cat:j.QUESTION,catBgClr:"blue-500",catTxtClr:"white"},{cat:j.CLOSING,catBgClr:"red-500",catTxtClr:"white"},{cat:j.REDIRECT,catBgClr:"purple-500",catTxtClr:"white"},{cat:j.INFO,catBgClr:"slate-500",catTxtClr:"white"},{cat:j.CUSTOM,catBgClr:"slate-400",catTxtClr:"white"}],M=[{category:j.GREETING,title:"Greeting",titleClr:"emerald-600",content:"Hi there! Thanks for reaching out to us today.\r\nMy name is $_AGENT_NAME_, How are you doing?\r\nI hope you're having a good day! "},{category:j.GREETING,title:"How Help",titleClr:"emerald-500",content:"How can I help you today?"},{category:j.SORRY,title:"Sorry",content:"I'm really sorry for that."},{category:j.SORRY,title:"Sorry Delay",titleClr:"amber-300",content:"I'm sorry for the delay."},{category:j.SORRY,title:"Sorry Apology Working",titleClr:"red-400",content:"I'm so sorry for the delay, I'm still working on it."},{category:j.SORRY,title:"Sorry Through",titleClr:"amber-300",content:"I understand, and I'm really sorry that you had to go through that."},{category:j.SORRY,title:"Sorry Exp.",titleClr:"amber-500",content:"I understand, and I'm really sorry that you had that experience."},{category:j.WAIT,title:"Sure",titleClr:"emerald-500",content:"Sure thing!"},{category:j.WAIT,title:"Wait",titleClr:"amber-600",content:"Please allow me a moment."},{category:j.WAIT,title:"Wait Load Book",titleClr:"amber-300",content:"Please allow me a moment to load the booking details for you."},{category:j.WAIT,title:"Wait Process",titleClr:"amber-400",content:"Please allow me 3-5 minutes to process your request, and I'll update you as soon as possible."},{category:j.THANKS,title:"Thanks",content:"Thank you!"},{category:j.THANKS,title:"Thanks Confirm",titleClr:"emerald-500",content:"Thank you for confirming."},{category:j.THANKS,title:"Thanks Patience",titleClr:"amber-300",content:"Thank you for your patience."},{category:j.THANKS,title:"Thanks Understanding",titleClr:"red-400",content:"Thank you for undertanding."},{category:j.QUESTION,title:"Confirm Book Flight?",content:"Just to confirm, This is the flight we are talking about, Correct?\r\n\r\n"},{category:j.QUESTION,title:"Anything Else?",content:"Is there anything else I can help you with today, I'd love to help?"},{category:j.QUESTION,title:"Any Question?",content:"May I know if you have any other inquiries, questions or requests I can help with, I'd love to help?"},{category:j.CLOSING,title:"Closing Question",content:"Is there anything else I can help you with today?"},{category:j.CLOSING,title:"Closing Positive",titleClr:"emerald-500",content:"I'm glad I could help you with your request today, Please contact us again if you have any more inquiries or question, and we will be happy to help.\r\nAny feedback about our interaction today is very much appreciated.\r\nThank you for contacting us, Have a lovely day."},{category:j.CLOSING,title:"Closing Neutral",titleClr:"amber-400",content:"It was lovely chatting with you, Thank you for reaching out to us."},{category:j.CLOSING,title:"Closing Negative",titleClr:"red-500",content:"I'm sorry I coundn't be of more help, Please don't hesitate to contact us again if you have more inquiries or questions.\r\nThank you for contacting us, Have a great day."},{category:j.REDIRECT,title:"NDC",content:"I've reviewed your booking, To make sure you get the best support, I'm going to loop in our specialized team.\r\nPlease keep the chat window open; an agent will be connected with you in just a moment to help, Thank you."},{category:j.REDIRECT,title:"LCC",content:"I've checked your booking details, the airline doesn't allow us access on their systems to do any changes, reissue tickets, etc.,\r\nI'm afraid that you'll have to reach out to the airline directly regarding that matter."},{category:j.INFO,title:"FTC",content:"Future Travel Credit (FTC) Rules:\n- Must be for same person, airline, and country of origin\n- Trip must be completed within 12 months from [Date of Issueance/Departure Date]\n- Taxes and Fees of rebooking/reissuance + the Price Difference of the new booking (if any), apply at the time of rebooking\n\nHow to use:\nTo redeem/rebook the credit, simply contact us and we will be happy to rebook it for you."},{category:j.INFO,title:"Dates Prices Avail",content:"Please note that booking dates are subject to availability, And price may change at any time as it's a live invenory, meaning if someone booked that specific item it may not be available anymore."},{category:j.INFO,title:"Airline Approve",content:"I've submitted your request.\r\nHowever, Please note that it's subject to airline's availability and approval."}];function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach(function(t){q(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function q(e,t,n){return(t=function(e){var t=function(e){if("object"!=L(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==L(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,t)||H(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){if(e){if("string"==typeof e)return z(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var V=0;M.map(function(e){return e.id=V++});const B=function(){var e=w(),t=G((0,r.useState)(M),2),n=t[0],o=t[1],i=G((0,r.useState)(!1),2),l=i[0],a=i[1],s=G((0,r.useState)(null),2),u=s[0],c=s[1],d=G((0,r.useState)(null),2),p=d[0],h=d[1],m=G((0,r.useState)({category:j.CUSTOM,title:"",content:""}),2),y=m[0],v=m[1];(0,r.useEffect)(function(){var t;t=e,P[0].val=t.agtName,P[1].val=f.cxName},[e]);var b=function(e){navigator.clipboard.writeText(R(e)),g(),h(e.id),setTimeout(function(){return h(null)},2e3)},S=function(e,t){e.dataTransfer.setData("text/plain",R(t)),g(),h(t.id),setTimeout(function(){return h(null)},2e3)},E=function(e){window.confirm("Are you sure you want to delete this template?")&&o(n.filter(function(t){return t.id!==e}))},x=function(e){e?(c(e),v({title:e.title,content:e.content,category:e.category})):(c(null),v({title:"",content:"",category:j.CUSTOM})),a(!0)};return(0,C.jsxs)("div",{id:"tab-root",className:"w-full h-full flex flex-col p-1 animate-fadeIn relative",children:[(0,C.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-2 overflow-y-auto p-1 pr-3 pb-8 min-h-0",children:[n.map(function(e){return $(e,p,x,b,S,E)}),(0,C.jsxs)("button",{onClick:function(e){e.stopPropagation(),x()},className:"border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-[2rem] p-6 flex flex-col items-center justify-center text-slate-300 dark:text-slate-700 hover:border-blue-400 dark:hover:border-blue-600 hover:text-blue-500 dark:hover:text-blue-500 transition-all group",children:[(0,C.jsx)("div",{className:"w-16 h-16 rounded-full bg-slate-50 dark:bg-slate-900 group-hover:bg-blue-50 dark:group-hover:bg-blue-900/20 flex items-center justify-center transition-colors mb-4",children:(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("line",{x1:"12",x2:"12",y1:"5",y2:"19"}),(0,C.jsx)("line",{x1:"5",x2:"19",y1:"12",y2:"12"})]})}),(0,C.jsx)("span",{className:"font-black uppercase tracking-widest text-xs",children:"Create Template"})]}),(0,C.jsxs)("button",{onClick:function(e){e.stopPropagation()},className:"border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-[2rem] p-6 flex flex-col items-center justify-center text-slate-300 dark:text-slate-700 hover:border-blue-400 dark:hover:border-blue-600 hover:text-blue-500 dark:hover:text-blue-500 transition-all group",children:[(0,C.jsx)("div",{className:"w-16 h-16 rounded-full bg-slate-50 dark:bg-slate-900 group-hover:bg-blue-50 dark:group-hover:bg-blue-900/20 flex items-center justify-center transition-colors mb-4",children:(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,C.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,C.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,C.jsx)("line",{x1:"12",x2:"12.01",y1:"17",y2:"17"})]})}),(0,C.jsx)("span",{className:"font-black uppercase tracking-widest text-xs",children:"Help"})]})]})," ",l&&(0,C.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fadeIn",children:(0,C.jsxs)("div",{className:"bg-white dark:bg-slate-950 w-full max-w-lg rounded-[2.5rem] p-8 shadow-2xl border border-slate-200 dark:border-slate-800 m-4 animate-scaleIn",children:[(0,C.jsx)("h3",{className:"text-2xl font-black text-slate-800 dark:text-white mb-6",children:u?"Edit Template":"New Template"}),(0,C.jsxs)("div",{className:"space-y-4",children:[(0,C.jsxs)("div",{className:"space-y-1",children:[(0,C.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 ml-1",children:"Title"}),(0,C.jsx)("input",{type:"text",value:y.title,onChange:function(e){return v(F(F({},y),{},{title:e.target.value}))},placeholder:"e.g., Refund Policy",className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all font-bold text-slate-700 dark:text-slate-200"})]}),(0,C.jsxs)("div",{className:"space-y-1",children:[(0,C.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 ml-1",children:"Category"}),(0,C.jsx)("select",{value:y.category,onChange:function(e){return v(F(F({},y),{},{category:e.target.value}))},className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all font-bold text-slate-700 dark:text-slate-200 appearance-none",children:Object.entries(j).map(function(e){var t=G(e,2),n=t[0],r=t[1];return(0,C.jsx)("option",{value:r,children:r},n)})})]}),(0,C.jsxs)("div",{className:"space-y-1",children:[(0,C.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 ml-1",children:"Content"}),(0,C.jsx)("textarea",{value:y.content,onChange:function(e){return v(F(F({},y),{},{content:e.target.value}))},placeholder:"Type your template content here...",rows:5,className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all font-medium text-slate-700 dark:text-slate-200 resize-none"})]})]}),(0,C.jsxs)("div",{className:"flex gap-3 mt-8",children:[(0,C.jsx)("button",{onClick:function(){return a(!1)},className:"flex-1 py-4 rounded-2xl font-black text-xs uppercase tracking-widest text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-900 transition-all",children:"Cancel"}),(0,C.jsx)("button",{onClick:function(){if(y.title.trim()&&y.content.trim()){if(u)o(n.map(function(e){return e.id===u.id?F(F({},e),y):e}));else{var e={id:V++,title:y.title,content:y.content,category:y.category};o([].concat(function(e){if(Array.isArray(e))return z(e)}(t=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||H(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]))}a(!1)}var t},disabled:!y.title.trim()||!y.content.trim(),className:"flex-1 py-4 rounded-2xl font-black text-xs uppercase tracking-widest bg-blue-600 hover:bg-blue-700 text-white shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Template"})]})]})})]})};var $=function(e,t,n,r,o,i){return(0,C.jsxs)("button",{className:"bg-white hover:bg-slate-300 dark:bg-slate-900 dark:hover:bg-slate-800 p-2 rounded-[2rem] border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-xl hover:scale-105 transition-all flex flex-col group",onClick:function(){return r(e)},draggable:!0,onDragStart:function(t){return o(t,e)},children:[(0,C.jsxs)("div",{className:"flex items-start justify-between",children:[D.filter(function(t){return t.cat===e.category}).map(function(t){return(0,C.jsx)("span",{className:"px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider bg-".concat(t.catBgClr," text-").concat(t.catTxtClr),children:e.category},"template-category")}),(0,C.jsx)("span",{id:"copied-alert",className:"px-2 rounded-lg bg-emerald-500 text-white shadow-lg shadow-emerald-500/30 text-[10px] uppercase tracking-wider ".concat(t===e.id?"":"hidden"),children:"Copied!"}),(0,C.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,C.jsx)("button",{onClick:function(t){t.stopPropagation(),n(e)},className:"p-1 text-slate-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Template",children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,C.jsx)("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})}),(0,C.jsx)("button",{onClick:function(t){t.stopPropagation(),i(e.id)},className:"p-1 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Template",children:(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("path",{d:"M3 6h18"}),(0,C.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,C.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]})]})," ",(0,C.jsx)("h4",{className:"text-md font-bold text-".concat(e.titleClr?e.titleClr:"slate-400"," line-clamp-1"),children:e.title}),(0,C.jsx)("p",{className:"text-slate-500 dark:text-slate-500 text-sm leading-relaxed flex-1 whitespace-pre-wrap text-left",children:e.content})]},e.id)};class W{}function J(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return null!=e?String(e):""}throw new Error(`Key '${n}' not found in valueMap.`)})}function K(e,t,n){for(let r=0;r<t.length-1;r++){const o=t[r];if(o.endsWith("[]")){const i=o.slice(0,-2);if(!(i in e)){if(!Array.isArray(n))throw new Error(`Value must be a list given an array path ${o}`);e[i]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[i])){const o=e[i];if(Array.isArray(n))for(let e=0;e<o.length;e++)K(o[e],t.slice(r+1),n[e]);else for(const e of o)K(e,t.slice(r+1),n)}return}if(o.endsWith("[0]")){const i=o.slice(0,-3);return i in e||(e[i]=[{}]),void K(e[i][0],t.slice(r+1),n)}e[o]&&"object"==typeof e[o]||(e[o]={}),e=e[o]}const r=t[t.length-1],o=e[r];if(void 0!==o){if(!n||"object"==typeof n&&0===Object.keys(n).length)return;if(n===o)return;if("object"!=typeof o||"object"!=typeof n||null===o||null===n)throw new Error(`Cannot set value for an existing key. Key: ${r}`);Object.assign(o,n)}else if("_self"!==r||"object"!=typeof n||null===n||Array.isArray(n))e[r]=n;else{const t=n;Object.assign(e,t)}}function Y(e,t,n=void 0){try{if(1===t.length&&"_self"===t[0])return e;for(let r=0;r<t.length;r++){if("object"!=typeof e||null===e)return n;const o=t[r];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in e){const o=e[i];return Array.isArray(o)?o.map(e=>Y(e,t.slice(r+1),n)):n}return n}e=e[o]}return e}catch(e){if(e instanceof TypeError)return n;throw e}}function Q(e,t,n,r,o){if(r>=t.length)return;if("object"!=typeof e||null===e)return;const i=t[r];if(i.endsWith("[]")){const l=i.slice(0,-2),a=e;if(l in a&&Array.isArray(a[l]))for(const e of a[l])Q(e,t,n,r+1,o)}else if("*"===i){if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=e,i=Object.keys(t).filter(e=>!e.startsWith("_")&&!o.has(e)),l={};for(const e of i)l[e]=t[e];for(const[e,o]of Object.entries(l)){const i=[];for(const t of n.slice(r))"*"===t?i.push(e):i.push(t);K(t,i,o)}for(const e of i)delete t[e]}}else i in e&&Q(e[i],t,n,r+1,o)}function X(e){if("string"!=typeof e)throw new Error("fromImageBytes must be a string");return e}function Z(e){const t={},n=Y(e,["name"]);null!=n&&K(t,["name"],n);const r=Y(e,["metadata"]);null!=r&&K(t,["metadata"],r);const o=Y(e,["done"]);null!=o&&K(t,["done"],o);const i=Y(e,["error"]);null!=i&&K(t,["error"],i);const l=Y(e,["response"]);return null!=l&&K(t,["response"],function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["parent"]);null!=r&&K(t,["parent"],r);const o=Y(e,["documentName"]);return null!=o&&K(t,["documentName"],o),t}(l)),t}var ee,te,ne,re,oe,ie,le,ae,se,ue,ce,de,pe,fe,he,me,ge,ye,ve,be,we,Se,Ee,xe,_e,Ce,Te,ke,Ie,Ae,Oe,Ne,Pe,Re,je,De,Me,Le,Ue,Fe,qe,Ge,He,ze,Ve,Be,$e,We,Je,Ke,Ye,Qe,Xe,Ze,et,tt;!function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"}(ee||(ee={})),function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"}(te||(te={})),function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"}(ne||(ne={})),function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"}(re||(re={})),function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"}(oe||(oe={})),function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"}(ie||(ie={})),function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"}(le||(le={})),function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"}(ae||(ae={})),function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"}(se||(se={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(ue||(ue={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"}(ce||(ce={})),function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"}(de||(de={})),function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"}(pe||(pe={})),function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"}(fe||(fe={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"}(he||(he={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"}(me||(me={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(ge||(ge={})),function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"}(ye||(ye={})),function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"}(ve||(ve={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"}(be||(be={})),function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"}(we||(we={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"}(Se||(Se={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(Ee||(Ee={})),function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"}(xe||(xe={})),function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"}(_e||(_e={})),function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"}(Ce||(Ce={})),function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"}(Te||(Te={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"}(ke||(ke={})),function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"}(Ie||(Ie={})),function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"}(Ae||(Ae={})),function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(Oe||(Oe={})),function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"}(Ne||(Ne={})),function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"}(Pe||(Pe={})),function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"}(Re||(Re={})),function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"}(je||(je={})),function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"}(De||(De={})),function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"}(Me||(Me={})),function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"}(Le||(Le={})),function(e){e.ASSET="ASSET",e.STYLE="STYLE"}(Ue||(Ue={})),function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"}(Fe||(Fe={})),function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"}(qe||(qe={})),function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"}(Ge||(Ge={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"}(He||(He={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(ze||(ze={})),function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"}(Ve||(Ve={})),function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"}(Be||(Be={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"}($e||($e={})),function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"}(We||(We={})),function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"}(Je||(Je={})),function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"}(Ke||(Ke={})),function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"}(Ye||(Ye={})),function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"}(Qe||(Qe={})),function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"}(Xe||(Xe={})),function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"}(Ze||(Ze={})),function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"}(et||(et={}));class nt{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class rt{get text(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let s="",u=!1;const c=[];for(const e of null!==(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[t,n]of Object.entries(e))"text"===t||"thought"===t||"thoughtSignature"===t||null===n&&void 0===n||c.push(t);if("string"==typeof e.text){if("boolean"==typeof e.thought&&e.thought)continue;u=!0,s+=e.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?s:void 0}get data(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let s="";const u=[];for(const e of null!==(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[t,n]of Object.entries(e))"inlineData"===t||null===n&&void 0===n||u.push(t);e.inlineData&&"string"==typeof e.inlineData.data&&(s+=atob(e.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}get functionCalls(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const s=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null==s?void 0:s.length)?s:void 0}get executableCode(){var e,t,n,r,o,i,l,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(s=null==u?void 0:u[0])||void 0===s?void 0:s.code:void 0}get codeExecutionResult(){var e,t,n,r,o,i,l,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(s=null==u?void 0:u[0])||void 0===s?void 0:s.output:void 0}}class ot{}class it{}class lt{}class at{}class st{}class ut{}class ct{}class dt{}class pt{}class ft{}class ht{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new ht;let r;const o=e;return r=t?function(e){const t={},n=Y(e,["name"]);null!=n&&K(t,["name"],n);const r=Y(e,["metadata"]);null!=r&&K(t,["metadata"],r);const o=Y(e,["done"]);null!=o&&K(t,["done"],o);const i=Y(e,["error"]);null!=i&&K(t,["error"],i);const l=Y(e,["response"]);return null!=l&&K(t,["response"],function(e){const t={},n=Y(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["_self"]);return null!=n&&K(t,["video"],function(e){const t={},n=Y(e,["gcsUri"]);null!=n&&K(t,["uri"],n);const r=Y(e,["bytesBase64Encoded"]);null!=r&&K(t,["videoBytes"],X(r));const o=Y(e,["mimeType"]);return null!=o&&K(t,["mimeType"],o),t}(n)),t}(e))),K(t,["generatedVideos"],e)}const r=Y(e,["raiMediaFilteredCount"]);null!=r&&K(t,["raiMediaFilteredCount"],r);const o=Y(e,["raiMediaFilteredReasons"]);return null!=o&&K(t,["raiMediaFilteredReasons"],o),t}(l)),t}(o):function(e){const t={},n=Y(e,["name"]);null!=n&&K(t,["name"],n);const r=Y(e,["metadata"]);null!=r&&K(t,["metadata"],r);const o=Y(e,["done"]);null!=o&&K(t,["done"],o);const i=Y(e,["error"]);null!=i&&K(t,["error"],i);const l=Y(e,["response","generateVideoResponse"]);return null!=l&&K(t,["response"],function(e){const t={},n=Y(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["video"]);return null!=n&&K(t,["video"],function(e){const t={},n=Y(e,["uri"]);null!=n&&K(t,["uri"],n);const r=Y(e,["encodedVideo"]);null!=r&&K(t,["videoBytes"],X(r));const o=Y(e,["encoding"]);return null!=o&&K(t,["mimeType"],o),t}(n)),t}(e))),K(t,["generatedVideos"],e)}const r=Y(e,["raiMediaFilteredCount"]);null!=r&&K(t,["raiMediaFilteredCount"],r);const o=Y(e,["raiMediaFilteredReasons"]);return null!=o&&K(t,["raiMediaFilteredReasons"],o),t}(l)),t}(o),Object.assign(n,r),n}}class mt{}class gt{}class yt{}class vt{}class bt{}class wt{}class St{}class Et{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new Et,r=function(e){const t={},n=Y(e,["name"]);null!=n&&K(t,["name"],n);const r=Y(e,["metadata"]);null!=r&&K(t,["metadata"],r);const o=Y(e,["done"]);null!=o&&K(t,["done"],o);const i=Y(e,["error"]);null!=i&&K(t,["error"],i);const l=Y(e,["response"]);return null!=l&&K(t,["response"],function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["parent"]);null!=r&&K(t,["parent"],r);const o=Y(e,["documentName"]);return null!=o&&K(t,["documentName"],o),t}(l)),t}(e);return Object.assign(n,r),n}}class xt{}class _t{}class Ct{}class Tt{}class kt{get text(){var e,t,n;let r="",o=!1;const i=[];for(const l of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(l))"text"!==e&&"thought"!==e&&null!==t&&i.push(e);if("string"==typeof l.text){if("boolean"==typeof l.thought&&l.thought)continue;o=!0,r+=l.text}}return i.length>0&&console.warn(`there are non-text parts ${i} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var e,t,n;let r="";const o=[];for(const i of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(i))"inlineData"!==e&&null!==t&&o.push(e);i.inlineData&&"string"==typeof i.inlineData.data&&(r+=atob(i.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class It{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class At{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new At,r=Z(e);return Object.assign(n,r),n}}function Ot(e,t){if(!t||"string"!=typeof t)throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Nt(e,t){const n=Ot(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Pt(e){return Array.isArray(e)?e.map(e=>Rt(e)):[Rt(e)]}function Rt(e){if("object"==typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof e)}function jt(e){const t=Rt(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Dt(e){const t=Rt(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Mt(e){if(null==e)throw new Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw new Error("Unsupported part type: "+typeof e)}function Lt(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>Mt(e)):[Mt(e)]}function Ut(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function Ft(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function qt(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function Gt(e){if(null==e)throw new Error("ContentUnion is required");return Ut(e)?e:{role:"user",parts:Lt(e)}}function Ht(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=Gt(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=Gt(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>Gt(e)):[Gt(t)]}function zt(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(Ft(e)||qt(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Gt(e)]}const t=[],n=[],r=Ut(e[0]);for(const o of e){const e=Ut(o);if(e!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(o);else{if(Ft(o)||qt(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:Lt(n)}),t}function Vt(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(t.nullable=!0,e=i[1]):"null"===i[1].type&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(re).includes(n[0].toUpperCase())?n[0].toUpperCase():re.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(re).includes(e.toUpperCase())?e.toUpperCase():re.TYPE_UNSPECIFIED})}}(e.type,t);for(const[i,l]of Object.entries(e))if(null!=l)if("type"==i){if("null"===l)throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;t.type=Object.values(re).includes(l.toUpperCase())?l.toUpperCase():re.TYPE_UNSPECIFIED}else if(n.includes(i))t[i]=Vt(l);else if(r.includes(i)){const e=[];for(const n of l)"null"!=n.type?e.push(Vt(n)):t.nullable=!0;t[i]=e}else if(o.includes(i)){const e={};for(const[t,n]of Object.entries(l))e[t]=Vt(n);t[i]=e}else{if("additionalProperties"===i)continue;t[i]=l}return t}function Bt(e){return Vt(e)}function $t(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: "+typeof e)}function Wt(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Jt(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Vt(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Vt(t.response));return e}function Kt(e){if(null==e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Yt(e,t){if("string"!=typeof t)throw new Error("name must be a string");return function(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}(e,t,"cachedContents")}function Qt(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Xt(e){return X(e)}function Zt(e){var t;let n;var r;if(null!=(r=e)&&"object"==typeof r&&"name"in r&&(n=e.name),!(function(e){return null!=e&&"object"==typeof e&&"uri"in e}(e)&&(n=e.uri,void 0===n)||function(e){return null!=e&&"object"==typeof e&&"video"in e}(e)&&(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0===n))){if("string"==typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${n}`);n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function en(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function tn(e){for(const t of["models","tunedModels","publisherModels"])if(nn(e,t))return e[t];return[]}function nn(e,t){return null!==e&&"object"==typeof e&&t in e}function rn(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function on(e,t){let n;if("string"==typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error(`Unsupported string source for Vertex AI: ${t}`);n={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error(`Unsupported string source for Gemini API: ${t}`);n={fileName:t}}else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||1!==r)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||1!==o)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function ln(e){if("object"!=typeof e||null===e)return{};const t=e,n=t.inlinedResponses;if("object"!=typeof n||null===n)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||0===r.length)return e;let o=!1;for(const e of r){if("object"!=typeof e||null===e)continue;const t=e.response;if("object"==typeof t&&null!==t&&void 0!==t.embedding){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function an(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function sn(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===e?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===e?"JOB_STATE_EXPIRED":e}function un(e){const t={},n=Y(e,["name"]);null!=n&&K(t,["name"],n);const r=Y(e,["metadata","displayName"]);null!=r&&K(t,["displayName"],r);const o=Y(e,["metadata","state"]);null!=o&&K(t,["state"],sn(o));const i=Y(e,["metadata","createTime"]);null!=i&&K(t,["createTime"],i);const l=Y(e,["metadata","endTime"]);null!=l&&K(t,["endTime"],l);const a=Y(e,["metadata","updateTime"]);null!=a&&K(t,["updateTime"],a);const s=Y(e,["metadata","model"]);null!=s&&K(t,["model"],s);const u=Y(e,["metadata","output"]);return null!=u&&K(t,["dest"],function(e){const t={},n=Y(e,["responsesFile"]);null!=n&&K(t,["fileName"],n);const r=Y(e,["inlinedResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["response"]);null!=n&&K(t,["response"],function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["content"]);null!=n&&K(t,["content"],n);const r=Y(e,["citationMetadata"]);null!=r&&K(t,["citationMetadata"],function(e){const t={},n=Y(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["citations"],e)}return t}(r));const o=Y(e,["tokenCount"]);null!=o&&K(t,["tokenCount"],o);const i=Y(e,["finishReason"]);null!=i&&K(t,["finishReason"],i);const l=Y(e,["avgLogprobs"]);null!=l&&K(t,["avgLogprobs"],l);const a=Y(e,["groundingMetadata"]);null!=a&&K(t,["groundingMetadata"],a);const s=Y(e,["index"]);null!=s&&K(t,["index"],s);const u=Y(e,["logprobsResult"]);null!=u&&K(t,["logprobsResult"],u);const c=Y(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["safetyRatings"],e)}const d=Y(e,["urlContextMetadata"]);return null!=d&&K(t,["urlContextMetadata"],d),t}(e))),K(t,["candidates"],e)}const o=Y(e,["modelVersion"]);null!=o&&K(t,["modelVersion"],o);const i=Y(e,["promptFeedback"]);null!=i&&K(t,["promptFeedback"],i);const l=Y(e,["responseId"]);null!=l&&K(t,["responseId"],l);const a=Y(e,["usageMetadata"]);return null!=a&&K(t,["usageMetadata"],a),t}(n));const r=Y(e,["error"]);return null!=r&&K(t,["error"],r),t}(e))),K(t,["inlinedResponses"],e)}const o=Y(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["inlinedEmbedContentResponses"],e)}return t}(ln(u))),t}function cn(e){const t={},n=Y(e,["name"]);null!=n&&K(t,["name"],n);const r=Y(e,["displayName"]);null!=r&&K(t,["displayName"],r);const o=Y(e,["state"]);null!=o&&K(t,["state"],sn(o));const i=Y(e,["error"]);null!=i&&K(t,["error"],i);const l=Y(e,["createTime"]);null!=l&&K(t,["createTime"],l);const a=Y(e,["startTime"]);null!=a&&K(t,["startTime"],a);const s=Y(e,["endTime"]);null!=s&&K(t,["endTime"],s);const u=Y(e,["updateTime"]);null!=u&&K(t,["updateTime"],u);const c=Y(e,["model"]);null!=c&&K(t,["model"],c);const d=Y(e,["inputConfig"]);null!=d&&K(t,["src"],function(e){const t={},n=Y(e,["instancesFormat"]);null!=n&&K(t,["format"],n);const r=Y(e,["gcsSource","uris"]);null!=r&&K(t,["gcsUri"],r);const o=Y(e,["bigquerySource","inputUri"]);return null!=o&&K(t,["bigqueryUri"],o),t}(d));const p=Y(e,["outputConfig"]);null!=p&&K(t,["dest"],function(e){const t={},n=Y(e,["predictionsFormat"]);null!=n&&K(t,["format"],n);const r=Y(e,["gcsDestination","outputUriPrefix"]);null!=r&&K(t,["gcsUri"],r);const o=Y(e,["bigqueryDestination","outputUri"]);return null!=o&&K(t,["bigqueryUri"],o),t}(ln(p)));const f=Y(e,["completionStats"]);return null!=f&&K(t,["completionStats"],f),t}function dn(e){const t={},n=Y(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["mediaResolution"]);null!=n&&K(t,["mediaResolution"],n);const r=Y(e,["codeExecutionResult"]);null!=r&&K(t,["codeExecutionResult"],r);const o=Y(e,["executableCode"]);null!=o&&K(t,["executableCode"],o);const i=Y(e,["fileData"]);null!=i&&K(t,["fileData"],function(e){const t={};if(void 0!==Y(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Y(e,["fileUri"]);null!=n&&K(t,["fileUri"],n);const r=Y(e,["mimeType"]);return null!=r&&K(t,["mimeType"],r),t}(i));const l=Y(e,["functionCall"]);null!=l&&K(t,["functionCall"],function(e){const t={},n=Y(e,["id"]);null!=n&&K(t,["id"],n);const r=Y(e,["args"]);null!=r&&K(t,["args"],r);const o=Y(e,["name"]);if(null!=o&&K(t,["name"],o),void 0!==Y(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Y(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=Y(e,["functionResponse"]);null!=a&&K(t,["functionResponse"],a);const s=Y(e,["inlineData"]);null!=s&&K(t,["inlineData"],function(e){const t={},n=Y(e,["data"]);if(null!=n&&K(t,["data"],n),void 0!==Y(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Y(e,["mimeType"]);return null!=r&&K(t,["mimeType"],r),t}(s));const u=Y(e,["text"]);null!=u&&K(t,["text"],u);const c=Y(e,["thought"]);null!=c&&K(t,["thought"],c);const d=Y(e,["thoughtSignature"]);null!=d&&K(t,["thoughtSignature"],d);const p=Y(e,["videoMetadata"]);return null!=p&&K(t,["videoMetadata"],p),t}(e))),K(t,["parts"],e)}const r=Y(e,["role"]);return null!=r&&K(t,["role"],r),t}function pn(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["src"]);null!=o&&K(n,["batch","inputConfig"],function(e,t){const n={};if(void 0!==Y(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==Y(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==Y(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=Y(t,["fileName"]);null!=r&&K(n,["fileName"],r);const o=Y(t,["inlinedRequests"]);if(null!=o){let t=o;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["request","model"],Ot(e,r));const o=Y(t,["contents"]);if(null!=o){let e=zt(o);Array.isArray(e)&&(e=e.map(e=>dn(e))),K(n,["request","contents"],e)}const i=Y(t,["metadata"]);null!=i&&K(n,["metadata"],i);const l=Y(t,["config"]);return null!=l&&K(n,["request","generationConfig"],function(e,t,n){const r={},o=Y(t,["systemInstruction"]);void 0!==n&&null!=o&&K(n,["systemInstruction"],dn(Gt(o)));const i=Y(t,["temperature"]);null!=i&&K(r,["temperature"],i);const l=Y(t,["topP"]);null!=l&&K(r,["topP"],l);const a=Y(t,["topK"]);null!=a&&K(r,["topK"],a);const s=Y(t,["candidateCount"]);null!=s&&K(r,["candidateCount"],s);const u=Y(t,["maxOutputTokens"]);null!=u&&K(r,["maxOutputTokens"],u);const c=Y(t,["stopSequences"]);null!=c&&K(r,["stopSequences"],c);const d=Y(t,["responseLogprobs"]);null!=d&&K(r,["responseLogprobs"],d);const p=Y(t,["logprobs"]);null!=p&&K(r,["logprobs"],p);const f=Y(t,["presencePenalty"]);null!=f&&K(r,["presencePenalty"],f);const h=Y(t,["frequencyPenalty"]);null!=h&&K(r,["frequencyPenalty"],h);const m=Y(t,["seed"]);null!=m&&K(r,["seed"],m);const g=Y(t,["responseMimeType"]);null!=g&&K(r,["responseMimeType"],g);const y=Y(t,["responseSchema"]);null!=y&&K(r,["responseSchema"],Bt(y));const v=Y(t,["responseJsonSchema"]);if(null!=v&&K(r,["responseJsonSchema"],v),void 0!==Y(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==Y(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=Y(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["category"]);if(null!=n&&K(t,["category"],n),void 0!==Y(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=Y(e,["threshold"]);return null!=r&&K(t,["threshold"],r),t}(e))),K(n,["safetySettings"],e)}const w=Y(t,["tools"]);if(void 0!==n&&null!=w){let e=Kt(w);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Y(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Y(e,["computerUse"]);null!=n&&K(t,["computerUse"],n);const r=Y(e,["fileSearch"]);null!=r&&K(t,["fileSearch"],r);const o=Y(e,["codeExecution"]);if(null!=o&&K(t,["codeExecution"],o),void 0!==Y(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=Y(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["functionDeclarations"],e)}const l=Y(e,["googleMaps"]);null!=l&&K(t,["googleMaps"],function(e){const t={};if(void 0!==Y(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Y(e,["enableWidget"]);return null!=n&&K(t,["enableWidget"],n),t}(l));const a=Y(e,["googleSearch"]);null!=a&&K(t,["googleSearch"],function(e){const t={};if(void 0!==Y(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Y(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Y(e,["timeRangeFilter"]);return null!=n&&K(t,["timeRangeFilter"],n),t}(a));const s=Y(e,["googleSearchRetrieval"]);null!=s&&K(t,["googleSearchRetrieval"],s);const u=Y(e,["urlContext"]);return null!=u&&K(t,["urlContext"],u),t}(Jt(e)))),K(n,["tools"],e)}const S=Y(t,["toolConfig"]);if(void 0!==n&&null!=S&&K(n,["toolConfig"],function(e){const t={},n=Y(e,["retrievalConfig"]);null!=n&&K(t,["retrievalConfig"],n);const r=Y(e,["functionCallingConfig"]);return null!=r&&K(t,["functionCallingConfig"],function(e){const t={},n=Y(e,["allowedFunctionNames"]);null!=n&&K(t,["allowedFunctionNames"],n);const r=Y(e,["mode"]);if(null!=r&&K(t,["mode"],r),void 0!==Y(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(r)),t}(S)),void 0!==Y(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const E=Y(t,["cachedContent"]);void 0!==n&&null!=E&&K(n,["cachedContent"],Yt(e,E));const x=Y(t,["responseModalities"]);null!=x&&K(r,["responseModalities"],x);const _=Y(t,["mediaResolution"]);null!=_&&K(r,["mediaResolution"],_);const C=Y(t,["speechConfig"]);if(null!=C&&K(r,["speechConfig"],$t(C)),void 0!==Y(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const T=Y(t,["thinkingConfig"]);null!=T&&K(r,["thinkingConfig"],T);const k=Y(t,["imageConfig"]);null!=k&&K(r,["imageConfig"],function(e){const t={},n=Y(e,["aspectRatio"]);null!=n&&K(t,["aspectRatio"],n);const r=Y(e,["imageSize"]);if(null!=r&&K(t,["imageSize"],r),void 0!==Y(e,["personGeneration"]))throw new Error("personGeneration parameter is not supported in Gemini API.");if(void 0!==Y(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==Y(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(k));const I=Y(t,["enableEnhancedCivicAnswers"]);return null!=I&&K(r,["enableEnhancedCivicAnswers"],I),r}(e,l,Y(n,["request"],{}))),n}(e,t))),K(n,["requests","requests"],t)}return n}(e,on(e,o)));const i=Y(t,["config"]);return null!=i&&function(e,t){const n=Y(e,["displayName"]);if(void 0!==t&&null!=n&&K(t,["batch","displayName"],n),void 0!==Y(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(i,n),n}function fn(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["model"],Ot(e,r));const o=Y(t,["src"]);null!=o&&K(n,["inputConfig"],function(e){const t={},n=Y(e,["format"]);null!=n&&K(t,["instancesFormat"],n);const r=Y(e,["gcsUri"]);null!=r&&K(t,["gcsSource","uris"],r);const o=Y(e,["bigqueryUri"]);if(null!=o&&K(t,["bigquerySource","inputUri"],o),void 0!==Y(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==Y(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(on(e,o)));const i=Y(t,["config"]);return null!=i&&function(e,t){const n=Y(e,["displayName"]);void 0!==t&&null!=n&&K(t,["displayName"],n);const r=Y(e,["dest"]);void 0!==t&&null!=r&&K(t,["outputConfig"],function(e){const t={},n=Y(e,["format"]);null!=n&&K(t,["predictionsFormat"],n);const r=Y(e,["gcsUri"]);null!=r&&K(t,["gcsDestination","outputUriPrefix"],r);const o=Y(e,["bigqueryUri"]);if(null!=o&&K(t,["bigqueryDestination","outputUri"],o),void 0!==Y(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==Y(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==Y(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!=typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}(r)))}(i,n),n}!function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"}(tt||(tt={}));class hn{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let i={config:{}};i=n&&0!==Object.keys(n).length?"object"==typeof n?Object.assign({},n):n:{config:{}},i.config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(o=null===(r=i.config)||void 0===r?void 0:r.pageSize)&&void 0!==o?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}class mn extends W{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new hn(tt.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)}}createInlinedGenerateContentRequest(e){const t=pn(this.apiClient,e),n=J("{model}:batchGenerateContent",t._url),r=t.batch.inputConfig.requests,o=r.requests,i=[];for(const e of o){const t=Object.assign({},e);if(t.systemInstruction){const e=t.systemInstruction;delete t.systemInstruction;const n=t.request;n.systemInstruction=e,t.request=n}i.push(t)}return r.requests=i,delete t.config,delete t._url,delete t._query,{path:n,body:t}}getGcsUri(e){return"string"==typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"==typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},r=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${r}`),void 0===n.dest){const t=this.getGcsUri(e),o=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?n.dest=`${t.slice(0,-6)}/dest`:n.dest=`${t}_dest_${r}`;else{if(!o)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");n.dest=`${o}_dest_${r}`}}return n}async createInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=fn(this.apiClient,e);return l=J("batchPredictionJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>cn(e))}{const t=pn(this.apiClient,e);return l=J("{model}:batchGenerateContent",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>un(e))}}async createEmbeddingsInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["src"]);null!=o&&K(n,["batch","inputConfig"],function(e,t){const n={},r=Y(t,["fileName"]);null!=r&&K(n,["file_name"],r);const o=Y(t,["inlinedRequests"]);return null!=o&&K(n,["requests"],function(e,t){const n={},r=Y(t,["contents"]);if(null!=r){let t=Ht(e,r);Array.isArray(t)&&(t=t.map(e=>e)),K(n,["requests[]","request","content"],t)}const o=Y(t,["config"]);return null!=o&&(K(n,["_self"],function(e,t){const n=Y(e,["taskType"]);void 0!==t&&null!=n&&K(t,["requests[]","taskType"],n);const r=Y(e,["title"]);void 0!==t&&null!=r&&K(t,["requests[]","title"],r);const o=Y(e,["outputDimensionality"]);if(void 0!==t&&null!=o&&K(t,["requests[]","outputDimensionality"],o),void 0!==Y(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==Y(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(o,n)),function(e){for(const[t,n]of Object.entries({"requests[].*":"requests[].request.*"})){const r=t.split("."),o=n.split("."),i=new Set;let l=-1;for(let e=0;e<r.length;e++)if("*"===r[e]){l=e;break}if(-1!==l&&o.length>l)for(let e=l;e<o.length;e++){const t=o[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||i.add(t)}Q(e,r,o,0,i)}}(n)),n}(e,o)),n}(e,o));const i=Y(t,["config"]);return null!=i&&function(e,t){const n=Y(e,["displayName"]);void 0!==t&&null!=n&&K(t,["batch","displayName"],n)}(i,n),n}(this.apiClient,e);return o=J("{model}:asyncBatchEmbedContent",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>un(e))}}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Y(t,["name"]);return null!=r&&K(n,["_url","name"],an(e,r)),n}(this.apiClient,e);return l=J("batchPredictionJobs/{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>cn(e))}{const t=function(e,t){const n={},r=Y(t,["name"]);return null!=r&&K(n,["_url","name"],an(e,r)),n}(this.apiClient,e);return l=J("batches/{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>un(e))}}async cancel(e){var t,n,r,o;let i="",l={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Y(t,["name"]);return null!=r&&K(n,["_url","name"],an(e,r)),n}(this.apiClient,e);i=J("batchPredictionJobs/{name}:cancel",r._url),l=r._query,delete r._url,delete r._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},r=Y(t,["name"]);return null!=r&&K(n,["_url","name"],an(e,r)),n}(this.apiClient,e);i=J("batches/{name}:cancel",t._url),l=t._query,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal})}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Y(e,["config"]);return null!=n&&function(e,t){const n=Y(e,["pageSize"]);void 0!==t&&null!=n&&K(t,["_query","pageSize"],n);const r=Y(e,["pageToken"]);void 0!==t&&null!=r&&K(t,["_query","pageToken"],r);const o=Y(e,["filter"]);void 0!==t&&null!=o&&K(t,["_query","filter"],o)}(n,t),t}(e);return l=J("batchPredictionJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["nextPageToken"]);null!=r&&K(t,["nextPageToken"],r);const o=Y(e,["batchPredictionJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>cn(e))),K(t,["batchJobs"],e)}return t}(e),n=new Tt;return Object.assign(n,t),n})}{const t=function(e){const t={},n=Y(e,["config"]);return null!=n&&function(e,t){const n=Y(e,["pageSize"]);void 0!==t&&null!=n&&K(t,["_query","pageSize"],n);const r=Y(e,["pageToken"]);if(void 0!==t&&null!=r&&K(t,["_query","pageToken"],r),void 0!==Y(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(n,t),t}(e);return l=J("batches",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["nextPageToken"]);null!=r&&K(t,["nextPageToken"],r);const o=Y(e,["operations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>un(e))),K(t,["batchJobs"],e)}return t}(e),n=new Tt;return Object.assign(n,t),n})}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Y(t,["name"]);return null!=r&&K(n,["_url","name"],an(e,r)),n}(this.apiClient,e);return l=J("batchPredictionJobs/{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["name"]);null!=r&&K(t,["name"],r);const o=Y(e,["done"]);null!=o&&K(t,["done"],o);const i=Y(e,["error"]);return null!=i&&K(t,["error"],i),t}(e))}{const t=function(e,t){const n={},r=Y(t,["name"]);return null!=r&&K(n,["_url","name"],an(e,r)),n}(this.apiClient,e);return l=J("batches/{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["name"]);null!=r&&K(t,["name"],r);const o=Y(e,["done"]);null!=o&&K(t,["done"],o);const i=Y(e,["error"]);return null!=i&&K(t,["error"],i),t}(e))}}}function gn(e){const t={},n=Y(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["mediaResolution"]);null!=n&&K(t,["mediaResolution"],n);const r=Y(e,["codeExecutionResult"]);null!=r&&K(t,["codeExecutionResult"],r);const o=Y(e,["executableCode"]);null!=o&&K(t,["executableCode"],o);const i=Y(e,["fileData"]);null!=i&&K(t,["fileData"],function(e){const t={};if(void 0!==Y(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Y(e,["fileUri"]);null!=n&&K(t,["fileUri"],n);const r=Y(e,["mimeType"]);return null!=r&&K(t,["mimeType"],r),t}(i));const l=Y(e,["functionCall"]);null!=l&&K(t,["functionCall"],function(e){const t={},n=Y(e,["id"]);null!=n&&K(t,["id"],n);const r=Y(e,["args"]);null!=r&&K(t,["args"],r);const o=Y(e,["name"]);if(null!=o&&K(t,["name"],o),void 0!==Y(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Y(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=Y(e,["functionResponse"]);null!=a&&K(t,["functionResponse"],a);const s=Y(e,["inlineData"]);null!=s&&K(t,["inlineData"],function(e){const t={},n=Y(e,["data"]);if(null!=n&&K(t,["data"],n),void 0!==Y(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Y(e,["mimeType"]);return null!=r&&K(t,["mimeType"],r),t}(s));const u=Y(e,["text"]);null!=u&&K(t,["text"],u);const c=Y(e,["thought"]);null!=c&&K(t,["thought"],c);const d=Y(e,["thoughtSignature"]);null!=d&&K(t,["thoughtSignature"],d);const p=Y(e,["videoMetadata"]);return null!=p&&K(t,["videoMetadata"],p),t}(e))),K(t,["parts"],e)}const r=Y(e,["role"]);return null!=r&&K(t,["role"],r),t}class yn extends W{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new hn(tt.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["model"],Nt(e,r));const o=Y(t,["config"]);return null!=o&&function(e,t){const n=Y(e,["ttl"]);void 0!==t&&null!=n&&K(t,["ttl"],n);const r=Y(e,["expireTime"]);void 0!==t&&null!=r&&K(t,["expireTime"],r);const o=Y(e,["displayName"]);void 0!==t&&null!=o&&K(t,["displayName"],o);const i=Y(e,["contents"]);if(void 0!==t&&null!=i){let e=zt(i);Array.isArray(e)&&(e=e.map(e=>e)),K(t,["contents"],e)}const l=Y(e,["systemInstruction"]);void 0!==t&&null!=l&&K(t,["systemInstruction"],Gt(l));const a=Y(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["retrieval"]);null!=n&&K(t,["retrieval"],n);const r=Y(e,["computerUse"]);if(null!=r&&K(t,["computerUse"],r),void 0!==Y(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=Y(e,["codeExecution"]);null!=o&&K(t,["codeExecution"],o);const i=Y(e,["enterpriseWebSearch"]);null!=i&&K(t,["enterpriseWebSearch"],i);const l=Y(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["description"]);null!=n&&K(t,["description"],n);const r=Y(e,["name"]);null!=r&&K(t,["name"],r);const o=Y(e,["parameters"]);null!=o&&K(t,["parameters"],o);const i=Y(e,["parametersJsonSchema"]);null!=i&&K(t,["parametersJsonSchema"],i);const l=Y(e,["response"]);null!=l&&K(t,["response"],l);const a=Y(e,["responseJsonSchema"]);if(null!=a&&K(t,["responseJsonSchema"],a),void 0!==Y(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),K(t,["functionDeclarations"],e)}const a=Y(e,["googleMaps"]);null!=a&&K(t,["googleMaps"],a);const s=Y(e,["googleSearch"]);null!=s&&K(t,["googleSearch"],s);const u=Y(e,["googleSearchRetrieval"]);null!=u&&K(t,["googleSearchRetrieval"],u);const c=Y(e,["urlContext"]);return null!=c&&K(t,["urlContext"],c),t}(e))),K(t,["tools"],e)}const s=Y(e,["toolConfig"]);void 0!==t&&null!=s&&K(t,["toolConfig"],s);const u=Y(e,["kmsKeyName"]);void 0!==t&&null!=u&&K(t,["encryption_spec","kmsKeyName"],u)}(o,n),n}(this.apiClient,e);return l=J("cachedContents",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["model"],Nt(e,r));const o=Y(t,["config"]);return null!=o&&function(e,t){const n=Y(e,["ttl"]);void 0!==t&&null!=n&&K(t,["ttl"],n);const r=Y(e,["expireTime"]);void 0!==t&&null!=r&&K(t,["expireTime"],r);const o=Y(e,["displayName"]);void 0!==t&&null!=o&&K(t,["displayName"],o);const i=Y(e,["contents"]);if(void 0!==t&&null!=i){let e=zt(i);Array.isArray(e)&&(e=e.map(e=>gn(e))),K(t,["contents"],e)}const l=Y(e,["systemInstruction"]);void 0!==t&&null!=l&&K(t,["systemInstruction"],gn(Gt(l)));const a=Y(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Y(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Y(e,["computerUse"]);null!=n&&K(t,["computerUse"],n);const r=Y(e,["fileSearch"]);null!=r&&K(t,["fileSearch"],r);const o=Y(e,["codeExecution"]);if(null!=o&&K(t,["codeExecution"],o),void 0!==Y(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=Y(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["functionDeclarations"],e)}const l=Y(e,["googleMaps"]);null!=l&&K(t,["googleMaps"],function(e){const t={};if(void 0!==Y(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Y(e,["enableWidget"]);return null!=n&&K(t,["enableWidget"],n),t}(l));const a=Y(e,["googleSearch"]);null!=a&&K(t,["googleSearch"],function(e){const t={};if(void 0!==Y(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Y(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Y(e,["timeRangeFilter"]);return null!=n&&K(t,["timeRangeFilter"],n),t}(a));const s=Y(e,["googleSearchRetrieval"]);null!=s&&K(t,["googleSearchRetrieval"],s);const u=Y(e,["urlContext"]);return null!=u&&K(t,["urlContext"],u),t}(e))),K(t,["tools"],e)}const s=Y(e,["toolConfig"]);if(void 0!==t&&null!=s&&K(t,["toolConfig"],function(e){const t={},n=Y(e,["retrievalConfig"]);null!=n&&K(t,["retrievalConfig"],n);const r=Y(e,["functionCallingConfig"]);return null!=r&&K(t,["functionCallingConfig"],function(e){const t={},n=Y(e,["allowedFunctionNames"]);null!=n&&K(t,["allowedFunctionNames"],n);const r=Y(e,["mode"]);if(null!=r&&K(t,["mode"],r),void 0!==Y(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(r)),t}(s)),void 0!==Y(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.")}(o,n),n}(this.apiClient,e);return l=J("cachedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Y(t,["name"]);return null!=r&&K(n,["_url","name"],Yt(e,r)),n}(this.apiClient,e);return l=J("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=Y(t,["name"]);return null!=r&&K(n,["_url","name"],Yt(e,r)),n}(this.apiClient,e);return l=J("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Y(t,["name"]);return null!=r&&K(n,["_url","name"],Yt(e,r)),n}(this.apiClient,e);return l=J("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);return null!=n&&K(t,["sdkHttpResponse"],n),t}(e),n=new yt;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=Y(t,["name"]);return null!=r&&K(n,["_url","name"],Yt(e,r)),n}(this.apiClient,e);return l=J("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);return null!=n&&K(t,["sdkHttpResponse"],n),t}(e),n=new yt;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Y(t,["name"]);null!=r&&K(n,["_url","name"],Yt(e,r));const o=Y(t,["config"]);return null!=o&&function(e,t){const n=Y(e,["ttl"]);void 0!==t&&null!=n&&K(t,["ttl"],n);const r=Y(e,["expireTime"]);void 0!==t&&null!=r&&K(t,["expireTime"],r)}(o,n),n}(this.apiClient,e);return l=J("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=Y(t,["name"]);null!=r&&K(n,["_url","name"],Yt(e,r));const o=Y(t,["config"]);return null!=o&&function(e,t){const n=Y(e,["ttl"]);void 0!==t&&null!=n&&K(t,["ttl"],n);const r=Y(e,["expireTime"]);void 0!==t&&null!=r&&K(t,["expireTime"],r)}(o,n),n}(this.apiClient,e);return l=J("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Y(e,["config"]);return null!=n&&function(e,t){const n=Y(e,["pageSize"]);void 0!==t&&null!=n&&K(t,["_query","pageSize"],n);const r=Y(e,["pageToken"]);void 0!==t&&null!=r&&K(t,["_query","pageToken"],r)}(n,t),t}(e);return l=J("cachedContents",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["nextPageToken"]);null!=r&&K(t,["nextPageToken"],r);const o=Y(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["cachedContents"],e)}return t}(e),n=new vt;return Object.assign(n,t),n})}{const t=function(e){const t={},n=Y(e,["config"]);return null!=n&&function(e,t){const n=Y(e,["pageSize"]);void 0!==t&&null!=n&&K(t,["_query","pageSize"],n);const r=Y(e,["pageToken"]);void 0!==t&&null!=r&&K(t,["_query","pageToken"],r)}(n,t),t}(e);return l=J("cachedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["nextPageToken"]);null!=r&&K(t,["nextPageToken"],r);const o=Y(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["cachedContents"],e)}return t}(e),n=new vt;return Object.assign(n,t),n})}}}function vn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function bn(e){return this instanceof bn?(this.v=e,this):new bn(e)}function wn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function l(e,t){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||a(e,t)})},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof bn?Promise.resolve(n.value.v).then(s,u):c(i[0][2],n)}catch(e){c(i[0][3],e)}var n}function s(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Sn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,o,(t=e[n](t)).done,t.value)})}}}function En(e){var t;if(null==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&xn(n)}function xn(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function _n(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const o=[];let i=!0;for(;r<n&&"model"===e[r].role;)o.push(e[r]),i&&!xn(e[r])&&(i=!1),r++;i?t.push(...o):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class Cn{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Tn(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Tn{constructor(e,t,n,r={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(o)}async sendMessage(e){var t;await this.sendPromise;const n=Gt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,o;const i=await r,l=null===(t=null===(e=i.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,a=i.automaticFunctionCallingHistory,s=this.getHistory(!0).length;let u=[];null!=a&&(u=null!==(o=a.slice(s))&&void 0!==o?o:[]);const c=l?[l]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const n=Gt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,n)}getHistory(e=!1){const t=e?_n(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return wn(this,arguments,function*(){var n,r,o,i,l,a;const s=[];try{for(var u,c=!0,d=Sn(e);!(n=(u=yield bn(d.next())).done);c=!0){i=u.value,c=!1;const e=i;if(En(e)){const t=null===(a=null===(l=e.candidates)||void 0===l?void 0:l[0])||void 0===a?void 0:a.content;void 0!==t&&s.push(t)}yield yield bn(e)}}catch(e){r={error:e}}finally{try{c||n||!(o=d.return)||(yield bn(o.call(d)))}finally{if(r)throw r.error}}this.recordHistory(t,s)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(e=>void 0!==e.role)?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(..._n(n)):this.history.push(e),this.history.push(...r)}}class kn extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,kn.prototype)}}class In extends W{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new hn(tt.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Y(e,["config"]);return null!=n&&function(e,t){const n=Y(e,["pageSize"]);void 0!==t&&null!=n&&K(t,["_query","pageSize"],n);const r=Y(e,["pageToken"]);void 0!==t&&null!=r&&K(t,["_query","pageToken"],r)}(n,t),t}(e);return o=J("files",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["nextPageToken"]);null!=r&&K(t,["nextPageToken"],r);const o=Y(e,["files"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["files"],e)}return t}(e),n=new xt;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Y(e,["file"]);return null!=n&&K(t,["file"],n),t}(e);return o=J("upload/v1beta/files",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);return null!=n&&K(t,["sdkHttpResponse"],n),t}(e),n=new _t;return Object.assign(n,t),n})}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Y(e,["name"]);return null!=n&&K(t,["_url","file"],Zt(n)),t}(e);return o=J("files/{file}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Y(e,["name"]);return null!=n&&K(t,["_url","file"],Zt(n)),t}(e);return o=J("files/{file}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);return null!=n&&K(t,["sdkHttpResponse"],n),t}(e),n=new Ct;return Object.assign(n,t),n})}}}function An(e){const t={},n=Y(e,["data"]);if(null!=n&&K(t,["data"],n),void 0!==Y(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Y(e,["mimeType"]);return null!=r&&K(t,["mimeType"],r),t}function On(e,t){const n=Y(e,["generationConfig"]);void 0!==t&&null!=n&&K(t,["setup","generationConfig"],n);const r=Y(e,["responseModalities"]);void 0!==t&&null!=r&&K(t,["setup","generationConfig","responseModalities"],r);const o=Y(e,["temperature"]);void 0!==t&&null!=o&&K(t,["setup","generationConfig","temperature"],o);const i=Y(e,["topP"]);void 0!==t&&null!=i&&K(t,["setup","generationConfig","topP"],i);const l=Y(e,["topK"]);void 0!==t&&null!=l&&K(t,["setup","generationConfig","topK"],l);const a=Y(e,["maxOutputTokens"]);void 0!==t&&null!=a&&K(t,["setup","generationConfig","maxOutputTokens"],a);const s=Y(e,["mediaResolution"]);void 0!==t&&null!=s&&K(t,["setup","generationConfig","mediaResolution"],s);const u=Y(e,["seed"]);void 0!==t&&null!=u&&K(t,["setup","generationConfig","seed"],u);const c=Y(e,["speechConfig"]);void 0!==t&&null!=c&&K(t,["setup","generationConfig","speechConfig"],Wt(c));const d=Y(e,["thinkingConfig"]);void 0!==t&&null!=d&&K(t,["setup","generationConfig","thinkingConfig"],d);const p=Y(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&K(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=Y(e,["systemInstruction"]);void 0!==t&&null!=f&&K(t,["setup","systemInstruction"],function(e){const t={},n=Y(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["mediaResolution"]);null!=n&&K(t,["mediaResolution"],n);const r=Y(e,["codeExecutionResult"]);null!=r&&K(t,["codeExecutionResult"],r);const o=Y(e,["executableCode"]);null!=o&&K(t,["executableCode"],o);const i=Y(e,["fileData"]);null!=i&&K(t,["fileData"],function(e){const t={};if(void 0!==Y(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Y(e,["fileUri"]);null!=n&&K(t,["fileUri"],n);const r=Y(e,["mimeType"]);return null!=r&&K(t,["mimeType"],r),t}(i));const l=Y(e,["functionCall"]);null!=l&&K(t,["functionCall"],function(e){const t={},n=Y(e,["id"]);null!=n&&K(t,["id"],n);const r=Y(e,["args"]);null!=r&&K(t,["args"],r);const o=Y(e,["name"]);if(null!=o&&K(t,["name"],o),void 0!==Y(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Y(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=Y(e,["functionResponse"]);null!=a&&K(t,["functionResponse"],a);const s=Y(e,["inlineData"]);null!=s&&K(t,["inlineData"],An(s));const u=Y(e,["text"]);null!=u&&K(t,["text"],u);const c=Y(e,["thought"]);null!=c&&K(t,["thought"],c);const d=Y(e,["thoughtSignature"]);null!=d&&K(t,["thoughtSignature"],d);const p=Y(e,["videoMetadata"]);return null!=p&&K(t,["videoMetadata"],p),t}(e))),K(t,["parts"],e)}const r=Y(e,["role"]);return null!=r&&K(t,["role"],r),t}(Gt(f)));const h=Y(e,["tools"]);if(void 0!==t&&null!=h){let e=Kt(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Y(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Y(e,["computerUse"]);null!=n&&K(t,["computerUse"],n);const r=Y(e,["fileSearch"]);null!=r&&K(t,["fileSearch"],r);const o=Y(e,["codeExecution"]);if(null!=o&&K(t,["codeExecution"],o),void 0!==Y(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=Y(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["functionDeclarations"],e)}const l=Y(e,["googleMaps"]);null!=l&&K(t,["googleMaps"],function(e){const t={};if(void 0!==Y(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Y(e,["enableWidget"]);return null!=n&&K(t,["enableWidget"],n),t}(l));const a=Y(e,["googleSearch"]);null!=a&&K(t,["googleSearch"],function(e){const t={};if(void 0!==Y(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Y(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Y(e,["timeRangeFilter"]);return null!=n&&K(t,["timeRangeFilter"],n),t}(a));const s=Y(e,["googleSearchRetrieval"]);null!=s&&K(t,["googleSearchRetrieval"],s);const u=Y(e,["urlContext"]);return null!=u&&K(t,["urlContext"],u),t}(Jt(e)))),K(t,["setup","tools"],e)}const m=Y(e,["sessionResumption"]);void 0!==t&&null!=m&&K(t,["setup","sessionResumption"],function(e){const t={},n=Y(e,["handle"]);if(null!=n&&K(t,["handle"],n),void 0!==Y(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(m));const g=Y(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&K(t,["setup","inputAudioTranscription"],g);const y=Y(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&K(t,["setup","outputAudioTranscription"],y);const v=Y(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&K(t,["setup","realtimeInputConfig"],v);const b=Y(e,["contextWindowCompression"]);void 0!==t&&null!=b&&K(t,["setup","contextWindowCompression"],b);const w=Y(e,["proactivity"]);if(void 0!==t&&null!=w&&K(t,["setup","proactivity"],w),void 0!==Y(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}function Nn(e){const t={},n=Y(e,["media"]);if(null!=n){let e=Pt(n);Array.isArray(e)&&(e=e.map(e=>An(e))),K(t,["mediaChunks"],e)}const r=Y(e,["audio"]);null!=r&&K(t,["audio"],An(Dt(r)));const o=Y(e,["audioStreamEnd"]);null!=o&&K(t,["audioStreamEnd"],o);const i=Y(e,["video"]);null!=i&&K(t,["video"],An(jt(i)));const l=Y(e,["text"]);null!=l&&K(t,["text"],l);const a=Y(e,["activityStart"]);null!=a&&K(t,["activityStart"],a);const s=Y(e,["activityEnd"]);return null!=s&&K(t,["activityEnd"],s),t}function Pn(e){const t={},n=Y(e,["media"]);if(null!=n){let e=Pt(n);Array.isArray(e)&&(e=e.map(e=>e)),K(t,["mediaChunks"],e)}const r=Y(e,["audio"]);null!=r&&K(t,["audio"],Dt(r));const o=Y(e,["audioStreamEnd"]);null!=o&&K(t,["audioStreamEnd"],o);const i=Y(e,["video"]);null!=i&&K(t,["video"],jt(i));const l=Y(e,["text"]);null!=l&&K(t,["text"],l);const a=Y(e,["activityStart"]);null!=a&&K(t,["activityStart"],a);const s=Y(e,["activityEnd"]);return null!=s&&K(t,["activityEnd"],s),t}function Rn(e){const t={},n=Y(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["mediaResolution"]);null!=n&&K(t,["mediaResolution"],n);const r=Y(e,["codeExecutionResult"]);null!=r&&K(t,["codeExecutionResult"],r);const o=Y(e,["executableCode"]);null!=o&&K(t,["executableCode"],o);const i=Y(e,["fileData"]);null!=i&&K(t,["fileData"],function(e){const t={};if(void 0!==Y(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Y(e,["fileUri"]);null!=n&&K(t,["fileUri"],n);const r=Y(e,["mimeType"]);return null!=r&&K(t,["mimeType"],r),t}(i));const l=Y(e,["functionCall"]);null!=l&&K(t,["functionCall"],function(e){const t={},n=Y(e,["id"]);null!=n&&K(t,["id"],n);const r=Y(e,["args"]);null!=r&&K(t,["args"],r);const o=Y(e,["name"]);if(null!=o&&K(t,["name"],o),void 0!==Y(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Y(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=Y(e,["functionResponse"]);null!=a&&K(t,["functionResponse"],a);const s=Y(e,["inlineData"]);null!=s&&K(t,["inlineData"],function(e){const t={},n=Y(e,["data"]);if(null!=n&&K(t,["data"],n),void 0!==Y(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Y(e,["mimeType"]);return null!=r&&K(t,["mimeType"],r),t}(s));const u=Y(e,["text"]);null!=u&&K(t,["text"],u);const c=Y(e,["thought"]);null!=c&&K(t,["thought"],c);const d=Y(e,["thoughtSignature"]);null!=d&&K(t,["thoughtSignature"],d);const p=Y(e,["videoMetadata"]);return null!=p&&K(t,["videoMetadata"],p),t}(e))),K(t,["parts"],e)}const r=Y(e,["role"]);return null!=r&&K(t,["role"],r),t}function jn(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["contents"]);if(null!=o){let e=zt(o);Array.isArray(e)&&(e=e.map(e=>Rn(e))),K(n,["contents"],e)}const i=Y(t,["config"]);return null!=i&&K(n,["generationConfig"],function(e,t,n){const r={},o=Y(t,["systemInstruction"]);void 0!==n&&null!=o&&K(n,["systemInstruction"],Rn(Gt(o)));const i=Y(t,["temperature"]);null!=i&&K(r,["temperature"],i);const l=Y(t,["topP"]);null!=l&&K(r,["topP"],l);const a=Y(t,["topK"]);null!=a&&K(r,["topK"],a);const s=Y(t,["candidateCount"]);null!=s&&K(r,["candidateCount"],s);const u=Y(t,["maxOutputTokens"]);null!=u&&K(r,["maxOutputTokens"],u);const c=Y(t,["stopSequences"]);null!=c&&K(r,["stopSequences"],c);const d=Y(t,["responseLogprobs"]);null!=d&&K(r,["responseLogprobs"],d);const p=Y(t,["logprobs"]);null!=p&&K(r,["logprobs"],p);const f=Y(t,["presencePenalty"]);null!=f&&K(r,["presencePenalty"],f);const h=Y(t,["frequencyPenalty"]);null!=h&&K(r,["frequencyPenalty"],h);const m=Y(t,["seed"]);null!=m&&K(r,["seed"],m);const g=Y(t,["responseMimeType"]);null!=g&&K(r,["responseMimeType"],g);const y=Y(t,["responseSchema"]);null!=y&&K(r,["responseSchema"],Bt(y));const v=Y(t,["responseJsonSchema"]);if(null!=v&&K(r,["responseJsonSchema"],v),void 0!==Y(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==Y(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=Y(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["category"]);if(null!=n&&K(t,["category"],n),void 0!==Y(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=Y(e,["threshold"]);return null!=r&&K(t,["threshold"],r),t}(e))),K(n,["safetySettings"],e)}const w=Y(t,["tools"]);if(void 0!==n&&null!=w){let e=Kt(w);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Y(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Y(e,["computerUse"]);null!=n&&K(t,["computerUse"],n);const r=Y(e,["fileSearch"]);null!=r&&K(t,["fileSearch"],r);const o=Y(e,["codeExecution"]);if(null!=o&&K(t,["codeExecution"],o),void 0!==Y(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=Y(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["functionDeclarations"],e)}const l=Y(e,["googleMaps"]);null!=l&&K(t,["googleMaps"],function(e){const t={};if(void 0!==Y(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Y(e,["enableWidget"]);return null!=n&&K(t,["enableWidget"],n),t}(l));const a=Y(e,["googleSearch"]);null!=a&&K(t,["googleSearch"],function(e){const t={};if(void 0!==Y(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Y(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Y(e,["timeRangeFilter"]);return null!=n&&K(t,["timeRangeFilter"],n),t}(a));const s=Y(e,["googleSearchRetrieval"]);null!=s&&K(t,["googleSearchRetrieval"],s);const u=Y(e,["urlContext"]);return null!=u&&K(t,["urlContext"],u),t}(Jt(e)))),K(n,["tools"],e)}const S=Y(t,["toolConfig"]);if(void 0!==n&&null!=S&&K(n,["toolConfig"],function(e){const t={},n=Y(e,["retrievalConfig"]);null!=n&&K(t,["retrievalConfig"],n);const r=Y(e,["functionCallingConfig"]);return null!=r&&K(t,["functionCallingConfig"],function(e){const t={},n=Y(e,["allowedFunctionNames"]);null!=n&&K(t,["allowedFunctionNames"],n);const r=Y(e,["mode"]);if(null!=r&&K(t,["mode"],r),void 0!==Y(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(r)),t}(S)),void 0!==Y(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const E=Y(t,["cachedContent"]);void 0!==n&&null!=E&&K(n,["cachedContent"],Yt(e,E));const x=Y(t,["responseModalities"]);null!=x&&K(r,["responseModalities"],x);const _=Y(t,["mediaResolution"]);null!=_&&K(r,["mediaResolution"],_);const C=Y(t,["speechConfig"]);if(null!=C&&K(r,["speechConfig"],$t(C)),void 0!==Y(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const T=Y(t,["thinkingConfig"]);null!=T&&K(r,["thinkingConfig"],T);const k=Y(t,["imageConfig"]);null!=k&&K(r,["imageConfig"],function(e){const t={},n=Y(e,["aspectRatio"]);null!=n&&K(t,["aspectRatio"],n);const r=Y(e,["imageSize"]);if(null!=r&&K(t,["imageSize"],r),void 0!==Y(e,["personGeneration"]))throw new Error("personGeneration parameter is not supported in Gemini API.");if(void 0!==Y(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==Y(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(k));const I=Y(t,["enableEnhancedCivicAnswers"]);return null!=I&&K(r,["enableEnhancedCivicAnswers"],I),r}(e,i,n)),n}function Dn(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["contents"]);if(null!=o){let e=zt(o);Array.isArray(e)&&(e=e.map(e=>e)),K(n,["contents"],e)}const i=Y(t,["config"]);return null!=i&&K(n,["generationConfig"],function(e,t,n){const r={},o=Y(t,["systemInstruction"]);void 0!==n&&null!=o&&K(n,["systemInstruction"],Gt(o));const i=Y(t,["temperature"]);null!=i&&K(r,["temperature"],i);const l=Y(t,["topP"]);null!=l&&K(r,["topP"],l);const a=Y(t,["topK"]);null!=a&&K(r,["topK"],a);const s=Y(t,["candidateCount"]);null!=s&&K(r,["candidateCount"],s);const u=Y(t,["maxOutputTokens"]);null!=u&&K(r,["maxOutputTokens"],u);const c=Y(t,["stopSequences"]);null!=c&&K(r,["stopSequences"],c);const d=Y(t,["responseLogprobs"]);null!=d&&K(r,["responseLogprobs"],d);const p=Y(t,["logprobs"]);null!=p&&K(r,["logprobs"],p);const f=Y(t,["presencePenalty"]);null!=f&&K(r,["presencePenalty"],f);const h=Y(t,["frequencyPenalty"]);null!=h&&K(r,["frequencyPenalty"],h);const m=Y(t,["seed"]);null!=m&&K(r,["seed"],m);const g=Y(t,["responseMimeType"]);null!=g&&K(r,["responseMimeType"],g);const y=Y(t,["responseSchema"]);null!=y&&K(r,["responseSchema"],Bt(y));const v=Y(t,["responseJsonSchema"]);null!=v&&K(r,["responseJsonSchema"],v);const b=Y(t,["routingConfig"]);null!=b&&K(r,["routingConfig"],b);const w=Y(t,["modelSelectionConfig"]);null!=w&&K(r,["modelConfig"],w);const S=Y(t,["safetySettings"]);if(void 0!==n&&null!=S){let e=S;Array.isArray(e)&&(e=e.map(e=>e)),K(n,["safetySettings"],e)}const E=Y(t,["tools"]);if(void 0!==n&&null!=E){let e=Kt(E);Array.isArray(e)&&(e=e.map(e=>Jn(Jt(e)))),K(n,["tools"],e)}const x=Y(t,["toolConfig"]);void 0!==n&&null!=x&&K(n,["toolConfig"],x);const _=Y(t,["labels"]);void 0!==n&&null!=_&&K(n,["labels"],_);const C=Y(t,["cachedContent"]);void 0!==n&&null!=C&&K(n,["cachedContent"],Yt(e,C));const T=Y(t,["responseModalities"]);null!=T&&K(r,["responseModalities"],T);const k=Y(t,["mediaResolution"]);null!=k&&K(r,["mediaResolution"],k);const I=Y(t,["speechConfig"]);null!=I&&K(r,["speechConfig"],$t(I));const A=Y(t,["audioTimestamp"]);null!=A&&K(r,["audioTimestamp"],A);const O=Y(t,["thinkingConfig"]);null!=O&&K(r,["thinkingConfig"],O);const N=Y(t,["imageConfig"]);if(null!=N&&K(r,["imageConfig"],function(e){const t={},n=Y(e,["aspectRatio"]);null!=n&&K(t,["aspectRatio"],n);const r=Y(e,["imageSize"]);null!=r&&K(t,["imageSize"],r);const o=Y(e,["personGeneration"]);null!=o&&K(t,["personGeneration"],o);const i=Y(e,["outputMimeType"]);null!=i&&K(t,["imageOutputOptions","mimeType"],i);const l=Y(e,["outputCompressionQuality"]);return null!=l&&K(t,["imageOutputOptions","compressionQuality"],l),t}(N)),void 0!==Y(t,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}(e,i,n)),n}function Mn(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["content"]);null!=n&&K(t,["content"],n);const r=Y(e,["citationMetadata"]);null!=r&&K(t,["citationMetadata"],function(e){const t={},n=Y(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["citations"],e)}return t}(r));const o=Y(e,["tokenCount"]);null!=o&&K(t,["tokenCount"],o);const i=Y(e,["finishReason"]);null!=i&&K(t,["finishReason"],i);const l=Y(e,["avgLogprobs"]);null!=l&&K(t,["avgLogprobs"],l);const a=Y(e,["groundingMetadata"]);null!=a&&K(t,["groundingMetadata"],a);const s=Y(e,["index"]);null!=s&&K(t,["index"],s);const u=Y(e,["logprobsResult"]);null!=u&&K(t,["logprobsResult"],u);const c=Y(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["safetyRatings"],e)}const d=Y(e,["urlContextMetadata"]);return null!=d&&K(t,["urlContextMetadata"],d),t}(e))),K(t,["candidates"],e)}const o=Y(e,["modelVersion"]);null!=o&&K(t,["modelVersion"],o);const i=Y(e,["promptFeedback"]);null!=i&&K(t,["promptFeedback"],i);const l=Y(e,["responseId"]);null!=l&&K(t,["responseId"],l);const a=Y(e,["usageMetadata"]);return null!=a&&K(t,["usageMetadata"],a),t}function Ln(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["candidates"],e)}const o=Y(e,["createTime"]);null!=o&&K(t,["createTime"],o);const i=Y(e,["modelVersion"]);null!=i&&K(t,["modelVersion"],i);const l=Y(e,["promptFeedback"]);null!=l&&K(t,["promptFeedback"],l);const a=Y(e,["responseId"]);null!=a&&K(t,["responseId"],a);const s=Y(e,["usageMetadata"]);return null!=s&&K(t,["usageMetadata"],s),t}function Un(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["prompt"]);null!=o&&K(n,["instances[0]","prompt"],o);const i=Y(t,["image"]);null!=i&&K(n,["instances[0]","image"],Hn(i));const l=Y(t,["video"]);null!=l&&K(n,["instances[0]","video"],Kn(l));const a=Y(t,["source"]);null!=a&&function(e,t){const n=Y(e,["prompt"]);void 0!==t&&null!=n&&K(t,["instances[0]","prompt"],n);const r=Y(e,["image"]);void 0!==t&&null!=r&&K(t,["instances[0]","image"],Hn(r));const o=Y(e,["video"]);void 0!==t&&null!=o&&K(t,["instances[0]","video"],Kn(o))}(a,n);const s=Y(t,["config"]);return null!=s&&function(e,t){const n=Y(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&K(t,["parameters","sampleCount"],n),void 0!==Y(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==Y(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const r=Y(e,["durationSeconds"]);if(void 0!==t&&null!=r&&K(t,["parameters","durationSeconds"],r),void 0!==Y(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const o=Y(e,["aspectRatio"]);void 0!==t&&null!=o&&K(t,["parameters","aspectRatio"],o);const i=Y(e,["resolution"]);void 0!==t&&null!=i&&K(t,["parameters","resolution"],i);const l=Y(e,["personGeneration"]);if(void 0!==t&&null!=l&&K(t,["parameters","personGeneration"],l),void 0!==Y(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=Y(e,["negativePrompt"]);void 0!==t&&null!=a&&K(t,["parameters","negativePrompt"],a);const s=Y(e,["enhancePrompt"]);if(void 0!==t&&null!=s&&K(t,["parameters","enhancePrompt"],s),void 0!==Y(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const u=Y(e,["lastFrame"]);void 0!==t&&null!=u&&K(t,["instances[0]","lastFrame"],Hn(u));const c=Y(e,["referenceImages"]);if(void 0!==t&&null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["image"]);null!=n&&K(t,["image"],Hn(n));const r=Y(e,["referenceType"]);return null!=r&&K(t,["referenceType"],r),t}(e))),K(t,["instances[0]","referenceImages"],e)}if(void 0!==Y(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==Y(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.")}(s,n),n}function Fn(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["prompt"]);null!=o&&K(n,["instances[0]","prompt"],o);const i=Y(t,["image"]);null!=i&&K(n,["instances[0]","image"],zn(i));const l=Y(t,["video"]);null!=l&&K(n,["instances[0]","video"],Yn(l));const a=Y(t,["source"]);null!=a&&function(e,t){const n=Y(e,["prompt"]);void 0!==t&&null!=n&&K(t,["instances[0]","prompt"],n);const r=Y(e,["image"]);void 0!==t&&null!=r&&K(t,["instances[0]","image"],zn(r));const o=Y(e,["video"]);void 0!==t&&null!=o&&K(t,["instances[0]","video"],Yn(o))}(a,n);const s=Y(t,["config"]);return null!=s&&function(e,t){const n=Y(e,["numberOfVideos"]);void 0!==t&&null!=n&&K(t,["parameters","sampleCount"],n);const r=Y(e,["outputGcsUri"]);void 0!==t&&null!=r&&K(t,["parameters","storageUri"],r);const o=Y(e,["fps"]);void 0!==t&&null!=o&&K(t,["parameters","fps"],o);const i=Y(e,["durationSeconds"]);void 0!==t&&null!=i&&K(t,["parameters","durationSeconds"],i);const l=Y(e,["seed"]);void 0!==t&&null!=l&&K(t,["parameters","seed"],l);const a=Y(e,["aspectRatio"]);void 0!==t&&null!=a&&K(t,["parameters","aspectRatio"],a);const s=Y(e,["resolution"]);void 0!==t&&null!=s&&K(t,["parameters","resolution"],s);const u=Y(e,["personGeneration"]);void 0!==t&&null!=u&&K(t,["parameters","personGeneration"],u);const c=Y(e,["pubsubTopic"]);void 0!==t&&null!=c&&K(t,["parameters","pubsubTopic"],c);const d=Y(e,["negativePrompt"]);void 0!==t&&null!=d&&K(t,["parameters","negativePrompt"],d);const p=Y(e,["enhancePrompt"]);void 0!==t&&null!=p&&K(t,["parameters","enhancePrompt"],p);const f=Y(e,["generateAudio"]);void 0!==t&&null!=f&&K(t,["parameters","generateAudio"],f);const h=Y(e,["lastFrame"]);void 0!==t&&null!=h&&K(t,["instances[0]","lastFrame"],zn(h));const m=Y(e,["referenceImages"]);if(void 0!==t&&null!=m){let e=m;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["image"]);null!=n&&K(t,["image"],zn(n));const r=Y(e,["referenceType"]);return null!=r&&K(t,["referenceType"],r),t}(e))),K(t,["instances[0]","referenceImages"],e)}const g=Y(e,["mask"]);void 0!==t&&null!=g&&K(t,["instances[0]","mask"],function(e){const t={},n=Y(e,["image"]);null!=n&&K(t,["_self"],zn(n));const r=Y(e,["maskMode"]);return null!=r&&K(t,["maskMode"],r),t}(g));const y=Y(e,["compressionQuality"]);void 0!==t&&null!=y&&K(t,["parameters","compressionQuality"],y)}(s,n),n}function qn(e){const t={},n=Y(e,["_self"]);null!=n&&K(t,["image"],Gn(n));const r=Y(e,["raiFilteredReason"]);null!=r&&K(t,["raiFilteredReason"],r);const o=Y(e,["_self"]);null!=o&&K(t,["safetyAttributes"],Wn(o));const i=Y(e,["prompt"]);return null!=i&&K(t,["enhancedPrompt"],i),t}function Gn(e){const t={},n=Y(e,["gcsUri"]);null!=n&&K(t,["gcsUri"],n);const r=Y(e,["bytesBase64Encoded"]);null!=r&&K(t,["imageBytes"],Xt(r));const o=Y(e,["mimeType"]);return null!=o&&K(t,["mimeType"],o),t}function Hn(e){const t={};if(void 0!==Y(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=Y(e,["imageBytes"]);null!=n&&K(t,["bytesBase64Encoded"],Xt(n));const r=Y(e,["mimeType"]);return null!=r&&K(t,["mimeType"],r),t}function zn(e){const t={},n=Y(e,["gcsUri"]);null!=n&&K(t,["gcsUri"],n);const r=Y(e,["imageBytes"]);null!=r&&K(t,["bytesBase64Encoded"],Xt(r));const o=Y(e,["mimeType"]);return null!=o&&K(t,["mimeType"],o),t}function Vn(e){const t={},n=Y(e,["name"]);null!=n&&K(t,["name"],n);const r=Y(e,["displayName"]);null!=r&&K(t,["displayName"],r);const o=Y(e,["description"]);null!=o&&K(t,["description"],o);const i=Y(e,["version"]);null!=i&&K(t,["version"],i);const l=Y(e,["_self"]);null!=l&&K(t,["tunedModelInfo"],function(e){const t={},n=Y(e,["baseModel"]);null!=n&&K(t,["baseModel"],n);const r=Y(e,["createTime"]);null!=r&&K(t,["createTime"],r);const o=Y(e,["updateTime"]);return null!=o&&K(t,["updateTime"],o),t}(l));const a=Y(e,["inputTokenLimit"]);null!=a&&K(t,["inputTokenLimit"],a);const s=Y(e,["outputTokenLimit"]);null!=s&&K(t,["outputTokenLimit"],s);const u=Y(e,["supportedGenerationMethods"]);null!=u&&K(t,["supportedActions"],u);const c=Y(e,["temperature"]);null!=c&&K(t,["temperature"],c);const d=Y(e,["maxTemperature"]);null!=d&&K(t,["maxTemperature"],d);const p=Y(e,["topP"]);null!=p&&K(t,["topP"],p);const f=Y(e,["topK"]);null!=f&&K(t,["topK"],f);const h=Y(e,["thinking"]);return null!=h&&K(t,["thinking"],h),t}function Bn(e){const t={},n=Y(e,["name"]);null!=n&&K(t,["name"],n);const r=Y(e,["displayName"]);null!=r&&K(t,["displayName"],r);const o=Y(e,["description"]);null!=o&&K(t,["description"],o);const i=Y(e,["versionId"]);null!=i&&K(t,["version"],i);const l=Y(e,["deployedModels"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["endpoint"]);null!=n&&K(t,["name"],n);const r=Y(e,["deployedModelId"]);return null!=r&&K(t,["deployedModelId"],r),t}(e))),K(t,["endpoints"],e)}const a=Y(e,["labels"]);null!=a&&K(t,["labels"],a);const s=Y(e,["_self"]);null!=s&&K(t,["tunedModelInfo"],function(e){const t={},n=Y(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&K(t,["baseModel"],n);const r=Y(e,["createTime"]);null!=r&&K(t,["createTime"],r);const o=Y(e,["updateTime"]);return null!=o&&K(t,["updateTime"],o),t}(s));const u=Y(e,["defaultCheckpointId"]);null!=u&&K(t,["defaultCheckpointId"],u);const c=Y(e,["checkpoints"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["checkpoints"],e)}return t}function $n(e){const t={},n=Y(e,["safetyAttributes","categories"]);null!=n&&K(t,["categories"],n);const r=Y(e,["safetyAttributes","scores"]);null!=r&&K(t,["scores"],r);const o=Y(e,["contentType"]);return null!=o&&K(t,["contentType"],o),t}function Wn(e){const t={},n=Y(e,["safetyAttributes","categories"]);null!=n&&K(t,["categories"],n);const r=Y(e,["safetyAttributes","scores"]);null!=r&&K(t,["scores"],r);const o=Y(e,["contentType"]);return null!=o&&K(t,["contentType"],o),t}function Jn(e){const t={},n=Y(e,["retrieval"]);null!=n&&K(t,["retrieval"],n);const r=Y(e,["computerUse"]);if(null!=r&&K(t,["computerUse"],r),void 0!==Y(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=Y(e,["codeExecution"]);null!=o&&K(t,["codeExecution"],o);const i=Y(e,["enterpriseWebSearch"]);null!=i&&K(t,["enterpriseWebSearch"],i);const l=Y(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["description"]);null!=n&&K(t,["description"],n);const r=Y(e,["name"]);null!=r&&K(t,["name"],r);const o=Y(e,["parameters"]);null!=o&&K(t,["parameters"],o);const i=Y(e,["parametersJsonSchema"]);null!=i&&K(t,["parametersJsonSchema"],i);const l=Y(e,["response"]);null!=l&&K(t,["response"],l);const a=Y(e,["responseJsonSchema"]);if(null!=a&&K(t,["responseJsonSchema"],a),void 0!==Y(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),K(t,["functionDeclarations"],e)}const a=Y(e,["googleMaps"]);null!=a&&K(t,["googleMaps"],a);const s=Y(e,["googleSearch"]);null!=s&&K(t,["googleSearch"],s);const u=Y(e,["googleSearchRetrieval"]);null!=u&&K(t,["googleSearchRetrieval"],u);const c=Y(e,["urlContext"]);return null!=c&&K(t,["urlContext"],c),t}function Kn(e){const t={},n=Y(e,["uri"]);null!=n&&K(t,["uri"],n);const r=Y(e,["videoBytes"]);null!=r&&K(t,["encodedVideo"],Xt(r));const o=Y(e,["mimeType"]);return null!=o&&K(t,["encoding"],o),t}function Yn(e){const t={},n=Y(e,["uri"]);null!=n&&K(t,["gcsUri"],n);const r=Y(e,["videoBytes"]);null!=r&&K(t,["bytesBase64Encoded"],Xt(r));const o=Y(e,["mimeType"]);return null!=o&&K(t,["mimeType"],o),t}function Qn(e,t){const n=Y(e,["mimeType"]);void 0!==t&&null!=n&&K(t,["mimeType"],n);const r=Y(e,["displayName"]);void 0!==t&&null!=r&&K(t,["displayName"],r);const o=Y(e,["customMetadata"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["customMetadata"],e)}const i=Y(e,["chunkingConfig"]);return void 0!==t&&null!=i&&K(t,["chunkingConfig"],i),{}}const Xn="x-goog-api-client";class Zn{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];return n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||"GET"===e.httpMethod&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[t,n]of Object.entries(e.queryParams))r.searchParams.append(t,String(n));let o={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,r.toString(),e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[e,r]of Object.entries(t))"object"==typeof r?n[e]=Object.assign(Object.assign({},n[e]),r):void 0!==r&&(n[e]=r);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,r.toString(),e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,r){if(t&&t.timeout||r){const n=new AbortController,o=n.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){const e=setTimeout(()=>n.abort(),t.timeout);e&&"function"==typeof e.unref&&e.unref()}r&&r.addEventListener("abort",()=>{n.abort()}),e.signal=o}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return void console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let n={};if("string"==typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!=typeof t||null===t||Array.isArray(t))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");n=t}catch(e){return void console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.")}const r=function e(t,n){const r=Object.assign({},t);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const o=n[t],i=r[t];o&&"object"==typeof o&&!Array.isArray(o)&&i&&"object"==typeof i&&!Array.isArray(i)?r[t]=e(i,o):(i&&o&&typeof i!=typeof o&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${t}". Original type: ${typeof i}, New type: ${typeof o}. Overwriting.`),r[t]=o)}return r}(n,t);e.body=JSON.stringify(r)}(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await er(e),new nt(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await er(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){return wn(this,arguments,function*(){var t;const n=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";const o="data:",i=["\n\n","\r\r","\r\n\r\n"];for(;;){const{done:l,value:a}=yield bn(n.read());if(l){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const s=r.decode(a,{stream:!0});try{const e=JSON.parse(s);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,o=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<600)throw new kn({message:o,status:r})}}catch(e){if("ApiError"===e.name)throw e}t+=s;let u=-1,c=0;for(;;){u=-1,c=0;for(const e of i){const n=t.indexOf(e);-1!==n&&(-1===u||n<u)&&(u=n,c=e.length)}if(-1===u)break;const n=t.substring(0,u);t=t.substring(u+c);const r=n.trim();if(r.startsWith(o)){const t=r.substring(o.length).trim();try{const n=new Response(t,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield bn(new nt(n))}catch(e){throw new Error(`exception parsing stream chunk ${t}. ${e}`)}}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error(`exception ${e} sending request`)})}getDefaultHeaders(){const e={},t="google-genai-sdk/1.35.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[Xn]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){const n=new Headers;if(e&&e.headers){for(const[t,r]of Object.entries(e.headers))n.append(t,r);e.timeout&&e.timeout>0&&n.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){var t;let n="";return"string"==typeof e&&(n=e.replace(/[/\\]+$/,""),n=null!==(t=n.split(/[/\\]/).pop())&&void 0!==t?t:""),n}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,i=await o.stat(e);r.sizeBytes=String(i.size);const l=null!==(n=null==t?void 0:t.mimeType)&&void 0!==n?n:i.type;if(void 0===l||""===l)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=l;const a={file:r},s=this.getFileName(e),u=J("upload/v1beta/files",a._url),c=await this.fetchUploadUrl(u,r.sizeBytes,r.mimeType,s,a,null==t?void 0:t.httpOptions);return o.upload(e,c,this)}async uploadFileToFileSearchStore(e,t,n){var r;const o=this.clientOptions.uploader,i=await o.stat(t),l=String(i.size),a=null!==(r=null==n?void 0:n.mimeType)&&void 0!==r?r:i.type;if(void 0===a||""===a)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const s=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(t),c={};null!=n&&Qn(n,c);const d=await this.fetchUploadUrl(s,l,a,u,c,null==n?void 0:n.httpOptions);return o.uploadToFileSearchStore(t,d,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,n,r,o,i){var l;let a={};a=i||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${n}`},r?{"X-Goog-Upload-File-Name":r}:{})};const s=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:a});if(!s||!(null==s?void 0:s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=null===(l=null==s?void 0:s.headers)||void 0===l?void 0:l["x-goog-upload-url"];if(void 0===u)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function er(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;r=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(r);if(n>=400&&n<600)throw new kn({message:o,status:n});throw new Error(o)}}function tr(e){for(const t of e){if(rr(t))return!0;if("object"==typeof t&&"inputSchema"in t)return!0}return false}function nr(e){var t;const n=null!==(t=e[Xn])&&void 0!==t?t:"";e[Xn]=(n+" mcp_used/unknown").trimStart()}function rr(e){return null!==e&&"object"==typeof e&&e instanceof ir}function or(e){return wn(this,arguments,function*(e,t=100){let n,r=0;for(;r<t;){const t=yield bn(e.listTools({cursor:n}));for(const e of t.tools)yield yield bn(e),r++;if(!t.nextCursor)break;n=t.nextCursor}})}class ir{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new ir(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const o={},i=[];for(const u of this.mcpClients)try{for(var l,a=!0,s=(t=void 0,Sn(or(u)));!(e=(l=await s.next()).done);a=!0){r=l.value,a=!1;const e=r;i.push(e);const t=e.name;if(o[t])throw new Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);o[t]=u}}catch(e){t={error:e}}finally{try{a||e||!(n=s.return)||await n.call(s)}finally{if(t)throw t.error}}this.mcpTools=i,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),function(e,t={}){const n=[],r=new Set;for(const o of e){const e=o.name;if(r.has(e))throw new Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);r.add(e);const i=rn(o,t);i.functionDeclarations&&n.push(...i.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const o=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:o.isError?{error:o}:o}})}return t}}class lr{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),i=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(this.apiClient.getDefaultHeaders()),l=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let a=()=>{};const s=new Promise(e=>{a=e}),u=e.callbacks,c=(this.apiClient,{onopen:function(){a({})},onmessage:e=>{!async function(e,t,n){const r=new It;let o;o=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(r,o),t(r)}(0,u.onmessage,e)},onerror:null!==(t=null==u?void 0:u.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==u?void 0:u.onclose)&&void 0!==n?n:function(e){}}),d=this.webSocketFactory.create(l,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(i),c);d.connect(),await s;const p={setup:{model:Ot(this.apiClient,e.model)}};return d.send(JSON.stringify(p)),new ar(d,this.apiClient)}}class ar{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e){const t={},n=Y(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e){const t={},n=Y(e,["musicGenerationConfig"]);return null!=n&&K(t,["musicGenerationConfig"],n),t}(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(et.PLAY)}pause(){this.sendPlaybackControl(et.PAUSE)}stop(){this.sendPlaybackControl(et.STOP)}resetContext(){this.sendPlaybackControl(et.RESET_CONTEXT)}close(){this.conn.close()}}class sr{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new lr(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,o,i,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion();let u;const c=this.apiClient.getHeaders();e.config&&e.config.tools&&tr(e.config.tools)&&nr(c);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(c);if(this.apiClient.isVertexAI())u=`${a}/ws/google.cloud.aiplatform.${s}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,u);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),"v1alpha"!==s&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),t="BidiGenerateContentConstrained",n="access_token"),u=`${a}/ws/google.ai.generativelanguage.${s}.GenerativeService.${t}?${n}=${e}`}let p=()=>{};const f=new Promise(e=>{p=e}),h=e.callbacks,m=this.apiClient,g={onopen:function(){var e;null===(e=null==h?void 0:h.onopen)||void 0===e||e.call(h),p({})},onmessage:e=>{!async function(e,t,n){const r=new kt;let o;o=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const i=JSON.parse(o);if(e.isVertexAI()){const e=function(e){const t={},n=Y(e,["setupComplete"]);null!=n&&K(t,["setupComplete"],n);const r=Y(e,["serverContent"]);null!=r&&K(t,["serverContent"],r);const o=Y(e,["toolCall"]);null!=o&&K(t,["toolCall"],o);const i=Y(e,["toolCallCancellation"]);null!=i&&K(t,["toolCallCancellation"],i);const l=Y(e,["usageMetadata"]);null!=l&&K(t,["usageMetadata"],function(e){const t={},n=Y(e,["promptTokenCount"]);null!=n&&K(t,["promptTokenCount"],n);const r=Y(e,["cachedContentTokenCount"]);null!=r&&K(t,["cachedContentTokenCount"],r);const o=Y(e,["candidatesTokenCount"]);null!=o&&K(t,["responseTokenCount"],o);const i=Y(e,["toolUsePromptTokenCount"]);null!=i&&K(t,["toolUsePromptTokenCount"],i);const l=Y(e,["thoughtsTokenCount"]);null!=l&&K(t,["thoughtsTokenCount"],l);const a=Y(e,["totalTokenCount"]);null!=a&&K(t,["totalTokenCount"],a);const s=Y(e,["promptTokensDetails"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["promptTokensDetails"],e)}const u=Y(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["cacheTokensDetails"],e)}const c=Y(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["responseTokensDetails"],e)}const d=Y(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["toolUsePromptTokensDetails"],e)}const p=Y(e,["trafficType"]);return null!=p&&K(t,["trafficType"],p),t}(l));const a=Y(e,["goAway"]);null!=a&&K(t,["goAway"],a);const s=Y(e,["sessionResumptionUpdate"]);null!=s&&K(t,["sessionResumptionUpdate"],s);const u=Y(e,["voiceActivityDetectionSignal"]);return null!=u&&K(t,["voiceActivityDetectionSignal"],u),t}(i);Object.assign(r,e)}else{const e=i;Object.assign(r,e)}t(r)}(m,h.onmessage,e)},onerror:null!==(t=null==h?void 0:h.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==h?void 0:h.onclose)&&void 0!==n?n:function(e){}},y=this.webSocketFactory.create(u,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),g);y.connect(),await f;let v=Ot(this.apiClient,e.model);this.apiClient.isVertexAI()&&v.startsWith("publishers/")&&(v=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+v);let b={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[Se.AUDIO]}:e.config.responseModalities=[Se.AUDIO]),(null===(o=e.config)||void 0===o?void 0:o.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=null!==(l=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==l?l:[],S=[];for(const e of w)if(this.isCallableTool(e)){const t=e;S.push(await t.tool())}else S.push(e);S.length>0&&(e.config.tools=S);const E={model:v,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["setup","model"],Ot(e,r));const o=Y(t,["config"]);return null!=o&&K(n,["config"],function(e,t){const n=Y(e,["generationConfig"]);void 0!==t&&null!=n&&K(t,["setup","generationConfig"],function(e){const t={},n=Y(e,["modelSelectionConfig"]);null!=n&&K(t,["modelConfig"],n);const r=Y(e,["responseJsonSchema"]);null!=r&&K(t,["responseJsonSchema"],r);const o=Y(e,["audioTimestamp"]);null!=o&&K(t,["audioTimestamp"],o);const i=Y(e,["candidateCount"]);null!=i&&K(t,["candidateCount"],i);const l=Y(e,["enableAffectiveDialog"]);null!=l&&K(t,["enableAffectiveDialog"],l);const a=Y(e,["frequencyPenalty"]);null!=a&&K(t,["frequencyPenalty"],a);const s=Y(e,["logprobs"]);null!=s&&K(t,["logprobs"],s);const u=Y(e,["maxOutputTokens"]);null!=u&&K(t,["maxOutputTokens"],u);const c=Y(e,["mediaResolution"]);null!=c&&K(t,["mediaResolution"],c);const d=Y(e,["presencePenalty"]);null!=d&&K(t,["presencePenalty"],d);const p=Y(e,["responseLogprobs"]);null!=p&&K(t,["responseLogprobs"],p);const f=Y(e,["responseMimeType"]);null!=f&&K(t,["responseMimeType"],f);const h=Y(e,["responseModalities"]);null!=h&&K(t,["responseModalities"],h);const m=Y(e,["responseSchema"]);null!=m&&K(t,["responseSchema"],m);const g=Y(e,["routingConfig"]);null!=g&&K(t,["routingConfig"],g);const y=Y(e,["seed"]);null!=y&&K(t,["seed"],y);const v=Y(e,["speechConfig"]);null!=v&&K(t,["speechConfig"],v);const b=Y(e,["stopSequences"]);null!=b&&K(t,["stopSequences"],b);const w=Y(e,["temperature"]);null!=w&&K(t,["temperature"],w);const S=Y(e,["thinkingConfig"]);null!=S&&K(t,["thinkingConfig"],S);const E=Y(e,["topK"]);null!=E&&K(t,["topK"],E);const x=Y(e,["topP"]);if(null!=x&&K(t,["topP"],x),void 0!==Y(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(n));const r=Y(e,["responseModalities"]);void 0!==t&&null!=r&&K(t,["setup","generationConfig","responseModalities"],r);const o=Y(e,["temperature"]);void 0!==t&&null!=o&&K(t,["setup","generationConfig","temperature"],o);const i=Y(e,["topP"]);void 0!==t&&null!=i&&K(t,["setup","generationConfig","topP"],i);const l=Y(e,["topK"]);void 0!==t&&null!=l&&K(t,["setup","generationConfig","topK"],l);const a=Y(e,["maxOutputTokens"]);void 0!==t&&null!=a&&K(t,["setup","generationConfig","maxOutputTokens"],a);const s=Y(e,["mediaResolution"]);void 0!==t&&null!=s&&K(t,["setup","generationConfig","mediaResolution"],s);const u=Y(e,["seed"]);void 0!==t&&null!=u&&K(t,["setup","generationConfig","seed"],u);const c=Y(e,["speechConfig"]);void 0!==t&&null!=c&&K(t,["setup","generationConfig","speechConfig"],Wt(c));const d=Y(e,["thinkingConfig"]);void 0!==t&&null!=d&&K(t,["setup","generationConfig","thinkingConfig"],d);const p=Y(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&K(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=Y(e,["systemInstruction"]);void 0!==t&&null!=f&&K(t,["setup","systemInstruction"],Gt(f));const h=Y(e,["tools"]);if(void 0!==t&&null!=h){let e=Kt(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["retrieval"]);null!=n&&K(t,["retrieval"],n);const r=Y(e,["computerUse"]);if(null!=r&&K(t,["computerUse"],r),void 0!==Y(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=Y(e,["codeExecution"]);null!=o&&K(t,["codeExecution"],o);const i=Y(e,["enterpriseWebSearch"]);null!=i&&K(t,["enterpriseWebSearch"],i);const l=Y(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["description"]);null!=n&&K(t,["description"],n);const r=Y(e,["name"]);null!=r&&K(t,["name"],r);const o=Y(e,["parameters"]);null!=o&&K(t,["parameters"],o);const i=Y(e,["parametersJsonSchema"]);null!=i&&K(t,["parametersJsonSchema"],i);const l=Y(e,["response"]);null!=l&&K(t,["response"],l);const a=Y(e,["responseJsonSchema"]);if(null!=a&&K(t,["responseJsonSchema"],a),void 0!==Y(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),K(t,["functionDeclarations"],e)}const a=Y(e,["googleMaps"]);null!=a&&K(t,["googleMaps"],a);const s=Y(e,["googleSearch"]);null!=s&&K(t,["googleSearch"],s);const u=Y(e,["googleSearchRetrieval"]);null!=u&&K(t,["googleSearchRetrieval"],u);const c=Y(e,["urlContext"]);return null!=c&&K(t,["urlContext"],c),t}(Jt(e)))),K(t,["setup","tools"],e)}const m=Y(e,["sessionResumption"]);void 0!==t&&null!=m&&K(t,["setup","sessionResumption"],m);const g=Y(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&K(t,["setup","inputAudioTranscription"],g);const y=Y(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&K(t,["setup","outputAudioTranscription"],y);const v=Y(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&K(t,["setup","realtimeInputConfig"],v);const b=Y(e,["contextWindowCompression"]);void 0!==t&&null!=b&&K(t,["setup","contextWindowCompression"],b);const w=Y(e,["proactivity"]);void 0!==t&&null!=w&&K(t,["setup","proactivity"],w);const S=Y(e,["explicitVadSignal"]);return void 0!==t&&null!=S&&K(t,["setup","explicitVadSignal"],S),{}}(o,n)),n}(this.apiClient,E):function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["setup","model"],Ot(e,r));const o=Y(t,["config"]);return null!=o&&K(n,["config"],On(o,n)),n}(this.apiClient,E),delete b.config,y.send(JSON.stringify(b)),new cr(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}const ur={turnComplete:!0};class cr{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let n=[];try{n=zt(t.turns),e.isVertexAI()||(n=n.map(e=>Rn(e)))}catch(e){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:n,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const t of n){if("object"!=typeof t||null===t||!("name"in t)||!("response"in t))throw new Error(`Could not parse function response, type '${typeof t}'.`);if(!e.isVertexAI()&&!("id"in t))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},ur),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:Pn(e)}:{realtimeInput:Nn(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function dr(e){var t,n,r;if(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let o=!1;for(const t of null!==(n=null==e?void 0:e.tools)&&void 0!==n?n:[])if(pr(t)){o=!0;break}if(!o)return!0;const i=null===(r=null==e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0)}function pr(e){return"callTool"in e&&"function"==typeof e.callTool}function fr(e){var t;const n=[];return(null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.tools)?(e.config.tools.forEach((e,t)=>{if(pr(e))return;const r=e;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(t)}),n):n}function hr(e){var t;return!(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}class mr extends W{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,o,i;const l=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>pr(e)))&&void 0!==r&&r}(e)||dr(e.config))return await this.generateContentInternal(l);const a=fr(e);if(a.length>0){const e=a.map(e=>`tools[${e}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${e}.`)}let s,u;const c=zt(l.contents),d=null!==(r=null===(n=null===(t=l.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let p=0;for(;p<d&&(s=await this.generateContentInternal(l),s.functionCalls&&0!==s.functionCalls.length);){const t=s.candidates[0].content,n=[];for(const t of null!==(i=null===(o=e.config)||void 0===o?void 0:o.tools)&&void 0!==i?i:[])if(pr(t)){const e=t,r=await e.callTool(s.functionCalls);n.push(...r)}p++,u={role:"user",parts:n},l.contents=zt(l.contents),l.contents.push(t),l.contents.push(u),hr(l.config)&&(c.push(t),c.push(u))}return hr(l.config)&&(s.automaticFunctionCallingHistory=c),s},this.generateContentStream=async e=>{var t,n,r,o,i;if(this.maybeMoveToResponseJsonSchem(e),dr(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}const l=fr(e);if(l.length>0){const e=l.map(e=>`tools[${e}]`).join(", ");throw new Error(`Incompatible tools found at ${e}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const a=null===(r=null===(n=null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.toolConfig)||void 0===n?void 0:n.functionCallingConfig)||void 0===r?void 0:r.streamFunctionCallArguments,s=null===(i=null===(o=null==e?void 0:e.config)||void 0===o?void 0:o.automaticFunctionCalling)||void 0===i?void 0:i.disable;if(a&&!s)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const r=[];if(null==e?void 0:e.generatedImages)for(const o of e.generatedImages)o&&(null==o?void 0:o.safetyAttributes)&&"Positive Prompt"===(null===(t=null==o?void 0:o.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null==o?void 0:o.safetyAttributes:r.push(o);let o;return o=n?{generatedImages:r,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:r,sdkHttpResponse:e.sdkHttpResponse},o}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new hn(tt.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{var t,n,r,o,i,l;if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||((null===(t=e.video)||void 0===t?void 0:t.uri)&&(null===(n=e.video)||void 0===n?void 0:n.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null===(o=null===(r=e.source)||void 0===r?void 0:r.video)||void 0===o?void 0:o.uri)&&(null===(l=null===(i=e.source)||void 0===i?void 0:i.video)||void 0===l?void 0:l.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,r;const o=null===(t=e.config)||void 0===t?void 0:t.tools;if(!o)return e;const i=await Promise.all(o.map(async e=>{if(pr(e)){const t=e;return await t.tool()}return e})),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(l.config.tools=i,e.config&&e.config.tools&&tr(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let o=Object.assign({},t);0===Object.keys(o).length&&(o=this.apiClient.getDefaultHeaders()),nr(o),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:o})}return l}async initAfcToolsMap(e){var t,n,r;const o=new Map;for(const i of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(pr(i)){const e=i,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(o.has(n.name))throw new Error(`Duplicate tool declaration name: ${n.name}`);o.set(n.name,e)}}return o}async processAfcStream(e){var t,n,r;const o=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let i=!1,l=0;return function(e,t,n){return wn(this,arguments,function*(){for(var r,a,s,u,c,d;l<o;){i&&(l++,i=!1);const m=yield bn(e.processParamsMaybeAddMcpUsage(n)),g=yield bn(e.generateContentStreamInternal(m)),y=[],v=[];try{for(var p,f=!0,h=(a=void 0,Sn(g));!(r=(p=yield bn(h.next())).done);f=!0){u=p.value,f=!1;const e=u;if(yield yield bn(e),e.candidates&&(null===(c=e.candidates[0])||void 0===c?void 0:c.content)){v.push(e.candidates[0].content);for(const n of null!==(d=e.candidates[0].content.parts)&&void 0!==d?d:[])if(l<o&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${n.functionCall.name}`);{const e=yield bn(t.get(n.functionCall.name).callTool([n.functionCall]));y.push(...e)}}}}}catch(e){a={error:e}}finally{try{f||r||!(s=h.return)||(yield bn(s.call(h)))}finally{if(a)throw a.error}}if(!(y.length>0))break;{i=!0;const e=new rt;e.candidates=[{content:{role:"user",parts:y}}],yield yield bn(e);const t=[];t.push(...v),t.push({role:"user",parts:y});const r=zt(n.contents).concat(t);n.contents=r}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Dn(this.apiClient,e);return l=J("{model}:generateContent",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=Ln(e),n=new rt;return Object.assign(n,t),n})}{const t=jn(this.apiClient,e);return l=J("{model}:generateContent",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=Mn(e),n=new rt;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Dn(this.apiClient,e);return l=J("{model}:streamGenerateContent?alt=sse",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),i.then(function(e){return wn(this,arguments,function*(){var t,n,r,o;try{for(var i,l=!0,a=Sn(e);!(t=(i=yield bn(a.next())).done);l=!0){o=i.value,l=!1;const e=o,t=Ln(yield bn(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new rt;Object.assign(n,t),yield yield bn(n)}}catch(e){n={error:e}}finally{try{l||t||!(r=a.return)||(yield bn(r.call(a)))}finally{if(n)throw n.error}}})})}{const t=jn(this.apiClient,e);return l=J("{model}:streamGenerateContent?alt=sse",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}),i.then(function(e){return wn(this,arguments,function*(){var t,n,r,o;try{for(var i,l=!0,a=Sn(e);!(t=(i=yield bn(a.next())).done);l=!0){o=i.value,l=!1;const e=o,t=Mn(yield bn(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new rt;Object.assign(n,t),yield yield bn(n)}}catch(e){n={error:e}}finally{try{l||t||!(r=a.return)||(yield bn(r.call(a)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["contents"]);if(null!=o){let t=Ht(e,o);Array.isArray(t)&&(t=t.map(e=>e)),K(n,["instances[]","content"],t)}const i=Y(t,["config"]);return null!=i&&function(e,t){const n=Y(e,["taskType"]);void 0!==t&&null!=n&&K(t,["instances[]","task_type"],n);const r=Y(e,["title"]);void 0!==t&&null!=r&&K(t,["instances[]","title"],r);const o=Y(e,["outputDimensionality"]);void 0!==t&&null!=o&&K(t,["parameters","outputDimensionality"],o);const i=Y(e,["mimeType"]);void 0!==t&&null!=i&&K(t,["instances[]","mimeType"],i);const l=Y(e,["autoTruncate"]);void 0!==t&&null!=l&&K(t,["parameters","autoTruncate"],l)}(i,n),n}(this.apiClient,e);return l=J("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["predictions[]","embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["values"]);null!=n&&K(t,["values"],n);const r=Y(e,["statistics"]);return null!=r&&K(t,["statistics"],function(e){const t={},n=Y(e,["truncated"]);null!=n&&K(t,["truncated"],n);const r=Y(e,["token_count"]);return null!=r&&K(t,["tokenCount"],r),t}(r)),t}(e))),K(t,["embeddings"],e)}const o=Y(e,["metadata"]);return null!=o&&K(t,["metadata"],o),t}(e),n=new ot;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["contents"]);if(null!=o){let t=Ht(e,o);Array.isArray(t)&&(t=t.map(e=>e)),K(n,["requests[]","content"],t)}const i=Y(t,["config"]);null!=i&&function(e,t){const n=Y(e,["taskType"]);void 0!==t&&null!=n&&K(t,["requests[]","taskType"],n);const r=Y(e,["title"]);void 0!==t&&null!=r&&K(t,["requests[]","title"],r);const o=Y(e,["outputDimensionality"]);if(void 0!==t&&null!=o&&K(t,["requests[]","outputDimensionality"],o),void 0!==Y(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==Y(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(i,n);const l=Y(t,["model"]);return void 0!==l&&K(n,["requests[]","model"],Ot(e,l)),n}(this.apiClient,e);return l=J("{model}:batchEmbedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["embeddings"],e)}const o=Y(e,["metadata"]);return null!=o&&K(t,["metadata"],o),t}(e),n=new ot;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["prompt"]);null!=o&&K(n,["instances[0]","prompt"],o);const i=Y(t,["config"]);return null!=i&&function(e,t){const n=Y(e,["outputGcsUri"]);void 0!==t&&null!=n&&K(t,["parameters","storageUri"],n);const r=Y(e,["negativePrompt"]);void 0!==t&&null!=r&&K(t,["parameters","negativePrompt"],r);const o=Y(e,["numberOfImages"]);void 0!==t&&null!=o&&K(t,["parameters","sampleCount"],o);const i=Y(e,["aspectRatio"]);void 0!==t&&null!=i&&K(t,["parameters","aspectRatio"],i);const l=Y(e,["guidanceScale"]);void 0!==t&&null!=l&&K(t,["parameters","guidanceScale"],l);const a=Y(e,["seed"]);void 0!==t&&null!=a&&K(t,["parameters","seed"],a);const s=Y(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&K(t,["parameters","safetySetting"],s);const u=Y(e,["personGeneration"]);void 0!==t&&null!=u&&K(t,["parameters","personGeneration"],u);const c=Y(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&K(t,["parameters","includeSafetyAttributes"],c);const d=Y(e,["includeRaiReason"]);void 0!==t&&null!=d&&K(t,["parameters","includeRaiReason"],d);const p=Y(e,["language"]);void 0!==t&&null!=p&&K(t,["parameters","language"],p);const f=Y(e,["outputMimeType"]);void 0!==t&&null!=f&&K(t,["parameters","outputOptions","mimeType"],f);const h=Y(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&K(t,["parameters","outputOptions","compressionQuality"],h);const m=Y(e,["addWatermark"]);void 0!==t&&null!=m&&K(t,["parameters","addWatermark"],m);const g=Y(e,["labels"]);void 0!==t&&null!=g&&K(t,["labels"],g);const y=Y(e,["imageSize"]);void 0!==t&&null!=y&&K(t,["parameters","sampleImageSize"],y);const v=Y(e,["enhancePrompt"]);void 0!==t&&null!=v&&K(t,["parameters","enhancePrompt"],v)}(i,n),n}(this.apiClient,e);return l=J("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>qn(e))),K(t,["generatedImages"],e)}const o=Y(e,["positivePromptSafetyAttributes"]);return null!=o&&K(t,["positivePromptSafetyAttributes"],Wn(o)),t}(e),n=new it;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["prompt"]);null!=o&&K(n,["instances[0]","prompt"],o);const i=Y(t,["config"]);return null!=i&&function(e,t){if(void 0!==Y(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==Y(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=Y(e,["numberOfImages"]);void 0!==t&&null!=n&&K(t,["parameters","sampleCount"],n);const r=Y(e,["aspectRatio"]);void 0!==t&&null!=r&&K(t,["parameters","aspectRatio"],r);const o=Y(e,["guidanceScale"]);if(void 0!==t&&null!=o&&K(t,["parameters","guidanceScale"],o),void 0!==Y(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=Y(e,["safetyFilterLevel"]);void 0!==t&&null!=i&&K(t,["parameters","safetySetting"],i);const l=Y(e,["personGeneration"]);void 0!==t&&null!=l&&K(t,["parameters","personGeneration"],l);const a=Y(e,["includeSafetyAttributes"]);void 0!==t&&null!=a&&K(t,["parameters","includeSafetyAttributes"],a);const s=Y(e,["includeRaiReason"]);void 0!==t&&null!=s&&K(t,["parameters","includeRaiReason"],s);const u=Y(e,["language"]);void 0!==t&&null!=u&&K(t,["parameters","language"],u);const c=Y(e,["outputMimeType"]);void 0!==t&&null!=c&&K(t,["parameters","outputOptions","mimeType"],c);const d=Y(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&K(t,["parameters","outputOptions","compressionQuality"],d),void 0!==Y(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==Y(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const p=Y(e,["imageSize"]);if(void 0!==t&&null!=p&&K(t,["parameters","sampleImageSize"],p),void 0!==Y(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(i,n),n}(this.apiClient,e);return l=J("{model}:predict",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["_self"]);null!=n&&K(t,["image"],function(e){const t={},n=Y(e,["bytesBase64Encoded"]);null!=n&&K(t,["imageBytes"],Xt(n));const r=Y(e,["mimeType"]);return null!=r&&K(t,["mimeType"],r),t}(n));const r=Y(e,["raiFilteredReason"]);null!=r&&K(t,["raiFilteredReason"],r);const o=Y(e,["_self"]);return null!=o&&K(t,["safetyAttributes"],$n(o)),t}(e))),K(t,["generatedImages"],e)}const o=Y(e,["positivePromptSafetyAttributes"]);return null!=o&&K(t,["positivePromptSafetyAttributes"],$n(o)),t}(e),n=new it;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["prompt"]);null!=o&&K(n,["instances[0]","prompt"],o);const i=Y(t,["referenceImages"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["referenceImage"]);null!=n&&K(t,["referenceImage"],zn(n));const r=Y(e,["referenceId"]);null!=r&&K(t,["referenceId"],r);const o=Y(e,["referenceType"]);null!=o&&K(t,["referenceType"],o);const i=Y(e,["maskImageConfig"]);null!=i&&K(t,["maskImageConfig"],function(e){const t={},n=Y(e,["maskMode"]);null!=n&&K(t,["maskMode"],n);const r=Y(e,["segmentationClasses"]);null!=r&&K(t,["maskClasses"],r);const o=Y(e,["maskDilation"]);return null!=o&&K(t,["dilation"],o),t}(i));const l=Y(e,["controlImageConfig"]);null!=l&&K(t,["controlImageConfig"],function(e){const t={},n=Y(e,["controlType"]);null!=n&&K(t,["controlType"],n);const r=Y(e,["enableControlImageComputation"]);return null!=r&&K(t,["computeControl"],r),t}(l));const a=Y(e,["styleImageConfig"]);null!=a&&K(t,["styleImageConfig"],a);const s=Y(e,["subjectImageConfig"]);return null!=s&&K(t,["subjectImageConfig"],s),t}(e))),K(n,["instances[0]","referenceImages"],e)}const l=Y(t,["config"]);return null!=l&&function(e,t){const n=Y(e,["outputGcsUri"]);void 0!==t&&null!=n&&K(t,["parameters","storageUri"],n);const r=Y(e,["negativePrompt"]);void 0!==t&&null!=r&&K(t,["parameters","negativePrompt"],r);const o=Y(e,["numberOfImages"]);void 0!==t&&null!=o&&K(t,["parameters","sampleCount"],o);const i=Y(e,["aspectRatio"]);void 0!==t&&null!=i&&K(t,["parameters","aspectRatio"],i);const l=Y(e,["guidanceScale"]);void 0!==t&&null!=l&&K(t,["parameters","guidanceScale"],l);const a=Y(e,["seed"]);void 0!==t&&null!=a&&K(t,["parameters","seed"],a);const s=Y(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&K(t,["parameters","safetySetting"],s);const u=Y(e,["personGeneration"]);void 0!==t&&null!=u&&K(t,["parameters","personGeneration"],u);const c=Y(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&K(t,["parameters","includeSafetyAttributes"],c);const d=Y(e,["includeRaiReason"]);void 0!==t&&null!=d&&K(t,["parameters","includeRaiReason"],d);const p=Y(e,["language"]);void 0!==t&&null!=p&&K(t,["parameters","language"],p);const f=Y(e,["outputMimeType"]);void 0!==t&&null!=f&&K(t,["parameters","outputOptions","mimeType"],f);const h=Y(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&K(t,["parameters","outputOptions","compressionQuality"],h);const m=Y(e,["addWatermark"]);void 0!==t&&null!=m&&K(t,["parameters","addWatermark"],m);const g=Y(e,["labels"]);void 0!==t&&null!=g&&K(t,["labels"],g);const y=Y(e,["editMode"]);void 0!==t&&null!=y&&K(t,["parameters","editMode"],y);const v=Y(e,["baseSteps"]);void 0!==t&&null!=v&&K(t,["parameters","editConfig","baseSteps"],v)}(l,n),n}(this.apiClient,e);return o=J("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>qn(e))),K(t,["generatedImages"],e)}return t}(e),n=new lt;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["image"]);null!=o&&K(n,["instances[0]","image"],zn(o));const i=Y(t,["upscaleFactor"]);null!=i&&K(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=Y(t,["config"]);return null!=l&&function(e,t){const n=Y(e,["outputGcsUri"]);void 0!==t&&null!=n&&K(t,["parameters","storageUri"],n);const r=Y(e,["safetyFilterLevel"]);void 0!==t&&null!=r&&K(t,["parameters","safetySetting"],r);const o=Y(e,["personGeneration"]);void 0!==t&&null!=o&&K(t,["parameters","personGeneration"],o);const i=Y(e,["includeRaiReason"]);void 0!==t&&null!=i&&K(t,["parameters","includeRaiReason"],i);const l=Y(e,["outputMimeType"]);void 0!==t&&null!=l&&K(t,["parameters","outputOptions","mimeType"],l);const a=Y(e,["outputCompressionQuality"]);void 0!==t&&null!=a&&K(t,["parameters","outputOptions","compressionQuality"],a);const s=Y(e,["enhanceInputImage"]);void 0!==t&&null!=s&&K(t,["parameters","upscaleConfig","enhanceInputImage"],s);const u=Y(e,["imagePreservationFactor"]);void 0!==t&&null!=u&&K(t,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=Y(e,["labels"]);void 0!==t&&null!=c&&K(t,["labels"],c);const d=Y(e,["numberOfImages"]);void 0!==t&&null!=d&&K(t,["parameters","sampleCount"],d);const p=Y(e,["mode"]);void 0!==t&&null!=p&&K(t,["parameters","mode"],p)}(l,n),n}(this.apiClient,e);return o=J("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>qn(e))),K(t,["generatedImages"],e)}return t}(e),n=new at;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["source"]);null!=o&&function(e,t){const n=Y(e,["prompt"]);void 0!==t&&null!=n&&K(t,["instances[0]","prompt"],n);const r=Y(e,["personImage"]);void 0!==t&&null!=r&&K(t,["instances[0]","personImage","image"],zn(r));const o=Y(e,["productImages"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["productImage"]);return null!=n&&K(t,["image"],zn(n)),t}(e))),K(t,["instances[0]","productImages"],e)}}(o,n);const i=Y(t,["config"]);return null!=i&&function(e,t){const n=Y(e,["numberOfImages"]);void 0!==t&&null!=n&&K(t,["parameters","sampleCount"],n);const r=Y(e,["baseSteps"]);void 0!==t&&null!=r&&K(t,["parameters","baseSteps"],r);const o=Y(e,["outputGcsUri"]);void 0!==t&&null!=o&&K(t,["parameters","storageUri"],o);const i=Y(e,["seed"]);void 0!==t&&null!=i&&K(t,["parameters","seed"],i);const l=Y(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&K(t,["parameters","safetySetting"],l);const a=Y(e,["personGeneration"]);void 0!==t&&null!=a&&K(t,["parameters","personGeneration"],a);const s=Y(e,["addWatermark"]);void 0!==t&&null!=s&&K(t,["parameters","addWatermark"],s);const u=Y(e,["outputMimeType"]);void 0!==t&&null!=u&&K(t,["parameters","outputOptions","mimeType"],u);const c=Y(e,["outputCompressionQuality"]);void 0!==t&&null!=c&&K(t,["parameters","outputOptions","compressionQuality"],c);const d=Y(e,["enhancePrompt"]);void 0!==t&&null!=d&&K(t,["parameters","enhancePrompt"],d);const p=Y(e,["labels"]);void 0!==t&&null!=p&&K(t,["labels"],p)}(i,n),n}(this.apiClient,e);return o=J("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Y(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>qn(e))),K(t,["generatedImages"],e)}return t}(e),n=new st;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["source"]);null!=o&&function(e,t){const n=Y(e,["prompt"]);void 0!==t&&null!=n&&K(t,["instances[0]","prompt"],n);const r=Y(e,["image"]);void 0!==t&&null!=r&&K(t,["instances[0]","image"],zn(r));const o=Y(e,["scribbleImage"]);void 0!==t&&null!=o&&K(t,["instances[0]","scribble"],function(e){const t={},n=Y(e,["image"]);return null!=n&&K(t,["image"],zn(n)),t}(o))}(o,n);const i=Y(t,["config"]);return null!=i&&function(e,t){const n=Y(e,["mode"]);void 0!==t&&null!=n&&K(t,["parameters","mode"],n);const r=Y(e,["maxPredictions"]);void 0!==t&&null!=r&&K(t,["parameters","maxPredictions"],r);const o=Y(e,["confidenceThreshold"]);void 0!==t&&null!=o&&K(t,["parameters","confidenceThreshold"],o);const i=Y(e,["maskDilation"]);void 0!==t&&null!=i&&K(t,["parameters","maskDilation"],i);const l=Y(e,["binaryColorThreshold"]);void 0!==t&&null!=l&&K(t,["parameters","binaryColorThreshold"],l);const a=Y(e,["labels"]);void 0!==t&&null!=a&&K(t,["labels"],a)}(i,n),n}(this.apiClient,e);return o=J("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Y(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["_self"]);null!=n&&K(t,["mask"],Gn(n));const r=Y(e,["labels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["labels"],e)}return t}(e))),K(t,["generatedMasks"],e)}return t}(e),n=new ut;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Y(t,["model"]);return null!=r&&K(n,["_url","name"],Ot(e,r)),n}(this.apiClient,e);return l=J("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Bn(e))}{const t=function(e,t){const n={},r=Y(t,["model"]);return null!=r&&K(n,["_url","name"],Ot(e,r)),n}(this.apiClient,e);return l=J("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>Vn(e))}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Y(t,["config"]);return null!=r&&function(e,t,n){const r=Y(t,["pageSize"]);void 0!==n&&null!=r&&K(n,["_query","pageSize"],r);const o=Y(t,["pageToken"]);void 0!==n&&null!=o&&K(n,["_query","pageToken"],o);const i=Y(t,["filter"]);void 0!==n&&null!=i&&K(n,["_query","filter"],i);const l=Y(t,["queryBase"]);void 0!==n&&null!=l&&K(n,["_url","models_url"],en(e,l))}(e,r,n),n}(this.apiClient,e);return l=J("{models_url}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["nextPageToken"]);null!=r&&K(t,["nextPageToken"],r);const o=Y(e,["_self"]);if(null!=o){let e=tn(o);Array.isArray(e)&&(e=e.map(e=>Bn(e))),K(t,["models"],e)}return t}(e),n=new ct;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=Y(t,["config"]);return null!=r&&function(e,t,n){const r=Y(t,["pageSize"]);void 0!==n&&null!=r&&K(n,["_query","pageSize"],r);const o=Y(t,["pageToken"]);void 0!==n&&null!=o&&K(n,["_query","pageToken"],o);const i=Y(t,["filter"]);void 0!==n&&null!=i&&K(n,["_query","filter"],i);const l=Y(t,["queryBase"]);void 0!==n&&null!=l&&K(n,["_url","models_url"],en(e,l))}(e,r,n),n}(this.apiClient,e);return l=J("{models_url}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["nextPageToken"]);null!=r&&K(t,["nextPageToken"],r);const o=Y(e,["_self"]);if(null!=o){let e=tn(o);Array.isArray(e)&&(e=e.map(e=>Vn(e))),K(t,["models"],e)}return t}(e),n=new ct;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["config"]);return null!=o&&function(e,t){const n=Y(e,["displayName"]);void 0!==t&&null!=n&&K(t,["displayName"],n);const r=Y(e,["description"]);void 0!==t&&null!=r&&K(t,["description"],r);const o=Y(e,["defaultCheckpointId"]);void 0!==t&&null!=o&&K(t,["defaultCheckpointId"],o)}(o,n),n}(this.apiClient,e);return l=J("{model}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Bn(e))}{const t=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","name"],Ot(e,r));const o=Y(t,["config"]);return null!=o&&function(e,t){const n=Y(e,["displayName"]);void 0!==t&&null!=n&&K(t,["displayName"],n);const r=Y(e,["description"]);void 0!==t&&null!=r&&K(t,["description"],r);const o=Y(e,["defaultCheckpointId"]);void 0!==t&&null!=o&&K(t,["defaultCheckpointId"],o)}(o,n),n}(this.apiClient,e);return l=J("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>Vn(e))}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Y(t,["model"]);return null!=r&&K(n,["_url","name"],Ot(e,r)),n}(this.apiClient,e);return l=J("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);return null!=n&&K(t,["sdkHttpResponse"],n),t}(e),n=new dt;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=Y(t,["model"]);return null!=r&&K(n,["_url","name"],Ot(e,r)),n}(this.apiClient,e);return l=J("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);return null!=n&&K(t,["sdkHttpResponse"],n),t}(e),n=new dt;return Object.assign(n,t),n})}}async countTokens(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["contents"]);if(null!=o){let e=zt(o);Array.isArray(e)&&(e=e.map(e=>e)),K(n,["contents"],e)}const i=Y(t,["config"]);return null!=i&&function(e,t){const n=Y(e,["systemInstruction"]);void 0!==t&&null!=n&&K(t,["systemInstruction"],Gt(n));const r=Y(e,["tools"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Jn(e))),K(t,["tools"],e)}const o=Y(e,["generationConfig"]);void 0!==t&&null!=o&&K(t,["generationConfig"],function(e){const t={},n=Y(e,["modelSelectionConfig"]);null!=n&&K(t,["modelConfig"],n);const r=Y(e,["responseJsonSchema"]);null!=r&&K(t,["responseJsonSchema"],r);const o=Y(e,["audioTimestamp"]);null!=o&&K(t,["audioTimestamp"],o);const i=Y(e,["candidateCount"]);null!=i&&K(t,["candidateCount"],i);const l=Y(e,["enableAffectiveDialog"]);null!=l&&K(t,["enableAffectiveDialog"],l);const a=Y(e,["frequencyPenalty"]);null!=a&&K(t,["frequencyPenalty"],a);const s=Y(e,["logprobs"]);null!=s&&K(t,["logprobs"],s);const u=Y(e,["maxOutputTokens"]);null!=u&&K(t,["maxOutputTokens"],u);const c=Y(e,["mediaResolution"]);null!=c&&K(t,["mediaResolution"],c);const d=Y(e,["presencePenalty"]);null!=d&&K(t,["presencePenalty"],d);const p=Y(e,["responseLogprobs"]);null!=p&&K(t,["responseLogprobs"],p);const f=Y(e,["responseMimeType"]);null!=f&&K(t,["responseMimeType"],f);const h=Y(e,["responseModalities"]);null!=h&&K(t,["responseModalities"],h);const m=Y(e,["responseSchema"]);null!=m&&K(t,["responseSchema"],m);const g=Y(e,["routingConfig"]);null!=g&&K(t,["routingConfig"],g);const y=Y(e,["seed"]);null!=y&&K(t,["seed"],y);const v=Y(e,["speechConfig"]);null!=v&&K(t,["speechConfig"],v);const b=Y(e,["stopSequences"]);null!=b&&K(t,["stopSequences"],b);const w=Y(e,["temperature"]);null!=w&&K(t,["temperature"],w);const S=Y(e,["thinkingConfig"]);null!=S&&K(t,["thinkingConfig"],S);const E=Y(e,["topK"]);null!=E&&K(t,["topK"],E);const x=Y(e,["topP"]);if(null!=x&&K(t,["topP"],x),void 0!==Y(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(o))}(i,n),n}(this.apiClient,e);return l=J("{model}:countTokens",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["totalTokens"]);return null!=r&&K(t,["totalTokens"],r),t}(e),n=new pt;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["contents"]);if(null!=o){let e=zt(o);Array.isArray(e)&&(e=e.map(e=>Rn(e))),K(n,["contents"],e)}const i=Y(t,["config"]);return null!=i&&function(e){if(void 0!==Y(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==Y(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==Y(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(i),n}(this.apiClient,e);return l=J("{model}:countTokens",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["totalTokens"]);null!=r&&K(t,["totalTokens"],r);const o=Y(e,["cachedContentTokenCount"]);return null!=o&&K(t,["cachedContentTokenCount"],o),t}(e),n=new pt;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["_url","model"],Ot(e,r));const o=Y(t,["contents"]);if(null!=o){let e=zt(o);Array.isArray(e)&&(e=e.map(e=>e)),K(n,["contents"],e)}return n}(this.apiClient,e);return o=J("{model}:computeTokens",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["tokensInfo"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["tokensInfo"],e)}return t}(e),n=new ft;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Fn(this.apiClient,e);return l=J("{model}:predictLongRunning",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=Y(e,["name"]);null!=n&&K(t,["name"],n);const r=Y(e,["metadata"]);null!=r&&K(t,["metadata"],r);const o=Y(e,["done"]);null!=o&&K(t,["done"],o);const i=Y(e,["error"]);null!=i&&K(t,["error"],i);const l=Y(e,["response"]);return null!=l&&K(t,["response"],function(e){const t={},n=Y(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["_self"]);return null!=n&&K(t,["video"],function(e){const t={},n=Y(e,["gcsUri"]);null!=n&&K(t,["uri"],n);const r=Y(e,["bytesBase64Encoded"]);null!=r&&K(t,["videoBytes"],Xt(r));const o=Y(e,["mimeType"]);return null!=o&&K(t,["mimeType"],o),t}(n)),t}(e))),K(t,["generatedVideos"],e)}const r=Y(e,["raiMediaFilteredCount"]);null!=r&&K(t,["raiMediaFilteredCount"],r);const o=Y(e,["raiMediaFilteredReasons"]);return null!=o&&K(t,["raiMediaFilteredReasons"],o),t}(l)),t}(e),n=new ht;return Object.assign(n,t),n})}{const t=Un(this.apiClient,e);return l=J("{model}:predictLongRunning",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=Y(e,["name"]);null!=n&&K(t,["name"],n);const r=Y(e,["metadata"]);null!=r&&K(t,["metadata"],r);const o=Y(e,["done"]);null!=o&&K(t,["done"],o);const i=Y(e,["error"]);null!=i&&K(t,["error"],i);const l=Y(e,["response","generateVideoResponse"]);return null!=l&&K(t,["response"],function(e){const t={},n=Y(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["video"]);return null!=n&&K(t,["video"],function(e){const t={},n=Y(e,["uri"]);null!=n&&K(t,["uri"],n);const r=Y(e,["encodedVideo"]);null!=r&&K(t,["videoBytes"],Xt(r));const o=Y(e,["encoding"]);return null!=o&&K(t,["mimeType"],o),t}(n)),t}(e))),K(t,["generatedVideos"],e)}const r=Y(e,["raiMediaFilteredCount"]);null!=r&&K(t,["raiMediaFilteredCount"],r);const o=Y(e,["raiMediaFilteredReasons"]);return null!=o&&K(t,["raiMediaFilteredReasons"],o),t}(l)),t}(e),n=new ht;return Object.assign(n,t),n})}}}class gr extends W{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Y(e,["operationName"]);return null!=n&&K(t,["_url","operationName"],n),t}(e);return l=J("{operationName}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i}{const t=function(e){const t={},n=Y(e,["operationName"]);return null!=n&&K(t,["_url","operationName"],n),t}(e);return l=J("{operationName}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i}}async fetchPredictVideosOperationInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e){const t={},n=Y(e,["operationName"]);null!=n&&K(t,["operationName"],n);const r=Y(e,["resourceName"]);return null!=r&&K(t,["_url","resourceName"],r),t}(e);return o=J("{resourceName}:fetchPredictOperation",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r}throw new Error("This method is only supported by the Vertex AI.")}}function yr(e,t,n){const r=Y(t,["expireTime"]);void 0!==n&&null!=r&&K(n,["expireTime"],r);const o=Y(t,["newSessionExpireTime"]);void 0!==n&&null!=o&&K(n,["newSessionExpireTime"],o);const i=Y(t,["uses"]);void 0!==n&&null!=i&&K(n,["uses"],i);const l=Y(t,["liveConnectConstraints"]);void 0!==n&&null!=l&&K(n,["bidiGenerateContentSetup"],function(e,t){const n={},r=Y(t,["model"]);null!=r&&K(n,["setup","model"],Ot(e,r));const o=Y(t,["config"]);return null!=o&&K(n,["config"],function(e,t){const n=Y(e,["generationConfig"]);void 0!==t&&null!=n&&K(t,["setup","generationConfig"],n);const r=Y(e,["responseModalities"]);void 0!==t&&null!=r&&K(t,["setup","generationConfig","responseModalities"],r);const o=Y(e,["temperature"]);void 0!==t&&null!=o&&K(t,["setup","generationConfig","temperature"],o);const i=Y(e,["topP"]);void 0!==t&&null!=i&&K(t,["setup","generationConfig","topP"],i);const l=Y(e,["topK"]);void 0!==t&&null!=l&&K(t,["setup","generationConfig","topK"],l);const a=Y(e,["maxOutputTokens"]);void 0!==t&&null!=a&&K(t,["setup","generationConfig","maxOutputTokens"],a);const s=Y(e,["mediaResolution"]);void 0!==t&&null!=s&&K(t,["setup","generationConfig","mediaResolution"],s);const u=Y(e,["seed"]);void 0!==t&&null!=u&&K(t,["setup","generationConfig","seed"],u);const c=Y(e,["speechConfig"]);void 0!==t&&null!=c&&K(t,["setup","generationConfig","speechConfig"],Wt(c));const d=Y(e,["thinkingConfig"]);void 0!==t&&null!=d&&K(t,["setup","generationConfig","thinkingConfig"],d);const p=Y(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&K(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=Y(e,["systemInstruction"]);void 0!==t&&null!=f&&K(t,["setup","systemInstruction"],function(e){const t={},n=Y(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Y(e,["mediaResolution"]);null!=n&&K(t,["mediaResolution"],n);const r=Y(e,["codeExecutionResult"]);null!=r&&K(t,["codeExecutionResult"],r);const o=Y(e,["executableCode"]);null!=o&&K(t,["executableCode"],o);const i=Y(e,["fileData"]);null!=i&&K(t,["fileData"],function(e){const t={};if(void 0!==Y(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Y(e,["fileUri"]);null!=n&&K(t,["fileUri"],n);const r=Y(e,["mimeType"]);return null!=r&&K(t,["mimeType"],r),t}(i));const l=Y(e,["functionCall"]);null!=l&&K(t,["functionCall"],function(e){const t={},n=Y(e,["id"]);null!=n&&K(t,["id"],n);const r=Y(e,["args"]);null!=r&&K(t,["args"],r);const o=Y(e,["name"]);if(null!=o&&K(t,["name"],o),void 0!==Y(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Y(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=Y(e,["functionResponse"]);null!=a&&K(t,["functionResponse"],a);const s=Y(e,["inlineData"]);null!=s&&K(t,["inlineData"],function(e){const t={},n=Y(e,["data"]);if(null!=n&&K(t,["data"],n),void 0!==Y(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Y(e,["mimeType"]);return null!=r&&K(t,["mimeType"],r),t}(s));const u=Y(e,["text"]);null!=u&&K(t,["text"],u);const c=Y(e,["thought"]);null!=c&&K(t,["thought"],c);const d=Y(e,["thoughtSignature"]);null!=d&&K(t,["thoughtSignature"],d);const p=Y(e,["videoMetadata"]);return null!=p&&K(t,["videoMetadata"],p),t}(e))),K(t,["parts"],e)}const r=Y(e,["role"]);return null!=r&&K(t,["role"],r),t}(Gt(f)));const h=Y(e,["tools"]);if(void 0!==t&&null!=h){let e=Kt(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Y(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Y(e,["computerUse"]);null!=n&&K(t,["computerUse"],n);const r=Y(e,["fileSearch"]);null!=r&&K(t,["fileSearch"],r);const o=Y(e,["codeExecution"]);if(null!=o&&K(t,["codeExecution"],o),void 0!==Y(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=Y(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["functionDeclarations"],e)}const l=Y(e,["googleMaps"]);null!=l&&K(t,["googleMaps"],function(e){const t={};if(void 0!==Y(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Y(e,["enableWidget"]);return null!=n&&K(t,["enableWidget"],n),t}(l));const a=Y(e,["googleSearch"]);null!=a&&K(t,["googleSearch"],function(e){const t={};if(void 0!==Y(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Y(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Y(e,["timeRangeFilter"]);return null!=n&&K(t,["timeRangeFilter"],n),t}(a));const s=Y(e,["googleSearchRetrieval"]);null!=s&&K(t,["googleSearchRetrieval"],s);const u=Y(e,["urlContext"]);return null!=u&&K(t,["urlContext"],u),t}(Jt(e)))),K(t,["setup","tools"],e)}const m=Y(e,["sessionResumption"]);void 0!==t&&null!=m&&K(t,["setup","sessionResumption"],function(e){const t={},n=Y(e,["handle"]);if(null!=n&&K(t,["handle"],n),void 0!==Y(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(m));const g=Y(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&K(t,["setup","inputAudioTranscription"],g);const y=Y(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&K(t,["setup","outputAudioTranscription"],y);const v=Y(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&K(t,["setup","realtimeInputConfig"],v);const b=Y(e,["contextWindowCompression"]);void 0!==t&&null!=b&&K(t,["setup","contextWindowCompression"],b);const w=Y(e,["proactivity"]);if(void 0!==t&&null!=w&&K(t,["setup","proactivity"],w),void 0!==Y(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}(o,n)),n}(e,l));const a=Y(t,["lockAdditionalFields"]);return void 0!==n&&null!=a&&K(n,["fieldMask"],a),{}}class vr extends W{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=function(e,t){const n={},r=Y(t,["config"]);return null!=r&&K(n,["config"],yr(e,r,n)),n}(this.apiClient,e);o=J("auth_tokens",l._url),i=l._query,delete l.config,delete l._url,delete l._query;const a=function(e,t){let n=null;const r=e.bidiGenerateContentSetup;if("object"==typeof r&&null!==r&&"setup"in r){const t=r.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==r&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const r=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if("object"==typeof r&&null!=r&&Object.keys(r).length>0){const e=Object.keys(r).map(e=>`${n}.${e}`);t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&0===(null==t?void 0:t.lockAdditionalFields.length))r?e.fieldMask=r:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==o&&Array.isArray(o)&&o.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];o.length>0&&(n=o.map(e=>t.includes(e)?`generationConfig.${e}`:e));const i=[];r&&i.push(r),n.length>0&&i.push(...n),i.length>0?e.fieldMask=i.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==o&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}(l,e.config);return r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}}class br extends W{constructor(e){super(),this.apiClient=e,this.list=async e=>new hn(tt.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Y(e,["name"]);return null!=n&&K(t,["_url","name"],n),t}(e);return o=J("{name}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=function(e){const t={},n=Y(e,["name"]);null!=n&&K(t,["_url","name"],n);const r=Y(e,["config"]);return null!=r&&function(e,t){const n=Y(e,["force"]);void 0!==t&&null!=n&&K(t,["_query","force"],n)}(r,t),t}(e);r=J("{name}",i._url),o=i._query,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Y(e,["parent"]);null!=n&&K(t,["_url","parent"],n);const r=Y(e,["config"]);return null!=r&&function(e,t){const n=Y(e,["pageSize"]);void 0!==t&&null!=n&&K(t,["_query","pageSize"],n);const r=Y(e,["pageToken"]);void 0!==t&&null!=r&&K(t,["_query","pageToken"],r)}(r,t),t}(e);return o=J("{parent}/documents",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["nextPageToken"]);null!=r&&K(t,["nextPageToken"],r);const o=Y(e,["documents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["documents"],e)}return t}(e),n=new bt;return Object.assign(n,t),n})}}}class wr extends W{constructor(e,t=new br(e)){super(),this.apiClient=e,this.documents=t,this.list=async(e={})=>new hn(tt.PAGED_ITEM_FILE_SEARCH_STORES,e=>this.listInternal(e),await this.listInternal(e),e)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Y(e,["config"]);return null!=n&&function(e,t){const n=Y(e,["displayName"]);void 0!==t&&null!=n&&K(t,["displayName"],n)}(n,t),t}(e);return o=J("fileSearchStores",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Y(e,["name"]);return null!=n&&K(t,["_url","name"],n),t}(e);return o=J("{name}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=function(e){const t={},n=Y(e,["name"]);null!=n&&K(t,["_url","name"],n);const r=Y(e,["config"]);return null!=r&&function(e,t){const n=Y(e,["force"]);void 0!==t&&null!=n&&K(t,["_query","force"],n)}(r,t),t}(e);r=J("{name}",i._url),o=i._query,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Y(e,["config"]);return null!=n&&function(e,t){const n=Y(e,["pageSize"]);void 0!==t&&null!=n&&K(t,["_query","pageSize"],n);const r=Y(e,["pageToken"]);void 0!==t&&null!=r&&K(t,["_query","pageToken"],r)}(n,t),t}(e);return o=J("fileSearchStores",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["nextPageToken"]);null!=r&&K(t,["nextPageToken"],r);const o=Y(e,["fileSearchStores"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["fileSearchStores"],e)}return t}(e),n=new wt;return Object.assign(n,t),n})}}async uploadToFileSearchStoreInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Y(e,["fileSearchStoreName"]);null!=n&&K(t,["_url","file_search_store_name"],n);const r=Y(e,["config"]);return null!=r&&Qn(r,t),t}(e);return o=J("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);return null!=n&&K(t,["sdkHttpResponse"],n),t}(e),n=new St;return Object.assign(n,t),n})}}async importFile(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Y(e,["fileSearchStoreName"]);null!=n&&K(t,["_url","file_search_store_name"],n);const r=Y(e,["fileName"]);null!=r&&K(t,["fileName"],r);const o=Y(e,["config"]);return null!=o&&function(e,t){const n=Y(e,["customMetadata"]);if(void 0!==t&&null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["customMetadata"],e)}const r=Y(e,["chunkingConfig"]);void 0!==t&&null!=r&&K(t,["chunkingConfig"],r)}(o,t),t}(e);return o=J("{file_search_store_name}:importFile",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Y(e,["name"]);null!=n&&K(t,["name"],n);const r=Y(e,["metadata"]);null!=r&&K(t,["metadata"],r);const o=Y(e,["done"]);null!=o&&K(t,["done"],o);const i=Y(e,["error"]);null!=i&&K(t,["error"],i);const l=Y(e,["response"]);return null!=l&&K(t,["response"],function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["parent"]);null!=r&&K(t,["parent"],r);const o=Y(e,["documentName"]);return null!=o&&K(t,["documentName"],o),t}(l)),t}(e),n=new Et;return Object.assign(n,t),n})}}}let Sr=function(){const{crypto:e}=globalThis;if(null==e?void 0:e.randomUUID)return Sr=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^n()&15>>+e/4).toString(16))};function Er(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const xr=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(e){}try{return new Error(JSON.stringify(e))}catch(e){}}return new Error(e)};class _r extends Error{}class Cr extends _r{constructor(e,t,n,r){super(`${Cr.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,n){const r=(null==t?void 0:t.message)?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new kr({message:n,cause:xr(t)});const o=t;return 400===e?new Ar(e,o,n,r):401===e?new Or(e,o,n,r):403===e?new Nr(e,o,n,r):404===e?new Pr(e,o,n,r):409===e?new Rr(e,o,n,r):422===e?new jr(e,o,n,r):429===e?new Dr(e,o,n,r):e>=500?new Mr(e,o,n,r):new Cr(e,o,n,r)}}class Tr extends Cr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class kr extends Cr{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class Ir extends kr{constructor({message:e}={}){super({message:null!=e?e:"Request timed out."})}}class Ar extends Cr{}class Or extends Cr{}class Nr extends Cr{}class Pr extends Cr{}class Rr extends Cr{}class jr extends Cr{}class Dr extends Cr{}class Mr extends Cr{}const Lr=/^[a-z][a-z0-9+.-]*:/i;let Ur=e=>(Ur=Array.isArray,Ur(e));const Fr=Ur,qr="0.0.1",Gr=()=>{var e,t,n,r,o;const i="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===i)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qr,"X-Stainless-OS":zr(Deno.build.os),"X-Stainless-Arch":Hr(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:null!==(t=null===(e=Deno.version)||void 0===e?void 0:e.deno)&&void 0!==t?t:"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===i)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qr,"X-Stainless-OS":zr(null!==(n=globalThis.process.platform)&&void 0!==n?n:"unknown"),"X-Stainless-Arch":Hr(null!==(r=globalThis.process.arch)&&void 0!==r?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!==(o=globalThis.process.version)&&void 0!==o?o:"unknown"};const l=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e)return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}return null}();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}},Hr=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",zr=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let Vr;function Br(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function $r(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Br({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}function Wr(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return(null==e?void 0:e.done)&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const Jr=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),Kr=()=>{var e;if("undefined"==typeof File){const{process:t}=globalThis,n="string"==typeof(null===(e=null==t?void 0:t.versions)||void 0===e?void 0:e.node)&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Yr(e,t,n){return Kr(),new File(e,null!=t?t:"unknown_file",n)}const Qr=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;async function Xr(e){var t,n,r,o,i;let l=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(Qr(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator])(e)){const t=null===(i=null==e?void 0:e.constructor)||void 0===i?void 0:i.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";return`; props: [${Object.getOwnPropertyNames(e).map(e=>`"${e}"`).join(", ")}]`}(e)}`)}try{for(var a,s=!0,u=Sn(e);!(t=(a=await u.next()).done);s=!0){o=a.value,s=!1;const e=o;l.push(...await Xr(e))}}catch(e){n={error:e}}finally{try{s||t||!(r=u.return)||await r.call(u)}finally{if(n)throw n.error}}}return l}class Zr{constructor(e){this._client=e}}function eo(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}Zr._key=[];const to=Object.freeze(Object.create(null)),no=(e=eo)=>function(t,...n){if(1===t.length)return t[0];let r=!1;const o=[],i=t.reduce((t,i,l)=>{var a,s,u;/[?#]/.test(i)&&(r=!0);const c=n[l];let d=(r?encodeURIComponent:e)(""+c);return l!==n.length&&(null==c||"object"==typeof c&&c.toString===(null===(u=Object.getPrototypeOf(null!==(s=Object.getPrototypeOf(null!==(a=c.hasOwnProperty)&&void 0!==a?a:to))&&void 0!==s?s:to))||void 0===u?void 0:u.toString))&&(d=c+"",o.push({start:t.length+i.length,length:d.length,error:`Value of type ${Object.prototype.toString.call(c).slice(8,-1)} is not a valid path parameter`})),t+i+(l===n.length?"":d)},""),l=i.split(/[?#]/,1)[0],a=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let s;for(;null!==(s=a.exec(l));)o.push({start:s.index,length:s[0].length,error:`Value "${s[0]}" can't be safely passed as a path parameter`});if(o.sort((e,t)=>e.start-t.start),o.length>0){let e=0;const t=o.reduce((t,n)=>{const r=" ".repeat(n.start-e),o="^".repeat(n.length);return e=n.start+n.length,t+r+o},"");throw new _r(`Path parameters result in path with invalid segments:\n${o.map(e=>e.error).join("\n")}\n${i}\n${t}`)}return i},ro=no(eo);class oo extends Zr{create(e,t){var n;const{api_version:r=this._client.apiVersion}=e,o=vn(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new _r("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new _r("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ro`/${r}/interactions`,Object.assign(Object.assign({body:o},t),{stream:null!==(n=e.stream)&&void 0!==n&&n}))}delete(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.delete(ro`/${r}/interactions/${e}`,n)}cancel(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.post(ro`/${r}/interactions/${e}/cancel`,n)}get(e,t={},n){var r;const o=null!=t?t:{},{api_version:i=this._client.apiVersion}=o,l=vn(o,["api_version"]);return this._client.get(ro`/${i}/interactions/${e}`,Object.assign(Object.assign({query:l},n),{stream:null!==(r=null==t?void 0:t.stream)&&void 0!==r&&r}))}}oo._key=Object.freeze(["interactions"]);class io extends oo{}let lo,ao;function so(e){let t;return(null!=lo?lo:(t=new globalThis.TextEncoder,lo=t.encode.bind(t)))(e)}function uo(e){let t;return(null!=ao?ao:(t=new globalThis.TextDecoder,ao=t.decode.bind(t)))(e)}class co{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?so(e):e;this.buffer=function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}([this.buffer,t]);const n=[];let r;for(;null!=(r=po(this.buffer,this.carriageReturnIndex));){if(r.carriage&&null==this.carriageReturnIndex){this.carriageReturnIndex=r.index;continue}if(null!=this.carriageReturnIndex&&(r.index!==this.carriageReturnIndex+1||r.carriage)){n.push(uo(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const e=null!==this.carriageReturnIndex?r.preceding-1:r.preceding,t=uo(this.buffer.subarray(0,e));n.push(t),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode("\n"):[]}}function po(e,t){for(let n=null!=t?t:0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function fo(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}co.NEWLINE_CHARS=new Set(["\n","\r"]),co.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const ho={off:0,error:200,warn:300,info:400,debug:500},mo=(e,t,n)=>{var r,o;if(e)return r=ho,o=e,Object.prototype.hasOwnProperty.call(r,o)?e:void wo(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(ho))}`)};function go(){}function yo(e,t,n){return!t||ho[e]>ho[n]?go:t[e].bind(t)}const vo={error:go,warn:go,info:go,debug:go};let bo=new WeakMap;function wo(e){var t;const n=e.logger,r=null!==(t=e.logLevel)&&void 0!==t?t:"off";if(!n)return vo;const o=bo.get(n);if(o&&o[0]===r)return o[1];const i={error:yo("error",n,r),warn:yo("warn",n,r),info:yo("info",n,r),debug:yo("debug",n,r)};return bo.set(n,[r,i]),i}const So=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"x-goog-api-key"===e.toLowerCase()||"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class Eo{constructor(e,t,n){this.iterator=e,this.controller=t,this.client=n}static fromSSEResponse(e,t,n){let r=!1;const o=n?wo(n):console;return new Eo(function(){return wn(this,arguments,function*(){var n,i,l,a;if(r)throw new _r("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{try{for(var u,c=!0,d=Sn(function(e,t){return wn(this,arguments,function*(){var n,r,o,i;if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new _r("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new _r("Attempted to iterate over a response with no body")}const l=new xo,a=new co,s=Wr(e.body);try{for(var u,c=!0,d=Sn(function(e){return wn(this,arguments,function*(){var t,n,r,o;let i=new Uint8Array;try{for(var l,a=!0,s=Sn(e);!(t=(l=yield bn(s.next())).done);a=!0){o=l.value,a=!1;const e=o;if(null==e)continue;const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?so(e):e;let n,r=new Uint8Array(i.length+t.length);for(r.set(i),r.set(t,i.length),i=r;-1!==(n=fo(i));)yield yield bn(i.slice(0,n)),i=i.slice(n)}}catch(e){n={error:e}}finally{try{a||t||!(r=s.return)||(yield bn(r.call(s)))}finally{if(n)throw n.error}}i.length>0&&(yield yield bn(i))})}(s));!(n=(u=yield bn(d.next())).done);c=!0){i=u.value,c=!1;const e=i;for(const t of a.decode(e)){const e=l.decode(t);e&&(yield yield bn(e))}}}catch(e){r={error:e}}finally{try{c||n||!(o=d.return)||(yield bn(o.call(d)))}finally{if(r)throw r.error}}for(const e of a.flush()){const t=l.decode(e);t&&(yield yield bn(t))}})}(e,t));!(n=(u=yield bn(d.next())).done);c=!0){a=u.value,c=!1;const e=a;if(!s)if(e.data.startsWith("[DONE]"))s=!0;else try{yield yield bn(JSON.parse(e.data))}catch(t){throw o.error("Could not parse message into JSON:",e.data),o.error("From chunk:",e.raw),t}}}catch(e){i={error:e}}finally{try{c||n||!(l=d.return)||(yield bn(l.call(d)))}finally{if(i)throw i.error}}s=!0}catch(e){if(Er(e))return yield bn(void 0);throw e}finally{s||t.abort()}})},t,n)}static fromReadableStream(e,t,n){let r=!1;return new Eo(function(){return wn(this,arguments,function*(){var n,o,i,l;if(r)throw new _r("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{try{for(var s,u=!0,c=Sn(function(){return wn(this,arguments,function*(){var t,n,r,o;const i=new co,l=Wr(e);try{for(var a,s=!0,u=Sn(l);!(t=(a=yield bn(u.next())).done);s=!0){o=a.value,s=!1;const e=o;for(const t of i.decode(e))yield yield bn(t)}}catch(e){n={error:e}}finally{try{s||t||!(r=u.return)||(yield bn(r.call(u)))}finally{if(n)throw n.error}}for(const e of i.flush())yield yield bn(e)})}());!(n=(s=yield bn(c.next())).done);u=!0){l=s.value,u=!1;const e=l;a||e&&(yield yield bn(JSON.parse(e)))}}catch(e){o={error:e}}finally{try{u||n||!(i=c.return)||(yield bn(i.call(c)))}finally{if(o)throw o.error}}a=!0}catch(e){if(Er(e))return yield bn(void 0);throw e}finally{a||t.abort()}})},t,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new Eo(()=>r(e),this.controller,this.client),new Eo(()=>r(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return Br({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const o=so(JSON.stringify(n)+"\n");e.enqueue(o)}catch(t){e.error(t)}},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}}class xo{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e){const t=e.indexOf(":");return-1!==t?[e.substring(0,t),":",e.substring(t+1)]:[e,"",""]}(e);return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}async function _o(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:i}=t,l=await(async()=>{var r;if(t.options.stream)return wo(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Eo.fromSSEResponse(n,t.controller,e);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const o=n.headers.get("content-type"),i=null===(r=null==o?void 0:o.split(";")[0])||void 0===r?void 0:r.trim();return(null==i?void 0:i.includes("application/json"))||(null==i?void 0:i.endsWith("+json"))?await n.json():await n.text()})();return wo(e).debug(`[${r}] response parsed`,So({retryOfRequestLogID:o,url:n.url,status:n.status,body:l,durationMs:Date.now()-i})),l}class Co extends Promise{constructor(e,t,n=_o){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new Co(this.client,this.responsePromise,async(t,n)=>e(await this.parseResponse(t,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const To=Symbol("brand.privateNullableHeaders");function*ko(e){if(!e)return;if(To in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():Fr(e)?t=e:(n=!0,t=Object.entries(null!=e?e:{}));for(let e of t){const t=e[0];if("string"!=typeof t)throw new TypeError("expected header name to be a string");const r=Fr(e[1])?e[1]:[e[1]];let o=!1;for(const e of r)void 0!==e&&(n&&!o&&(o=!0,yield[t,null]),yield[t,e])}}const Io=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[o,i]of ko(r)){const r=o.toLowerCase();e.has(r)||(t.delete(o),e.add(r)),null===i?(t.delete(o),n.add(r)):(t.append(o,i),n.delete(r))}}return{[To]:!0,values:t,nulls:n}},Ao=e=>{var t,n,r,o,i,l;return void 0!==globalThis.process?null!==(r=null===(n=null===(t=globalThis.process.env)||void 0===t?void 0:t[e])||void 0===n?void 0:n.trim())&&void 0!==r?r:void 0:void 0!==globalThis.Deno?null===(l=null===(i=null===(o=globalThis.Deno.env)||void 0===o?void 0:o.get)||void 0===i?void 0:i.call(o,e))||void 0===l?void 0:l.trim():void 0};var Oo;class No{constructor(e){var t,n,r,o,i,l,a,{baseURL:s=Ao("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:u=(null!==(t=Ao("GEMINI_API_KEY"))&&void 0!==t?t:null),apiVersion:c="v1beta"}=e,d=vn(e,["baseURL","apiKey","apiVersion"]);const p=Object.assign(Object.assign({apiKey:u,apiVersion:c},d),{baseURL:s||"https://generativelanguage.googleapis.com"});this.baseURL=p.baseURL,this.timeout=null!==(n=p.timeout)&&void 0!==n?n:No.DEFAULT_TIMEOUT,this.logger=null!==(r=p.logger)&&void 0!==r?r:console;const f="warn";this.logLevel=f,this.logLevel=null!==(i=null!==(o=mo(p.logLevel,"ClientOptions.logLevel",this))&&void 0!==o?o:mo(Ao("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))&&void 0!==i?i:f,this.fetchOptions=p.fetchOptions,this.maxRetries=null!==(l=p.maxRetries)&&void 0!==l?l:2,this.fetch=null!==(a=p.fetch)&&void 0!==a?a:function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),this.encoder=Jr,this._options=p,this.apiKey=u,this.apiVersion=c,this.clientAdapter=p.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return"https://generativelanguage.googleapis.com"!==this.baseURL}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!e.has("authorization")&&!e.has("x-goog-api-key")&&!(this.apiKey&&e.get("x-goog-api-key")||t.has("x-goog-api-key")))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=Io([e.headers]);if(!t.values.has("authorization")&&!t.values.has("x-goog-api-key"))return this.apiKey?Io([{"x-goog-api-key":this.apiKey}]):this.clientAdapter.isVertexAI()?Io([await this.clientAdapter.getAuthHeaders()]):void 0}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new _r(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${qr}`}defaultIdempotencyKey(){return`stainless-node-retry-${Sr()}`}makeStatusError(e,t,n,r){return Cr.generate(e,t,n,r)}buildURL(e,t,n){const r=!this.baseURLOverridden()&&n||this.baseURL,o=(e=>Lr.test(e))(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return function(e){if(!e)return!0;for(const t in e)return!1;return!0}(i)||(t=Object.assign(Object.assign({},i),t)),"object"==typeof t&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>Object.assign({method:e,path:t},n)))}request(e,t=null){return new Co(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){var r,o,i;const l=await e,a=null!==(r=l.maxRetries)&&void 0!==r?r:this.maxRetries;null==t&&(t=a),await this.prepareOptions(l);const{req:s,url:u,timeout:c}=await this.buildRequest(l,{retryCount:a-t});await this.prepareRequest(s,{url:u,options:l});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=void 0===n?"":`, retryOf: ${n}`,f=Date.now();if(wo(this).debug(`[${d}] sending request`,So({retryOfRequestLogID:n,method:l.method,url:u,options:l,headers:s.headers})),null===(o=l.signal)||void 0===o?void 0:o.aborted)throw new Tr;const h=new AbortController,m=await this.fetchWithTimeout(u,s,c,h).catch(xr),g=Date.now();if(m instanceof globalThis.Error){const e=`retrying, ${t} attempts remaining`;if(null===(i=l.signal)||void 0===i?void 0:i.aborted)throw new Tr;const r=Er(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(t)return wo(this).info(`[${d}] connection ${r?"timed out":"failed"} - ${e}`),wo(this).debug(`[${d}] connection ${r?"timed out":"failed"} (${e})`,So({retryOfRequestLogID:n,url:u,durationMs:g-f,message:m.message})),this.retryRequest(l,t,null!=n?n:d);if(wo(this).info(`[${d}] connection ${r?"timed out":"failed"} - error; no more retries left`),wo(this).debug(`[${d}] connection ${r?"timed out":"failed"} (error; no more retries left)`,So({retryOfRequestLogID:n,url:u,durationMs:g-f,message:m.message})),r)throw new Ir;throw new kr({cause:m})}const y=`[${d}${p}] ${s.method} ${u} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${g-f}ms`;if(!m.ok){const e=await this.shouldRetry(m);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await async function(e){var t,n;if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void await(null===(n=(t=e[Symbol.asyncIterator]()).return)||void 0===n?void 0:n.call(t));const r=e.getReader(),o=r.cancel();r.releaseLock(),await o}(m.body),wo(this).info(`${y} - ${e}`),wo(this).debug(`[${d}] response error (${e})`,So({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:g-f})),this.retryRequest(l,t,null!=n?n:d,m.headers)}const r=e?"error; no more retries left":"error; not retryable";wo(this).info(`${y} - ${r}`);const o=await m.text().catch(e=>xr(e).message),i=(e=>{try{return JSON.parse(e)}catch(e){return}})(o),a=i?void 0:o;throw wo(this).debug(`[${d}] response error (${r})`,So({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,message:a,durationMs:Date.now()-f})),this.makeStatusError(m.status,i,a,m.headers)}return wo(this).info(y),wo(this).debug(`[${d}] response start`,So({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:g-f})),{response:m,options:l,controller:h,requestLogID:d,retryOfRequestLogID:n,startTime:f}}async fetchWithTimeout(e,t,n,r){const o=t||{},{signal:i,method:l}=o,a=vn(o,["signal","method"]);i&&i.addEventListener("abort",()=>r.abort());const s=setTimeout(()=>r.abort(),n),u=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||"object"==typeof a.body&&null!==a.body&&Symbol.asyncIterator in a.body,c=Object.assign(Object.assign(Object.assign({signal:r.signal},u?{duplex:"half"}:{}),{method:"GET"}),a);l&&(c.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,c)}finally{clearTimeout(s)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||e.status>=500)}async retryRequest(e,t,n,r){var o;let i;const l=null==r?void 0:r.get("retry-after-ms");if(l){const e=parseFloat(l);Number.isNaN(e)||(i=e)}const a=null==r?void 0:r.get("retry-after");if(a&&!i){const e=parseFloat(a);i=Number.isNaN(e)?Date.parse(a)-Date.now():1e3*e}if(!(i&&0<=i&&i<6e4)){const n=null!==(o=e.maxRetries)&&void 0!==o?o:this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(t,n)}var s;return await(s=i,new Promise(e=>setTimeout(e,s))),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){var n,r,o;const i=Object.assign({},e),{method:l,path:a,query:s,defaultBaseURL:u}=i,c=this.buildURL(a,s,u);"timeout"in i&&((e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new _r(`${e} must be an integer`);if(t<0)throw new _r(`${e} must be a positive integer`)})("timeout",i.timeout),i.timeout=null!==(n=i.timeout)&&void 0!==n?n:this.timeout;const{bodyHeaders:d,body:p}=this.buildBody({options:i}),f=await this.buildHeaders({options:e,method:l,bodyHeaders:d,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:f},i.signal&&{signal:i.signal}),globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"}),p&&{body:p}),null!==(r=this.fetchOptions)&&void 0!==r?r:{}),null!==(o=i.fetchOptions)&&void 0!==o?o:{}),url:c,timeout:i.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:r}){let o={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const i=await this.authHeaders(e);let l=Io([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),null!=Vr?Vr:Vr=Gr()),this._options.defaultHeaders,n,e.headers,i]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=Io([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:$r(e)}:this.encoder({body:e,headers:n})}}No.DEFAULT_TIMEOUT=6e4;class Po extends No{constructor(){super(...arguments),this.interactions=new io(this)}}function Ro(e,t){const n={},r=Y(e,["sdkHttpResponse"]);null!=r&&K(n,["sdkHttpResponse"],r);const o=Y(e,["name"]);null!=o&&K(n,["name"],o);const i=Y(e,["state"]);null!=i&&K(n,["state"],Qt(i));const l=Y(e,["createTime"]);null!=l&&K(n,["createTime"],l);const a=Y(e,["tuningTask","startTime"]);null!=a&&K(n,["startTime"],a);const s=Y(e,["tuningTask","completeTime"]);null!=s&&K(n,["endTime"],s);const u=Y(e,["updateTime"]);null!=u&&K(n,["updateTime"],u);const c=Y(e,["description"]);null!=c&&K(n,["description"],c);const d=Y(e,["baseModel"]);null!=d&&K(n,["baseModel"],d);const p=Y(e,["_self"]);return null!=p&&K(n,["tunedModel"],function(e){const t={},n=Y(e,["name"]);null!=n&&K(t,["model"],n);const r=Y(e,["name"]);return null!=r&&K(t,["endpoint"],r),t}(p)),n}function jo(e,t){const n={},r=Y(e,["sdkHttpResponse"]);null!=r&&K(n,["sdkHttpResponse"],r);const o=Y(e,["name"]);null!=o&&K(n,["name"],o);const i=Y(e,["state"]);null!=i&&K(n,["state"],Qt(i));const l=Y(e,["createTime"]);null!=l&&K(n,["createTime"],l);const a=Y(e,["startTime"]);null!=a&&K(n,["startTime"],a);const s=Y(e,["endTime"]);null!=s&&K(n,["endTime"],s);const u=Y(e,["updateTime"]);null!=u&&K(n,["updateTime"],u);const c=Y(e,["error"]);null!=c&&K(n,["error"],c);const d=Y(e,["description"]);null!=d&&K(n,["description"],d);const p=Y(e,["baseModel"]);null!=p&&K(n,["baseModel"],p);const f=Y(e,["tunedModel"]);null!=f&&K(n,["tunedModel"],f);const h=Y(e,["preTunedModel"]);null!=h&&K(n,["preTunedModel"],h);const m=Y(e,["supervisedTuningSpec"]);null!=m&&K(n,["supervisedTuningSpec"],m);const g=Y(e,["preferenceOptimizationSpec"]);null!=g&&K(n,["preferenceOptimizationSpec"],g);const y=Y(e,["tuningDataStats"]);null!=y&&K(n,["tuningDataStats"],y);const v=Y(e,["encryptionSpec"]);null!=v&&K(n,["encryptionSpec"],v);const b=Y(e,["partnerModelTuningSpec"]);null!=b&&K(n,["partnerModelTuningSpec"],b);const w=Y(e,["customBaseModel"]);null!=w&&K(n,["customBaseModel"],w);const S=Y(e,["experiment"]);null!=S&&K(n,["experiment"],S);const E=Y(e,["labels"]);null!=E&&K(n,["labels"],E);const x=Y(e,["outputUri"]);null!=x&&K(n,["outputUri"],x);const _=Y(e,["pipelineJob"]);null!=_&&K(n,["pipelineJob"],_);const C=Y(e,["serviceAccount"]);null!=C&&K(n,["serviceAccount"],C);const T=Y(e,["tunedModelDisplayName"]);null!=T&&K(n,["tunedModelDisplayName"],T);const k=Y(e,["veoTuningSpec"]);return null!=k&&K(n,["veoTuningSpec"],k),n}function Do(e,t){const n={},r=Y(e,["gcsUri"]);null!=r&&K(n,["validationDatasetUri"],r);const o=Y(e,["vertexDatasetResource"]);return null!=o&&K(n,["validationDatasetUri"],o),n}Oo=Po,Po.GeminiNextGenAPIClient=Oo,Po.GeminiNextGenAPIClientError=_r,Po.APIError=Cr,Po.APIConnectionError=kr,Po.APIConnectionTimeoutError=Ir,Po.APIUserAbortError=Tr,Po.NotFoundError=Pr,Po.ConflictError=Rr,Po.RateLimitError=Dr,Po.BadRequestError=Ar,Po.AuthenticationError=Or,Po.InternalServerError=Mr,Po.PermissionDeniedError=Nr,Po.UnprocessableEntityError=jr,Po.toFile=async function(e,t,n){if(Kr(),(e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&Qr(e))(e=await e))return e instanceof File?e:Yr([await e.arrayBuffer()],e.name);if((e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob)(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Yr(await Xr(r),t,n)}const r=await Xr(e);if(t||(t=function(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}(e)),!(null==n?void 0:n.type)){const e=r.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(n=Object.assign(Object.assign({},n),{type:e}))}return Yr(r,t,n)},Po.Interactions=io;class Mo extends W{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new hn(tt.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.get=async e=>await this.getInternal(e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const n={tunedModelName:e.baseModel};(null===(t=e.config)||void 0===t?void 0:t.preTunedModelCheckpointId)&&(n.checkpointId=e.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},e),{preTunedModel:n});return r.baseModel=void 0,await this.tuneInternal(r)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let r="";return void 0!==n.metadata&&void 0!==n.metadata.tunedModel?r=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(r=n.name.split("/operations/")[0]),{name:r,state:Ce.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Y(e,["name"]);return null!=n&&K(t,["_url","name"],n),t}(e);return l=J("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>jo(e))}{const t=function(e){const t={},n=Y(e,["name"]);return null!=n&&K(t,["_url","name"],n),t}(e);return l=J("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>Ro(e))}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Y(e,["config"]);return null!=n&&function(e,t){const n=Y(e,["pageSize"]);void 0!==t&&null!=n&&K(t,["_query","pageSize"],n);const r=Y(e,["pageToken"]);void 0!==t&&null!=r&&K(t,["_query","pageToken"],r);const o=Y(e,["filter"]);void 0!==t&&null!=o&&K(t,["_query","filter"],o)}(n,t),t}(e);return l=J("tuningJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["nextPageToken"]);null!=r&&K(t,["nextPageToken"],r);const o=Y(e,["tuningJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>jo(e))),K(t,["tuningJobs"],e)}return t}(e),n=new mt;return Object.assign(n,t),n})}{const t=function(e){const t={},n=Y(e,["config"]);return null!=n&&function(e,t){const n=Y(e,["pageSize"]);void 0!==t&&null!=n&&K(t,["_query","pageSize"],n);const r=Y(e,["pageToken"]);void 0!==t&&null!=r&&K(t,["_query","pageToken"],r);const o=Y(e,["filter"]);void 0!==t&&null!=o&&K(t,["_query","filter"],o)}(n,t),t}(e);return l=J("tunedModels",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["nextPageToken"]);null!=r&&K(t,["nextPageToken"],r);const o=Y(e,["tunedModels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Ro(e))),K(t,["tuningJobs"],e)}return t}(e),n=new mt;return Object.assign(n,t),n})}}async cancel(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Y(e,["name"]);return null!=n&&K(t,["_url","name"],n),t}(e);return l=J("{name}:cancel",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);return null!=n&&K(t,["sdkHttpResponse"],n),t}(e),n=new gt;return Object.assign(n,t),n})}{const t=function(e){const t={},n=Y(e,["name"]);return null!=n&&K(t,["_url","name"],n),t}(e);return l=J("{name}:cancel",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Y(e,["sdkHttpResponse"]);return null!=n&&K(t,["sdkHttpResponse"],n),t}(e),n=new gt;return Object.assign(n,t),n})}}async tuneInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=Y(e,["baseModel"]);null!=r&&K(n,["baseModel"],r);const o=Y(e,["preTunedModel"]);null!=o&&K(n,["preTunedModel"],o);const i=Y(e,["trainingDataset"]);null!=i&&function(e,t,n){let r=Y(n,["config","method"]);if(void 0===r&&(r="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===r){const n=Y(e,["gcsUri"]);void 0!==t&&null!=n&&K(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===r){const n=Y(e,["gcsUri"]);void 0!==t&&null!=n&&K(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}let o=Y(n,["config","method"]);if(void 0===o&&(o="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===o){const n=Y(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&K(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===o){const n=Y(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&K(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}if(void 0!==Y(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.")}(i,n,t);const l=Y(e,["config"]);return null!=l&&function(e,t,n){let r=Y(n,["config","method"]);if(void 0===r&&(r="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===r){const n=Y(e,["validationDataset"]);void 0!==t&&null!=n&&K(t,["supervisedTuningSpec"],Do(n))}else if("PREFERENCE_TUNING"===r){const n=Y(e,["validationDataset"]);void 0!==t&&null!=n&&K(t,["preferenceOptimizationSpec"],Do(n))}const o=Y(e,["tunedModelDisplayName"]);void 0!==t&&null!=o&&K(t,["tunedModelDisplayName"],o);const i=Y(e,["description"]);void 0!==t&&null!=i&&K(t,["description"],i);let l=Y(n,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){const n=Y(e,["epochCount"]);void 0!==t&&null!=n&&K(t,["supervisedTuningSpec","hyperParameters","epochCount"],n)}else if("PREFERENCE_TUNING"===l){const n=Y(e,["epochCount"]);void 0!==t&&null!=n&&K(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],n)}let a=Y(n,["config","method"]);if(void 0===a&&(a="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===a){const n=Y(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&K(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],n)}else if("PREFERENCE_TUNING"===a){const n=Y(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&K(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],n)}let s=Y(n,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){const n=Y(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&K(t,["supervisedTuningSpec","exportLastCheckpointOnly"],n)}else if("PREFERENCE_TUNING"===s){const n=Y(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&K(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],n)}let u=Y(n,["config","method"]);if(void 0===u&&(u="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===u){const n=Y(e,["adapterSize"]);void 0!==t&&null!=n&&K(t,["supervisedTuningSpec","hyperParameters","adapterSize"],n)}else if("PREFERENCE_TUNING"===u){const n=Y(e,["adapterSize"]);void 0!==t&&null!=n&&K(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],n)}if(void 0!==Y(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==Y(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const c=Y(e,["labels"]);void 0!==t&&null!=c&&K(t,["labels"],c);const d=Y(e,["beta"]);void 0!==t&&null!=d&&K(t,["preferenceOptimizationSpec","hyperParameters","beta"],d)}(l,n,t),n}(e,e);return o=J("tuningJobs",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>jo(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Y(e,["baseModel"]);null!=n&&K(t,["baseModel"],n);const r=Y(e,["preTunedModel"]);null!=r&&K(t,["preTunedModel"],r);const o=Y(e,["trainingDataset"]);null!=o&&function(e){const t={};if(void 0!==Y(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==Y(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=Y(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),K(t,["examples","examples"],e)}}(o);const i=Y(e,["config"]);return null!=i&&function(e,t){if(void 0!==Y(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const n=Y(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=n&&K(t,["displayName"],n),void 0!==Y(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const r=Y(e,["epochCount"]);void 0!==t&&null!=r&&K(t,["tuningTask","hyperparameters","epochCount"],r);const o=Y(e,["learningRateMultiplier"]);if(null!=o&&K({},["tuningTask","hyperparameters","learningRateMultiplier"],o),void 0!==Y(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==Y(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==Y(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const i=Y(e,["batchSize"]);void 0!==t&&null!=i&&K(t,["tuningTask","hyperparameters","batchSize"],i);const l=Y(e,["learningRate"]);if(void 0!==t&&null!=l&&K(t,["tuningTask","hyperparameters","learningRate"],l),void 0!==Y(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");if(void 0!==Y(e,["beta"]))throw new Error("beta parameter is not supported in Gemini API.")}(i,t),t}(e);return o=J("tunedModels",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>function(e){const t={},n=Y(e,["sdkHttpResponse"]);null!=n&&K(t,["sdkHttpResponse"],n);const r=Y(e,["name"]);null!=r&&K(t,["name"],r);const o=Y(e,["metadata"]);null!=o&&K(t,["metadata"],o);const i=Y(e,["done"]);null!=i&&K(t,["done"],i);const l=Y(e,["error"]);return null!=l&&K(t,["error"],l),t}(e))}}}class Lo{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Uo="x-goog-upload-status";async function Fo(e,t,n){var r,o;let i=0,l=0,a=new nt(new Response),s="upload";for(i=e.size;l<i;){const u=Math.min(8388608,i-l),c=e.slice(l,l+u);l+u>=i&&(s+=", finalize");let d=0,p=1e3;for(;d<3&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":s,"X-Goog-Upload-Offset":String(l),"Content-Length":String(u)}}}),!(null===(r=null==a?void 0:a.headers)||void 0===r?void 0:r[Uo]));)d++,await qo(p),p*=2;if(l+=u,"active"!==(null===(o=null==a?void 0:a.headers)||void 0===o?void 0:o[Uo]))break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}function qo(e){return new Promise(t=>setTimeout(t,e))}class Go{async upload(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const o=await Fo(e,t,n),i=await(null==o?void 0:o.json());if("final"!==(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r[Uo]))throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}(e,t,n)}async uploadToFileSearchStore(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const o=await Fo(e,t,n),i=await(null==o?void 0:o.json());if("final"!==(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r[Uo]))throw new Error("Failed to upload file: Upload status is not finalized.");const l=Z(i),a=new At;return Object.assign(a,l),a}(e,t,n)}async stat(e){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}class Ho{create(e,t,n){return new zo(e,t,n)}}class zo{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}const Vo="x-goog-api-key";class Bo{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(null===e.get(Vo)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Vo,this.apiKey)}}}class $o{get interactions(){if(void 0!==this._interactions)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;(null==e?void 0:e.extraBody)&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new Po({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:null==e?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=function(e,t,n,r){var o,i;if(!(null==e?void 0:e.baseUrl)){const e={geminiUrl:void 0,vertexUrl:void 0};return t?null!==(o=e.vertexUrl)&&void 0!==o?o:n:null!==(i=e.geminiUrl)&&void 0!==i?i:r}return e.baseUrl}(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new Bo(this.apiKey);this.apiClient=new Zn({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:"gl-node/web",uploader:new Go,downloader:new Lo}),this.models=new mr(this.apiClient),this.live=new sr(this.apiClient,r,new Ho),this.batches=new mn(this.apiClient),this.chats=new Cn(this.models,this.apiClient),this.caches=new yn(this.apiClient),this.files=new In(this.apiClient),this.operations=new gr(this.apiClient),this.authTokens=new vr(this.apiClient),this.tunings=new Mo(this.apiClient),this.fileSearchStores=new wr(this.apiClient)}}function Wo(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof a?r:a,u=Object.create(s.prototype);return Jo(u,"_invoke",function(n,r,o){var i,a,s,u=0,c=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,a=0,s=e,p.n=n,l}};function f(n,r){for(a=n,s=r,t=0;!d&&u&&!o&&t<c.length;t++){var o,i=c[t],f=p.p,h=i[2];n>3?(o=h===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(a=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,a=0))}if(o||n>1)return l;throw d=!0,r}return function(o,c,h){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&f(c,h),a=c,s=h;(t=a<2?e:s)||!d;){i||(a?a<3?(a>1&&(p.n=-1),f(a,s)):p.n=s:p.v=s);try{if(u=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==l)break}catch(t){i=e,a=1,s=t}finally{u=1}}return{value:t,done:d}}}(n,o,i),!0),u}var l={};function a(){}function s(){}function u(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(Jo(t={},r,function(){return this}),t),d=u.prototype=a.prototype=Object.create(c);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Jo(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=u,Jo(d,"constructor",u),Jo(u,"constructor",s),s.displayName="GeneratorFunction",Jo(u,o,"GeneratorFunction"),Jo(d),Jo(d,o,"Generator"),Jo(d,r,function(){return this}),Jo(d,"toString",function(){return"[object Generator]"}),(Wo=function(){return{w:i,m:p}})()}function Jo(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Jo=function(e,t,n,r){function i(t,n){Jo(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Jo(e,t,n,r)}function Ko(e,t,n,r,o,i,l){try{var a=e[i](l),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o)}function Yo(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function l(e){Ko(i,r,o,l,a,"next",e)}function a(e){Ko(i,r,o,l,a,"throw",e)}l(void 0)})}}var Qo=function(){var e=Yo(Wo().m(function e(t){var n;return Wo().w(function(e){for(;;)switch(e.n){case 0:if(!(t.toString().toLowerCase().includes("requested entity was not found")||404===t.status||t.error&&404===t.error.code)){e.n=2;break}if(null===(n=window.aistudio)||void 0===n||!n.openSelectKey){e.n=2;break}return e.n=1,window.aistudio.openSelectKey();case 1:throw new Error("API Key refreshed. Please retry the action.");case 2:throw t;case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Xo=function(){var e=Yo(Wo().m(function e(t){var n,r,o;return Wo().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=new $o({apiKey:f.apiKey}),e.p=1,e.n=2,n.models.generateContent({model:"gemini-flash-lite-latest",contents:"\n      # Role\n      Expert Chat Customer Support Agent.\n      # Behavior and Response\n      - Acknowledge: Acknowledge the customer's request.\n      - Empathize: Empathize with the customer in case of inconvenience or trouble.\n      - Reassure: Assure the customer that you'll your best to help them.\n      # Constraints\n      Very brief, friendly, professional, positive language, use < 50 words per response.\n\n      Customer Message:\n      ```\n        ".concat(t,"\n      ```\n      "),config:{temperature:.5,topP:.75,maxOutputTokens:100}});case 2:return r=e.v,e.a(2,r.text||"No response generated.");case 3:return e.p=3,o=e.v,e.n=4,Qo(o);case 4:return e.a(2,"Error generating response.")}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}();function Zo(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof a?r:a,u=Object.create(s.prototype);return ei(u,"_invoke",function(n,r,o){var i,a,s,u=0,c=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,a=0,s=e,p.n=n,l}};function f(n,r){for(a=n,s=r,t=0;!d&&u&&!o&&t<c.length;t++){var o,i=c[t],f=p.p,h=i[2];n>3?(o=h===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(a=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,a=0))}if(o||n>1)return l;throw d=!0,r}return function(o,c,h){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&f(c,h),a=c,s=h;(t=a<2?e:s)||!d;){i||(a?a<3?(a>1&&(p.n=-1),f(a,s)):p.n=s:p.v=s);try{if(u=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==l)break}catch(t){i=e,a=1,s=t}finally{u=1}}return{value:t,done:d}}}(n,o,i),!0),u}var l={};function a(){}function s(){}function u(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(ei(t={},r,function(){return this}),t),d=u.prototype=a.prototype=Object.create(c);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,ei(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=u,ei(d,"constructor",u),ei(u,"constructor",s),s.displayName="GeneratorFunction",ei(u,o,"GeneratorFunction"),ei(d),ei(d,o,"Generator"),ei(d,r,function(){return this}),ei(d,"toString",function(){return"[object Generator]"}),(Zo=function(){return{w:i,m:p}})()}function ei(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ei=function(e,t,n,r){function i(t,n){ei(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},ei(e,t,n,r)}function ti(e,t,n,r,o,i,l){try{var a=e[i](l),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o)}function ni(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ri(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ri(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const oi=function(){var e=ni((0,r.useState)(""),2),t=e[0],n=e[1],o=ni((0,r.useState)(""),2),i=o[0],l=o[1],a=ni((0,r.useState)(!1),2),s=a[0],u=a[1],c=ni((0,r.useState)(!1),2),d=c[0],p=c[1],f=function(){var e,n=(e=Zo().m(function e(){var n,r;return Zo().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.trim()){e.n=1;break}return e.a(2);case 1:return u(!0),l(""),e.p=2,e.n=3,Xo(t);case 3:n=e.v,l(n),y(),e.n=5;break;case 4:e.p=4,r=e.v,console.error(r),l("Error generating response.\nPlease check your connection and API settings.");case 5:return e.p=5,u(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function l(e){ti(i,r,o,l,a,"next",e)}function a(e){ti(i,r,o,l,a,"throw",e)}l(void 0)})});return function(){return n.apply(this,arguments)}}();return(0,C.jsxs)("div",{id:"qresp-root",className:"h-full flex flex-col p-1 md:p-8 animate-fadeIn overflow-hidden",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between mb-2 flex-shrink-0",children:[(0,C.jsx)("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-sm mt-1",children:"Generate immediate drafts for any customer inquiry following AER."}),(0,C.jsx)("button",{onClick:function(){n(""),l(""),p(!1)},disabled:!t&&!i,className:"px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest text-slate-500 hover:bg-slate-200 dark:text-slate-400 dark:hover:bg-slate-800 transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:"Clear All"})]}),(0,C.jsxs)("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-6 min-h-0",children:[(0,C.jsxs)("div",{className:"flex flex-col h-full space-y-4",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,C.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400",children:"Source Context"}),(0,C.jsxs)("span",{className:"text-[10px] font-bold text-slate-300 dark:text-slate-600",children:[t.length," chars"]})]}),(0,C.jsx)("div",{className:"flex-1 bg-white dark:bg-slate-900 rounded-[2rem] border border-slate-200 dark:border-slate-800 shadow-xl overflow-hidden flex flex-col transition-colors focus-within:ring-4 focus-within:ring-blue-500/10 focus-within:border-blue-500/50",children:(0,C.jsx)("textarea",{value:t,onChange:function(e){return n(e.target.value)},placeholder:"Paste the customer's message here...",className:"w-full h-full p-4 bg-transparent border-none outline-none resize-none text-slate-700 dark:text-slate-200 text-base leading-relaxed placeholder:text-slate-300 dark:placeholder:text-slate-700"})}),(0,C.jsx)("button",{onClick:f,disabled:!t.trim()||s,className:"w-full py-5 rounded-2xl font-black uppercase tracking-widest transition-all shadow-lg text-white flex items-center justify-center gap-3 active:scale-[0.98] ".concat(!t.trim()||s?"bg-slate-300 dark:bg-slate-800 cursor-not-allowed shadow-none text-slate-500":"bg-blue-600 hover:bg-blue-700 shadow-blue-500/30"),children:s?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"w-5 h-5 border-3 border-white/30 border-t-white rounded-full animate-spin"}),(0,C.jsx)("span",{children:"Drafting..."})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),(0,C.jsx)("path",{d:"M21 3v5h-5"})]}),(0,C.jsx)("span",{children:"Generate Draft"})]})})]}),(0,C.jsxs)("div",{className:"flex flex-col h-full space-y-4",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,C.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-blue-500",children:"AI Suggestion"}),(0,C.jsxs)("span",{className:"flex items-center gap-1.5 text-[10px] font-bold text-slate-400",children:[(0,C.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(m()?"bg-emerald-500":"bg-red-500")}),m()?"Ready":"Invalid API Key"]})]}),(0,C.jsxs)("div",{className:"flex-1 bg-slate-50 dark:bg-slate-950 rounded-[2rem] border border-slate-200 dark:border-slate-800 shadow-inner overflow-hidden flex flex-col relative group",children:[s?(0,C.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm z-10",children:[(0,C.jsx)("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"}),(0,C.jsx)("p",{className:"text-xs font-black uppercase tracking-widest text-blue-600 animate-pulse",children:"Thinking"})]}):i?null:(0,C.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-40 select-none pointer-events-none",children:[(0,C.jsx)("div",{className:"w-16 h-16 bg-slate-200 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4 text-slate-400 dark:text-slate-600",children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,C.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),(0,C.jsx)("p",{className:"text-sm font-bold text-slate-400 dark:text-slate-600",children:"Response will appear here"})]}),(0,C.jsx)("textarea",{readOnly:!0,value:i,className:"w-full h-full p-4 bg-transparent border-none outline-none resize-none text-slate-800 dark:text-slate-100 font-medium leading-relaxed"}),i&&(0,C.jsx)("div",{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,C.jsx)("button",{onClick:function(){i&&(navigator.clipboard.writeText(i),p(!0),setTimeout(function(){return p(!1)},2e3))},className:"p-3 rounded-xl shadow-lg transition-all active:scale-95 flex items-center gap-2 font-bold text-xs uppercase tracking-wider ".concat(d?"bg-emerald-500 text-white":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400"),children:d?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:(0,C.jsx)("path",{d:"M20 6 9 17l-5-5"})}),(0,C.jsx)("span",{children:"Copied"})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),(0,C.jsx)("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]}),(0,C.jsx)("span",{children:"Copy"})]})})})]}),(0,C.jsx)("div",{className:"h-[68px] flex items-center justify-center opacity-40",children:(0,C.jsxs)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5"}),(0,C.jsx)("path",{d:"M8.5 8.5v.01"}),(0,C.jsx)("path",{d:"M16 15.5v.01"}),(0,C.jsx)("path",{d:"M12 12v.01"}),(0,C.jsx)("path",{d:"M11 17v.01"}),(0,C.jsx)("path",{d:"M7 14v.01"})]}),"Powered by Gemini Flash Lite"]})})]})]})]})};function ii(e){return ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ii(e)}function li(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof a?r:a,u=Object.create(s.prototype);return ai(u,"_invoke",function(n,r,o){var i,a,s,u=0,c=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,a=0,s=e,p.n=n,l}};function f(n,r){for(a=n,s=r,t=0;!d&&u&&!o&&t<c.length;t++){var o,i=c[t],f=p.p,h=i[2];n>3?(o=h===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(a=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,a=0))}if(o||n>1)return l;throw d=!0,r}return function(o,c,h){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&f(c,h),a=c,s=h;(t=a<2?e:s)||!d;){i||(a?a<3?(a>1&&(p.n=-1),f(a,s)):p.n=s:p.v=s);try{if(u=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==l)break}catch(t){i=e,a=1,s=t}finally{u=1}}return{value:t,done:d}}}(n,o,i),!0),u}var l={};function a(){}function s(){}function u(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(ai(t={},r,function(){return this}),t),d=u.prototype=a.prototype=Object.create(c);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,ai(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=u,ai(d,"constructor",u),ai(u,"constructor",s),s.displayName="GeneratorFunction",ai(u,o,"GeneratorFunction"),ai(d),ai(d,o,"Generator"),ai(d,r,function(){return this}),ai(d,"toString",function(){return"[object Generator]"}),(li=function(){return{w:i,m:p}})()}function ai(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ai=function(e,t,n,r){function i(t,n){ai(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},ai(e,t,n,r)}function si(e,t,n,r,o,i,l){try{var a=e[i](l),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o)}function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach(function(t){di(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function di(e,t,n){return(t=function(e){var t=function(e){if("object"!=ii(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ii(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ii(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pi(e){return function(e){if(Array.isArray(e))return mi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||hi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,t)||hi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hi(e,t){if(e){if("string"==typeof e)return mi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mi(e,t):void 0}}function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var gi=0;const yi=function(){var e=0,t=fi((0,r.useState)([{id:gi,tabName:"Cx ".concat(gi),cxName:"XYZ",msgs:[],lastAnalysis:null,status:E.OPEN,tkt:x(gi)}]),2),n=t[0],o=t[1],i=fi((0,r.useState)(gi),2),l=i[0],a=i[1],s=fi((0,r.useState)(""),2),u=s[0],c=s[1],d=fi((0,r.useState)(null),2),p=d[0],f=d[1],h=(0,r.useRef)(null),m=n.find(function(e){return e.id===l})||n[0];(0,r.useEffect)(function(){var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[null==m?void 0:m.msgs]);var g,y,v=function(e){o(function(t){return t.map(function(t){return t.id===l?ci(ci({},t),e):t})})},b=function(){if(u.trim()&&m.status!==E.CLOSED){var t={id:++e,role:"agt",content:u,timestamp:Date.now()};v({msgs:[].concat(pi(m.msgs),[t])}),c("")}},w=function(){var e,t=(e=li().m(function e(){var t,n,r;return li().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=pi(m.msgs).reverse().find(function(e){return"cx"===e.role})){e.n=1;break}return e.a(2);case 1:return f("quick"),e.p=2,e.n=3,Xo(t.content);case 3:n=e.v,v({lastAnalysis:{emotion:"neutral",keyIssue:"Requesting Status Update",response:"Lite AI quick response for immediate engagement.",context:n,confidenceScore:5}}),e.n=5;break;case 4:e.p=4,r=e.v,console.error(r);case 5:return e.p=5,f(null),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function l(e){si(i,r,o,l,a,"next",e)}function a(e){si(i,r,o,l,a,"throw",e)}l(void 0)})});return function(){return t.apply(this,arguments)}}(),S=m.status===E.CLOSED;return(0,C.jsxs)("div",{id:"assistant-root",className:"flex flex-col h-full space-y-4 animate-fadeIn",children:[(0,C.jsxs)("div",{id:"assistant-tabs-container",className:"flex items-center space-x-2 overflow-x-auto pb-2 no-scrollbar scroll-smooth",children:[n.map(function(e){return(0,C.jsxs)("button",{onClick:function(){return a(e.id)},title:"Switch to ticket: ".concat(e.cxName),className:"flex items-center space-x-3 px-5 py-3 rounded-2xl border transition-all duration-300 min-w-[160px] max-w-[220px] group relative ".concat(l===e.id?"bg-white dark:bg-slate-800 border-blue-200 dark:border-blue-700 shadow-lg shadow-blue-500/5 text-blue-600 dark:text-blue-400":"bg-slate-100 dark:bg-slate-900 border-transparent text-slate-500 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800"),children:[(0,C.jsx)("div",{title:e.status===E.OPEN?"Ticket Open":"Ticket Closed",className:"w-2 h-2 rounded-full flex-shrink-0 ".concat(e.status===E.OPEN?"bg-orange-500":"bg-green-500"," ").concat(l===e.id&&e.status===E.OPEN?"animate-pulse":"")}),(0,C.jsxs)("div",{className:"flex-1 text-left truncate",children:[(0,C.jsx)("p",{className:"text-[9px] font-black uppercase tracking-tighter opacity-60",children:e.tabName||"Customer"}),(0,C.jsx)("p",{className:"text-sm font-bold truncate leading-tight",children:e.cxName||"Inquiry"})]}),(0,C.jsx)("span",{onClick:function(t){return function(e,t){if(t.stopPropagation(),1===n.length){var r={id:gi,tabName:"Cx ".concat(gi),cxName:"---",msgs:[],lastAnalysis:null,status:E.OPEN,tkt:x(gi)};return o([r]),void a(gi)}var i=n.filter(function(t){return t.id!==e});o(i),l===e&&a(i[i.length-1].id)}(e.id,t)},title:"Close this ticket tab",className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-slate-300 dark:hover:bg-slate-700 rounded-lg transition-all flex-shrink-0",children:(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("path",{d:"M18 6 6 18"}),(0,C.jsx)("path",{d:"m6 6 12 12"})]})})]},e.id)}),(0,C.jsx)("button",{onClick:function(){var e=++gi,t={id:e,tabName:"Cx ".concat(gi),cxName:"---",msgs:[],lastAnalysis:null,status:E.OPEN,tkt:x(gi)};o([].concat(pi(n),[t])),a(e)},title:"Open a new customer ticket",className:"p-3.5 rounded-2xl bg-blue-600 text-white shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all active:scale-95 flex items-center justify-center flex-shrink-0",children:(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("path",{d:"M5 12h14"}),(0,C.jsx)("path",{d:"M12 5v14"})]})})]}),(0,C.jsxs)("div",{id:"assistant-grid-layout",className:"flex-1 grid grid-cols-1 lg:grid-cols-12 gap-6 overflow-hidden",children:[(0,C.jsxs)("div",{id:"assistant-chat-panel",className:"lg:col-span-7 flex flex-col bg-white dark:bg-slate-900 rounded-[2rem] border border-slate-200 dark:border-slate-800 shadow-xl overflow-hidden relative transition-colors",children:[(0,C.jsxs)("div",{className:"p-5 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm z-10",children:[(0,C.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,C.jsx)("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center text-white font-black text-sm shadow-md",title:"Customer Initials",children:m.tabName[0]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("input",{type:"text",title:"Click to edit customer name",value:m.tabName,onChange:function(e){return v({tabName:e.target.value})},disabled:S,className:"bg-transparent border-0 p-0 font-black text-slate-800 dark:text-slate-100 tracking-tight focus:ring-0 w-32 ".concat(S?"opacity-50 cursor-not-allowed":"")}),(0,C.jsx)("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:S?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Ticket Closed"]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("span",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full animate-pulse"}),"Live Ticket"]})})]})]}),(0,C.jsx)("div",{className:"flex gap-2",children:(0,C.jsxs)("button",{onClick:w,title:"Generate a quick, short response using a lighter AI model",disabled:!!p||0===m.msgs.length||S,className:"px-4 py-2 bg-amber-500 text-white text-[10px] font-black rounded-xl shadow-lg shadow-amber-500/20 hover:bg-amber-600 transition-all disabled:opacity-50 flex items-center gap-2 uppercase tracking-wider",children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:(0,C.jsx)("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})}),"Quick"]})})]}),(0,C.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-slate-50/30 dark:bg-slate-950/30 scroll-smooth ".concat(S?"grayscale-[50%]":""),children:[0===m.msgs.length&&(0,C.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 dark:text-slate-700 opacity-60",children:[(0,C.jsx)("div",{className:"w-20 h-20 bg-white dark:bg-slate-800 rounded-full flex items-center justify-center shadow-inner mb-4",children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,C.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),(0,C.jsx)("p",{className:"font-bold uppercase tracking-[0.2em] text-[10px]",children:"No messages yet"}),(0,C.jsx)("p",{className:"text-xs mt-2 max-w-[200px] text-center",children:"Start the conversation or paste a transcript to begin analysis."})]}),m.msgs.map(function(e){return(0,C.jsx)("div",{className:"flex ".concat("cx"===e.role?"justify-start":"justify-end"," animate-fadeInUp"),children:(0,C.jsxs)("div",{className:"max-w-[85%] p-4 rounded-3xl shadow-sm ".concat("cx"===e.role?"bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-100 rounded-tl-none border border-slate-100 dark:border-slate-700":"bg-blue-600 text-white rounded-tr-none shadow-blue-500/10"),children:[(0,C.jsx)("p",{className:"text-sm font-medium leading-relaxed",children:e.content}),(0,C.jsxs)("div",{className:"flex items-center gap-2 mt-2 opacity-50 ".concat("cx"===e.role?"text-slate-400 dark:text-slate-500":"text-blue-100"),children:[(0,C.jsx)("span",{className:"text-[9px] font-black uppercase tracking-widest",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),(0,C.jsx)("span",{className:"w-1 h-1 rounded-full bg-current"}),(0,C.jsx)("span",{className:"text-[9px] font-black uppercase tracking-widest",children:e.role})]})]})},e.id)}),S&&(0,C.jsx)("div",{className:"flex justify-center my-4 animate-fadeIn",children:(0,C.jsxs)("div",{className:"bg-slate-100 dark:bg-slate-800 px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest text-slate-400 flex items-center gap-2 border border-slate-200 dark:border-slate-700",title:"This ticket is closed",children:[(0,C.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Ticket Closed"]})}),(0,C.jsx)("div",{ref:h})]}),(0,C.jsxs)("div",{id:"assistant-input-area",className:"p-5 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800 flex gap-3 items-end transition-colors h-[128px]",children:[(0,C.jsx)("div",{className:"flex-1 relative",children:(0,C.jsx)("textarea",{title:"Type your response here",value:u,onChange:function(e){return c(e.target.value)},disabled:S,onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),b())},placeholder:S?"Ticket is closed. Reopen to send a message.":"Draft your reply...",className:"w-full h-full p-4 bg-slate-50 dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-600 outline-none transition-all resize-none font-medium text-slate-700 dark:text-slate-200 placeholder:text-slate-400 ".concat(S?"opacity-50 cursor-not-allowed":"")})}),(0,C.jsxs)("div",{className:"flex flex-col gap-2 shrink-0 w-[4.5rem]",children:[(0,C.jsx)("button",{onClick:function(){var e=m.status===E.OPEN?E.CLOSED:E.OPEN;v({status:e})},title:S?"Reopen this ticket":"Close ticket",className:"h-9 w-full rounded-xl flex flex-col items-center justify-center shadow-sm transition-all active:scale-95 font-bold text-[8px] uppercase tracking-wider border ".concat(S?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 border-emerald-100 dark:border-emerald-800 hover:bg-emerald-100 dark:hover:bg-emerald-900/40":"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 border-red-100 dark:border-red-800 hover:bg-red-100 dark:hover:bg-red-900/40"),children:S?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"mb-0.5",children:(0,C.jsx)("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3m-3-3l-3 3"})}),(0,C.jsx)("span",{children:"Reopen"})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"mb-0.5",children:(0,C.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})}),(0,C.jsx)("span",{children:"Close"})]})}),(0,C.jsx)("button",{onClick:b,title:"Send message to customer",disabled:!u.trim()||S,className:"h-14 w-full bg-blue-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all active:scale-95 ".concat(!u.trim()||S?"opacity-40 cursor-not-allowed":""),children:(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("path",{d:"m22 2-7 20-4-9-9-4Z"}),(0,C.jsx)("path",{d:"M22 2 11 13"})]})})]})]})]}),(0,C.jsx)("div",{id:"assistant-intelligence-panel",className:"lg:col-span-5 flex flex-col space-y-6 overflow-y-auto no-scrollbar pb-6",children:p?(0,C.jsxs)("div",{className:"bg-white dark:bg-slate-900 p-12 rounded-[2rem] border border-slate-200 dark:border-slate-800 shadow-xl flex flex-col items-center justify-center text-center transition-colors",children:[(0,C.jsx)("div",{className:"w-14 h-14 border-4 ".concat("quick"===p?"border-amber-500":"border-blue-600"," border-t-transparent rounded-full animate-spin mb-6")}),(0,C.jsx)("h3",{className:"text-lg font-black text-slate-800 dark:text-white uppercase tracking-tight",children:"AI Orchestrator"}),(0,C.jsxs)("p",{className:"text-slate-400 text-xs mt-2 font-medium",children:["Analyzing dialogue patterns and policy alignment for ",m.tabName,"..."]})]}):m.lastAnalysis?(0,C.jsxs)("div",{className:"space-y-6 animate-fadeInRight",children:[(0,C.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,C.jsxs)("div",{title:"Cx Emotion:",className:"p-5 rounded-3xl border ".concat((g=m.lastAnalysis.emotion,y=(g||"").toLowerCase(),y.includes("frust")||y.includes("angr")||y.includes("neg")?"text-rose-600 bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-900/50":y.includes("happ")||y.includes("pos")||y.includes("thank")?"text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-900/50":"text-blue-600 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-900/50")," shadow-sm"),children:[(0,C.jsx)("p",{className:"text-[9px] font-black uppercase tracking-widest opacity-60 mb-1",children:"Sentiment"}),(0,C.jsx)("p",{className:"text-base font-black truncate",children:m.lastAnalysis.emotion})]})}),(0,C.jsxs)("div",{className:"bg-slate-900 dark:bg-slate-950 p-8 rounded-[2rem] shadow-2xl relative overflow-hidden group ".concat(S?"opacity-75 grayscale":""),children:[(0,C.jsx)("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-all -rotate-12 translate-x-4 -translate-y-4",children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-400",children:(0,C.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),(0,C.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,C.jsx)("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-blue-400",children:"AI Drafted Response"}),(0,C.jsxs)("div",{className:"flex gap-1.5",children:[(0,C.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),(0,C.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400/30}"})]})]}),(0,C.jsxs)("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/10 text-white font-medium leading-relaxed text-sm mb-6 backdrop-blur-md shadow-inner",children:['"',m.lastAnalysis.response,'"']}),(0,C.jsxs)("button",{onClick:function(){var e;null!==(e=m.lastAnalysis)&&void 0!==e&&e.response&&m.status===E.OPEN&&c(m.lastAnalysis.response)},title:"Copy this AI-generated draft to the input box",disabled:S,className:"w-full py-4 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all active:scale-95 shadow-xl bg-blue-600 hover:bg-blue-700 shadow-blue-500/30 text-white flex items-center justify-center gap-2 ".concat(S?"opacity-50 cursor-not-allowed":""),children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:(0,C.jsx)("path",{d:"M20 6 9 17l-5-5"})}),"Apply To Composer"]})]})]}):(0,C.jsxs)("div",{className:"bg-white dark:bg-slate-900 p-12 rounded-[2rem] border-2 border-dashed border-slate-200 dark:border-slate-800 flex flex-col items-center justify-center text-center group hover:border-blue-200 dark:hover:border-blue-800 transition-colors",children:[(0,C.jsx)("div",{className:"w-20 h-20 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center text-slate-200 dark:text-slate-700 mb-6 group-hover:text-blue-200 dark:group-hover:text-blue-900 transition-colors",children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,C.jsx)("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L12 3Z"})})}),(0,C.jsx)("h3",{className:"font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest text-[11px]",children:"Auto-Analysis Paused"}),(0,C.jsxs)("p",{className:"text-[11px] mt-2 max-w-[180px] text-slate-400 dark:text-slate-500 font-medium",children:["Automatic deep analysis is disabled. Use ",(0,C.jsx)("b",{children:"Quick Draft"})," for immediate responses."]})]})})]})]})};function vi(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof a?r:a,u=Object.create(s.prototype);return bi(u,"_invoke",function(n,r,o){var i,a,s,u=0,c=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,a=0,s=e,p.n=n,l}};function f(n,r){for(a=n,s=r,t=0;!d&&u&&!o&&t<c.length;t++){var o,i=c[t],f=p.p,h=i[2];n>3?(o=h===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(a=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,a=0))}if(o||n>1)return l;throw d=!0,r}return function(o,c,h){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&f(c,h),a=c,s=h;(t=a<2?e:s)||!d;){i||(a?a<3?(a>1&&(p.n=-1),f(a,s)):p.n=s:p.v=s);try{if(u=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==l)break}catch(t){i=e,a=1,s=t}finally{u=1}}return{value:t,done:d}}}(n,o,i),!0),u}var l={};function a(){}function s(){}function u(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(bi(t={},r,function(){return this}),t),d=u.prototype=a.prototype=Object.create(c);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,bi(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=u,bi(d,"constructor",u),bi(u,"constructor",s),s.displayName="GeneratorFunction",bi(u,o,"GeneratorFunction"),bi(d),bi(d,o,"Generator"),bi(d,r,function(){return this}),bi(d,"toString",function(){return"[object Generator]"}),(vi=function(){return{w:i,m:p}})()}function bi(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}bi=function(e,t,n,r){function i(t,n){bi(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},bi(e,t,n,r)}function wi(e,t,n,r,o,i,l){try{var a=e[i](l),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o)}function Si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ei(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ei(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const xi=function(e){var t=e.onConfigChange,n=e.currentConfig,o=e.theme,i=e.onThemeChange,l=w(),a=Si((0,r.useState)(n.tier),2),s=a[0],u=a[1],c=Si((0,r.useState)(!1),2),d=c[0],p=c[1],f=Si((0,r.useState)("idle"),2),m=f[0],g=f[1];(0,r.useEffect)(function(){p(s!==n.tier)},[s,n]);var y=function(){var e,t=(e=vi().m(function e(){var t;return vi().w(function(e){for(;;)switch(e.n){case 0:if(null===(t=window.aistudio)||void 0===t||!t.openSelectKey){e.n=2;break}return e.n=1,window.aistudio.openSelectKey();case 1:e.n=3;break;case 2:alert("API Key management is handled by the platform environment.");case 3:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function l(e){wi(i,r,o,l,a,"next",e)}function a(e){wi(i,r,o,l,a,"throw",e)}l(void 0)})});return function(){return t.apply(this,arguments)}}();return(0,C.jsxs)("div",{id:"settings-root",className:"max-w-3xl mx-auto space-y-8 animate-fadeIn pb-10",children:[(0,C.jsxs)("div",{id:"settings-main-card",className:"bg-white dark:bg-slate-900 p-10 rounded-[2.5rem] border border-slate-200 dark:border-slate-800 shadow-xl transition-colors duration-300",children:[(0,C.jsx)("h2",{className:"text-3xl font-black text-slate-800 dark:text-white mb-2",children:"System Settings"}),(0,C.jsx)("p",{className:"text-slate-500 dark:text-slate-400 mb-10 font-medium",children:"Configure your agent profile and managed services."}),(0,C.jsxs)("div",{className:"space-y-8",children:[(0,C.jsxs)("div",{className:"space-y-4",children:[(0,C.jsx)("h4",{className:"text-sm font-black text-slate-800 dark:text-white uppercase tracking-tight",children:"Appearance"}),(0,C.jsxs)("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-2xl w-fit",children:[(0,C.jsx)("button",{onClick:function(){return i("l")},title:"Use light color theme",className:"px-6 py-2.5 rounded-xl text-sm font-bold transition-all ".concat("l"===o?"bg-white shadow text-slate-800":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"),children:"Light Mode"}),(0,C.jsx)("button",{onClick:function(){return i("d")},title:"Use dark color theme",className:"px-6 py-2.5 rounded-xl text-sm font-bold transition-all ".concat("d"===o?"bg-slate-700 shadow text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"),children:"Dark Mode"})]})]}),(0,C.jsx)("div",{className:"h-px bg-slate-100 dark:bg-slate-800"}),(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 ml-1",children:"Agent Name"}),(0,C.jsx)("input",{type:"text",title:"Enter your display name",value:l.agtName,onChange:function(e){return h({agtName:e.target.value})},className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all font-bold text-slate-700 dark:text-slate-200"})]}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 ml-1",children:"Service Tier"}),(0,C.jsxs)("select",{title:"Select your agent tier level",value:s,onChange:function(e){return u(e.target.value)},className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all font-bold text-slate-700 dark:text-slate-200 appearance-none",children:[(0,C.jsx)("option",{value:"Tier 1 Agent",children:"Tier 1 Agent"}),(0,C.jsx)("option",{value:"Tier 2 Specialist",children:"Tier 2 Specialist"}),(0,C.jsx)("option",{value:"Tier 3 Senior",children:"Tier 3 Senior"}),(0,C.jsx)("option",{value:"Admin Support",children:"Admin Support"})]})]})]}),(0,C.jsxs)("div",{className:"space-y-4 pt-4 border-t border-slate-100 dark:border-slate-800",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between",children:[(0,C.jsx)("div",{children:(0,C.jsx)("h4",{className:"text-sm font-black text-slate-800 dark:text-white uppercase tracking-tight",children:"Gemini API Connection"})}),(0,C.jsx)("button",{onClick:y,title:"Select a Google Cloud project to bill API usage to",className:"px-4 py-2 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-[10px] font-black uppercase tracking-widest rounded-xl hover:bg-blue-600 hover:text-white transition-all active:scale-95",children:"Change API Key"})]}),(0,C.jsx)("div",{className:"relative",children:(0,C.jsx)("input",{type:"password",title:"Enter or paste your API Key",value:l.apiKey,maxLength:40,onChange:function(e){return h({apiKey:e.target.value})},placeholder:"Paste your Gemini API Key here...",className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-800 rounded-2xl text-slate-600 dark:text-slate-300 font-mono text-sm focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all"})}),(0,C.jsx)("p",{className:"text-[10px] text-slate-400 text-center italic",children:"Use the button above to link a Google Cloud project, or paste a specific key manually."})]}),(0,C.jsx)("div",{className:"pt-6",children:(0,C.jsx)("button",{onClick:function(){g("saving"),setTimeout(function(){t({tier:s}),g("saved"),setTimeout(function(){return g("idle")},2e3)},600)},title:"Save your profile settings",disabled:!d||"idle"!==m,className:"w-full py-5 rounded-2xl font-black uppercase tracking-widest transition-all duration-300 flex items-center justify-center space-x-3 shadow-xl active:scale-[0.98] ".concat(d?"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-500/25":"bg-slate-100 dark:bg-slate-800 text-slate-400 dark:text-slate-600 cursor-not-allowed shadow-none"),children:"saving"===m?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),(0,C.jsx)("span",{children:"Saving..."})]}):"saved"===m?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:(0,C.jsx)("path",{d:"M20 6 9 17l-5-5"})}),(0,C.jsx)("span",{children:"Changes Saved"})]}):(0,C.jsx)("span",{children:"Update Profile"})})})]})]}),(0,C.jsxs)("div",{id:"settings-billing-card",className:"bg-blue-50/50 dark:bg-blue-900/10 p-6 rounded-3xl border border-blue-100 dark:border-blue-900/50 flex items-center space-x-4",children:[(0,C.jsx)("div",{className:"w-12 h-12 bg-white dark:bg-blue-900/20 rounded-2xl flex items-center justify-center text-blue-600 dark:text-blue-400 shadow-sm",children:(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,C.jsx)("path",{d:"M12 16v-4"}),(0,C.jsx)("path",{d:"M12 8h.01"})]})}),(0,C.jsxs)("div",{children:[(0,C.jsx)("h5",{className:"text-sm font-black text-blue-900 dark:text-blue-300",children:"Billing Information"}),(0,C.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-400 opacity-80",children:["You are currently using a paid API tier. Access detailed usage reports in the ",(0,C.jsx)("a",{href:"https://ai.google.dev/gemini-api/docs/billing",target:"_blank",className:"underline font-bold",title:"Open Google AI Studio Console",children:"Google AI Studio Console"}),"."]})]})]})]})};function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ci(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ci(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Ti=function(){var e,t=_i((0,r.useState)(_.DASHBOARD),2),n=t[0],o=t[1],i=_i((0,r.useState)({tier:"Tier 1 Agent"}),2),l=i[0],a=i[1],s=_i((0,r.useState)(f.theme),2),u=s[0],c=s[1],d=_i((0,r.useState)(!0),2),p=d[0],m=d[1];(0,r.useEffect)(function(){"d"===u?(h({theme:"d"}),document.documentElement.classList.add("dark")):(h({theme:"l"}),document.documentElement.classList.remove("dark"))},[u]);var g=[{id:_.DASHBOARD,label:"Dashboard",icon:(0,C.jsx)(k,{}),title:"View stats, performance metrics and analytics"},{id:_.CHAT_TEMPLATES,label:"Templates",icon:(0,C.jsx)(A,{}),title:"Manage saved response templates"},{id:_.QUICK_RESP,label:"Quick Response",icon:(0,C.jsx)(I,{}),title:"Generate quick responses to customer's queries"},{id:_.SETTINGS,label:"Settings",icon:(0,C.jsx)(O,{}),title:"Configure agent profile and system settings"}];return(0,C.jsxs)("div",{id:"app-root",className:"flex h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden text-slate-900 dark:text-slate-100 transition-colors duration-300",children:[(0,C.jsxs)("aside",{id:"app-sidebar",className:"relative z-40 h-full bg-slate-900 dark:bg-slate-950 text-white flex flex-col shadow-2xl border-r border-slate-800 transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] ".concat(p?"w-50":"w-12"),children:[(0,C.jsxs)("div",{className:"flex items-center justify-center",children:[(0,C.jsxs)("button",{onClick:function(){return m(!1)},className:"flex items-center justify-center p-2 w-full h-full transition-all duration-300 text-slate-400 hover:text-white hover:bg-slate-800 hover:scale-110 transition-colors ".concat(p?"w-full opacity-100":"w-0 opacity-0 hidden"),title:"Collapse Sidebar",children:[(0,C.jsxs)("div",{className:"flex items-center justify-center gap-2 m-2 my-6",children:[T(),(0,C.jsx)("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent whitespace-nowrap",title:"xAgent Command Center",children:"xAgent"})]}),(0,C.jsx)("div",{className:"items-center justify-right ml-auto mr-0 w-16 min-width-16",children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,C.jsx)("path",{d:"m15 18-6-6 6-6"})})})]}),!p&&(0,C.jsx)("button",{onClick:function(){return m(!0)},className:"px-6 py-6 text-blue-400 transition-colors transform duration-200",title:"Expand Sidebar",children:T()})]}),(0,C.jsx)("div",{className:"px-6 mt-2 mb-4 overflow-hidden transition-all duration-300 ".concat(p?"h-auto opacity-100":"h-0 opacity-0"),children:(0,C.jsx)("p",{className:"text-xs text-slate-400 uppercase tracking-widest font-semibold whitespace-nowrap",children:"Command Center"})}),(0,C.jsx)("nav",{className:"flex-1 space-y-1 overflow-x-hidden overflow-y-auto custom-scrollbar",children:g.map(function(e){return(0,C.jsxs)("button",{onClick:function(){return o(e.id)},title:p?e.title:e.label,className:"w-full flex items-center p-3 rounded-xl hover:scale-110 transition-all duration-200 group relative ".concat(n===e.id?"bg-blue-600 text-white shadow-lg shadow-blue-900/40":"text-slate-400 hover:bg-slate-800 hover:text-white"," ").concat(p?"space-x-3":"justify-center"),children:[(0,C.jsx)("span",{className:"flex-shrink-0 transition-colors ".concat(n===e.id?"text-white":"text-slate-500 group-hover:text-blue-400"),children:e.icon}),(0,C.jsx)("span",{className:"font-semibold whitespace-nowrap transition-all duration-300 ".concat(p?"opacity-100 w-auto":"opacity-0 w-0 hidden"),children:e.label}),!p&&(0,C.jsxs)("div",{className:"absolute left-full ml-4 px-3 py-2 bg-slate-800 text-white text-xs font-bold rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 shadow-xl border border-slate-700 transition-opacity translate-x-2",children:[e.label,(0,C.jsx)("div",{className:"absolute top-1/2 -left-1 -mt-1 border-4 border-transparent border-r-slate-800"})]})]},e.id)})}),(0,C.jsxs)("div",{className:"p-1 border-t border-slate-800",children:[(0,C.jsxs)("div",{className:"flex items-center bg-slate-800 rounded-xl p-1 mb-4 border border-slate-700 transition-all duration-500 ".concat(p?"":"flex-col bg-transparent border-none p-0"),children:[(0,C.jsx)("button",{onClick:function(){return c("l")},title:"Switch to Light Mode",className:"flex-1 flex items-center justify-center p-2 rounded-lg transition-all duration-200 ".concat("l"===u?"bg-blue-600 text-white shadow-md":"text-slate-400 hover:text-white hover:bg-slate-700"," ").concat(p?"":"w-full"),children:(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,C.jsx)("path",{d:"M12 1v2"}),(0,C.jsx)("path",{d:"M12 21v2"}),(0,C.jsx)("path",{d:"M4.22 4.22l1.42 1.42"}),(0,C.jsx)("path",{d:"M18.36 18.36l1.42 1.42"}),(0,C.jsx)("path",{d:"M1 12h2"}),(0,C.jsx)("path",{d:"M21 12h2"}),(0,C.jsx)("path",{d:"M4.22 19.78l1.42-1.42"}),(0,C.jsx)("path",{d:"M18.36 5.64l1.42-1.42"})]})}),(0,C.jsx)("button",{onClick:function(){return c("d")},title:"Switch to Dark Mode",className:"flex-1 flex items-center justify-center p-2 rounded-lg transition-all duration-200 ".concat("d"===u?"bg-blue-600 text-white shadow-md":"text-slate-400 hover:text-white hover:bg-slate-700"," ").concat(p?"":"w-full"),children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,C.jsx)("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})})})]}),(0,C.jsxs)("div",{className:"flex items-center p-3 bg-slate-800/50 rounded-2xl transition-all duration-300 ".concat(p?"space-x-3":"justify-center p-0 bg-transparent"),title:"Current Agent Profile",children:[(0,C.jsx)("div",{className:"rounded-xl bg-gradient-to-tr from-indigo-500 to-blue-500 flex items-center justify-center font-bold text-sm shadow-inner uppercase flex-shrink-0 ".concat(p?"w-9 h-9":"w-10 h-10"),children:f.agtName.substring(0,2)}),(0,C.jsxs)("div",{className:"flex-1 min-w-0 transition-all duration-500 ".concat(p?"w-auto opacity-100":"w-0 opacity-0 hidden"),children:[(0,C.jsx)("p",{className:"text-sm font-bold truncate",children:f.agtName}),(0,C.jsx)("p",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-tighter truncate",children:l.tier})]})]}),(0,C.jsxs)("div",{className:"flex-1 min-w-0 justify-center transition-all duration-500 ".concat(p?"":"hidden"),children:[(0,C.jsxs)("p",{className:"text-[10px] text-blue-400 font-bold text-center tracking-tighter wrap",children:["v","1.2.6"]}),(0,C.jsx)("p",{className:"text-[10px] text-blue-400 font-bold text-center tracking-tighter wrap",children:"2026 Yuri A. Wolf. All Right Reserved."})]})]})]}),(0,C.jsxs)("main",{id:"app-main",className:"flex-1 flex flex-col overflow-hidden relative",children:[(0,C.jsx)("header",{id:"app-header",className:"p-2 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 flex items-center justify-between sticky top-0 z-20 transition-colors duration-300",children:(0,C.jsx)("div",{className:"flex items-center pl-6",children:(0,C.jsx)("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:null===(e=g.find(function(e){return e.id===n}))||void 0===e?void 0:e.label})})}),(0,C.jsx)("section",{id:"app-content-area",className:"flex-1 overflow-y-auto p-1 bg-slate-50/50 dark:bg-slate-950",children:(0,C.jsxs)("div",{className:"w-full h-full",children:[n===_.DASHBOARD&&(0,C.jsx)(N,{}),n===_.CHAT_TEMPLATES&&(0,C.jsx)(B,{}),n===_.QUICK_RESP&&(0,C.jsx)(oi,{}),n===_.ASSISTANT&&(0,C.jsx)(yi,{}),n===_.SETTINGS&&(0,C.jsx)(xi,{currentConfig:l,onConfigChange:a,theme:u,onThemeChange:c})]})})]})]})};var ki=document.getElementById("root");if(!ki)throw new Error("Could not find root element to mount to!");o.createRoot(ki).render((0,C.jsx)(r.StrictMode,{children:(0,C.jsx)(Ti,{})}))})();