/*! For license information please see main.ece8b2f5f4f73771231a.js.LICENSE.txt */
(()=>{"use strict";var e={221(e,t,n){var r=n(540);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal"),s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=s.T,n=l.p;try{if(s.T=null,l.p=2,e)return e()}finally{s.T=t,l.p=n,l.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=u(n,t.crossOrigin),o="string"==typeof t.integrity?t.integrity:void 0,i="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?l.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&l.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=u(n,t.crossOrigin);l.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=u(t.as,t.crossOrigin);l.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},t.useFormStatus=function(){return s.H.useHostTransitionStatus()},t.version="19.2.3"},247(e,t,n){var r=n(982),o=n(540),i=n(961);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function d(e){if(s(e)!==e)throw Error(l(188))}function p(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=p(e)))return t;e=e.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope");var k=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var x=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case _:return"Suspense";case T:return"SuspenseList";case k:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case g:return"Portal";case S:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return P(e(t))}catch(e){}}return null}var R=Array.isArray,D=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},j=[],U=-1;function q(e){return{current:e}}function F(e){0>U||(e.current=j[U],j[U]=null,U--)}function H(e,t){U++,j[U]=e.current,e.current=t}var G,z,V=q(null),B=q(null),$=q(null),W=q(null);function J(e,t){switch(H($,t),H(B,e),H(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(V),H(V,e)}function K(){F(V),F(B),F($)}function Y(e){null!==e.memoizedState&&H(W,e);var t=V.current,n=vd(t,e.type);t!==n&&(H(B,e),H(V,n))}function Q(e){B.current===e&&(F(V),F(B)),W.current===e&&(F(W),cp._currentValue=L)}function X(e){if(void 0===G)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);G=t&&t[1]||"",z=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+G+e+z}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),l=i[0],a=i[1];if(l&&a){var s=l.split("\n"),u=a.split("\n");for(o=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;if(r===s.length||o===u.length)for(r=s.length-1,o=u.length-1;1<=r&&0<=o&&s[r]!==u[o];)o--;for(;1<=r&&0<=o;r--,o--)if(s[r]!==u[o]){if(1!==r||1!==o)do{if(r--,0>--o||s[r]!==u[o]){var c="\n"+s[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=o);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,le=r.unstable_shouldYield,ae=r.unstable_requestPaint,se=r.unstable_now,ue=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,pe=r.unstable_NormalPriority,fe=r.unstable_LowPriority,he=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"==typeof me&&ge(e),ve&&"function"==typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(e){}}var we=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(Se(e)/Ee|0)|0},Se=Math.log,Ee=Math.LN2,_e=256,Te=262144,Ce=4194304;function Ie(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~i)?o=Ie(r):0!==(l&=a)?o=Ie(l):n||0!==(n=a&~e)&&(o=Ie(n)):0!==(a=r&~i)?o=Ie(a):0!==l?o=Ie(l):n||0!==(n=r&~e)&&(o=Ie(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&4194048&n)?t:o}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Oe(){var e=Ce;return!(62914560&(Ce<<=1))&&(Ce=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Me(e,t){var n=t&-t;return 0!==((n=42&n?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function je(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ue(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:Ip(e.type)}function qe(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}var Fe=Math.random().toString(36).slice(2),He="__reactFiber$"+Fe,Ge="__reactProps$"+Fe,ze="__reactContainer$"+Fe,Ve="__reactEvents$"+Fe,Be="__reactListeners$"+Fe,$e="__reactHandles$"+Fe,We="__reactResources$"+Fe,Je="__reactMarker$"+Fe;function Ke(e){delete e[He],delete e[Ge],delete e[Ve],delete e[Be],delete e[$e]}function Ye(e){var t=e[He];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ze]||n[He]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ld(e);null!==e;){if(n=e[He])return n;e=Ld(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[He]||e[ze]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Ze(e){var t=e[We];return t||(t=e[We]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Je]=!0}var tt=new Set,nt={};function rt(e,t){ot(e,t),ot(e+"Capture",t)}function ot(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},at={};function st(e,t,n){if(o=t,re.call(at,o)||!re.call(lt,o)&&(it.test(o)?at[o]=!0:(lt[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function ut(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,o,i,l,a){e.name="",null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?wt(e,l,dt(t)):null!=n?wt(e,l,dt(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!=typeof o&&"symbol"!=typeof o),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+dt(a):e.removeAttribute("name")}function bt(e,t,n,r,o,i,l,a){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:o)&&"symbol"!=typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l&&(e.name=l),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Et(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(l(92));if(R(r)){if(1<r.length)throw Error(l(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Tt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(l(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&It(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&It(e,i,t[i])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ot=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Ot.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var Rt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Lt=null;function jt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[Ge]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Ge]||null;if(!o)throw Error(l(90));vt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":Et(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var Ut=!1;function qt(e,t,n){if(Ut)return e(t,n);Ut=!0;try{return e(t)}finally{if(Ut=!1,(null!==Mt||null!==Lt)&&(Zu(),Mt&&(t=Mt,e=Lt,Lt=Mt=null,jt(t),e)))for(t=0;t<e.length;t++)jt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ge]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(l(231,t,typeof n));return n}var Ht=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Gt=!1;if(Ht)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Gt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(e){Gt=!1}var Vt=null,Bt=null,$t=null;function Wt(){if($t)return $t;var e,t,n=Bt,r=n.length,o="value"in Vt?Vt.value:Vt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===o[i-t];t++);return $t=o.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Yt(){return!1}function Qt(e){function t(t,n,r,o,i){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Kt:Yt,this.isPropagationStopped=Yt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Qt(tn),rn=f({},tn,{view:0,detail:0}),on=Qt(rn),ln=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),an=Qt(ln),sn=Qt(f({},ln,{dataTransfer:0})),un=Qt(f({},rn,{relatedTarget:0})),cn=Qt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Qt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Qt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var vn=Qt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Qt(f({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Qt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),Sn=Qt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=Qt(f({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Qt(f({},tn,{newState:0,oldState:0})),Tn=[9,13,27,32],Cn=Ht&&"CompositionEvent"in window,In=null;Ht&&"documentMode"in document&&(In=document.documentMode);var kn=Ht&&"TextEvent"in window&&!In,An=Ht&&(!Cn||In&&8<In&&11>=In),xn=String.fromCharCode(32),On=!1;function Nn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1,Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function Ln(e,t,n,r){Mt?Lt?Lt.push(r):Lt=[r]:Mt=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jn=null,Un=null;function qn(e){Kc(e,0)}function Fn(e){if(ht(Xe(e)))return e}function Hn(e,t){if("change"===e)return t}var Gn=!1;if(Ht){var zn;if(Ht){var Vn="oninput"in document;if(!Vn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Vn="function"==typeof Bn.oninput}zn=Vn}else zn=!1;Gn=zn&&(!document.documentMode||9<document.documentMode)}function $n(){jn&&(jn.detachEvent("onpropertychange",Wn),Un=jn=null)}function Wn(e){if("value"===e.propertyName&&Fn(Un)){var t=[];Ln(t,Un,e,Dt(e)),qt(qn,t)}}function Jn(e,t,n){"focusin"===e?($n(),Un=n,(jn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&$n()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Un)}function Yn(e,t){if("click"===e)return Fn(t)}function Qn(e,t){if("input"===e||"change"===e)return Fn(t)}var Xn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Xn(e[o],t[o]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Ht&&"documentMode"in document&&11>=document.documentMode,lr=null,ar=null,sr=null,ur=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==lr||lr!==mt(r)||(r="selectionStart"in(r=lr)&&or(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Zn(sr,r)||(sr=r,0<(r=rd(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},hr={};function mr(e){if(fr[e])return fr[e];if(!pr[e])return e;var t,n=pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return fr[e]=n[t];return e}Ht&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var gr=mr("animationend"),yr=mr("animationiteration"),vr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),Sr=mr("transitioncancel"),Er=mr("transitionend"),_r=new Map,Tr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){_r.set(e,t),rt(t,[e])}Tr.push("scrollEnd");var Ir="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},kr=[],Ar=0,xr=0;function Or(){for(var e=Ar,t=xr=Ar=0;t<e;){var n=kr[t];kr[t++]=null;var r=kr[t];kr[t++]=null;var o=kr[t];kr[t++]=null;var i=kr[t];if(kr[t++]=null,null!==r&&null!==o){var l=r.pending;null===l?o.next=o:(o.next=l.next,l.next=o),r.pending=o}0!==i&&Dr(n,o,i)}}function Nr(e,t,n,r){kr[Ar++]=e,kr[Ar++]=t,kr[Ar++]=n,kr[Ar++]=r,xr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Nr(e,t,n,r),Mr(e)}function Rr(e,t){return Nr(e,null,null,t),Mr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-we(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Mr(e){if(50<Vu)throw Vu=0,Bu=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={};function jr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,n,r){return new jr(e,t,n,r)}function qr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Ur(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gr(e,t,n,r,o,i){var a=0;if(r=e,"function"==typeof e)qr(e)&&(a=1);else if("string"==typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Ur(31,n,t,o)).elementType=k,e.lanes=i,e;case y:return zr(n.children,o,i,t);case v:a=8,o|=24;break;case b:return(e=Ur(12,n,t,2|o)).elementType=b,e.lanes=i,e;case _:return(e=Ur(13,n,t,o)).elementType=_,e.lanes=i,e;case T:return(e=Ur(19,n,t,o)).elementType=T,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case w:a=9;break e;case E:a=11;break e;case C:a=14;break e;case I:a=16,r=null;break e}a=29,n=Error(l(130,null===e?"null":typeof e,"")),r=null}return(t=Ur(a,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function zr(e,t,n,r){return(e=Ur(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Ur(6,e,null,t)).lanes=n,e}function Br(e){var t=Ur(18,null,null,0);return t.stateNode=e,t}function $r(e,t,n){return(t=Ur(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=new WeakMap;function Jr(e,t){if("object"==typeof e&&null!==e){var n=Wr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Wr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Kr=[],Yr=0,Qr=null,Xr=0,Zr=[],eo=0,to=null,no=1,ro="";function oo(e,t){Kr[Yr++]=Xr,Kr[Yr++]=Qr,Qr=e,Xr=t}function io(e,t,n){Zr[eo++]=no,Zr[eo++]=ro,Zr[eo++]=to,to=e;var r=no;e=ro;var o=32-we(r)-1;r&=~(1<<o),n+=1;var i=32-we(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,no=1<<32-we(t)+o|n<<o|r,ro=i+e}else no=1<<i|n<<o|r,ro=e}function lo(e){null!==e.return&&(oo(e,1),io(e,1,0))}function ao(e){for(;e===Qr;)Qr=Kr[--Yr],Kr[Yr]=null,Xr=Kr[--Yr],Kr[Yr]=null;for(;e===to;)to=Zr[--eo],Zr[eo]=null,ro=Zr[--eo],Zr[eo]=null,no=Zr[--eo],Zr[eo]=null}function so(e,t){Zr[eo++]=no,Zr[eo++]=ro,Zr[eo++]=to,no=t.id,ro=t.overflow,to=e}var uo=null,co=null,po=!1,fo=null,ho=!1,mo=Error(l(519));function go(e){throw Eo(Jr(Error(l(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mo}function yo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[He]=e,t[Ge]=r,n){case"dialog":Yc("cancel",t),Yc("close",t);break;case"iframe":case"object":case"embed":Yc("load",t);break;case"video":case"audio":for(n=0;n<Wc.length;n++)Yc(Wc[n],t);break;case"source":Yc("error",t);break;case"img":case"image":case"link":Yc("error",t),Yc("load",t);break;case"details":Yc("toggle",t);break;case"input":Yc("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Yc("invalid",t);break;case"textarea":Yc("invalid",t),_t(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Yc("beforetoggle",t),Yc("toggle",t)),null!=r.onScroll&&Yc("scroll",t),null!=r.onScrollEnd&&Yc("scrollend",t),null!=r.onClick&&(t.onclick=Pt),t=!0):t=!1,t||go(e,!0)}function vo(e){for(uo=e.return;uo;)switch(uo.tag){case 5:case 31:case 13:return void(ho=!1);case 27:case 3:return void(ho=!0);default:uo=uo.return}}function bo(e){if(e!==uo)return!1;if(!po)return vo(e),po=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&co&&go(e),vo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));co=Md(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));co=Md(e)}else 27===n?(n=co,Id(e.type)?(e=Dd,Dd=null,co=e):co=n):co=uo?Rd(e.stateNode.nextSibling):null;return!0}function wo(){co=uo=null,po=!1}function So(){var e=fo;return null!==e&&(null===Ou?Ou=e:Ou.push.apply(Ou,e),fo=null),e}function Eo(e){null===fo?fo=[e]:fo.push(e)}var _o=q(null),To=null,Co=null;function Io(e,t,n){H(_o,t._currentValue),t._currentValue=n}function ko(e){e._currentValue=_o.current,F(_o)}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xo(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var a=o.child;i=i.firstContext;e:for(;null!==i;){var s=i;i=o;for(var u=0;u<t.length;u++)if(s.context===t[u]){i.lanes|=n,null!==(s=i.alternate)&&(s.lanes|=n),Ao(i.return,n,e),r||(a=null);break e}i=s.next}}else if(18===o.tag){if(null===(a=o.return))throw Error(l(341));a.lanes|=n,null!==(i=a.alternate)&&(i.lanes|=n),Ao(a,n,e),a=null}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}}function Oo(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(524288&o.flags)i=!0;else if(262144&o.flags)break;if(10===o.tag){var a=o.alternate;if(null===a)throw Error(l(387));if(null!==(a=a.memoizedProps)){var s=o.type;Xn(o.pendingProps.value,a.value)||(null!==e?e.push(s):e=[s])}}else if(o===W.current){if(null===(a=o.alternate))throw Error(l(387));a.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(cp):e=[cp])}o=o.return}null!==e&&xo(t,e,n,r),t.flags|=262144}function No(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Po(e){To=e,Co=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ro(e){return Mo(To,e)}function Do(e,t){return null===To&&Po(e),Mo(e,t)}function Mo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Co){if(null===e)throw Error(l(308));Co=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Co=Co.next=t;return n}var Lo="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},jo=r.unstable_scheduleCallback,Uo=r.unstable_NormalPriority,qo={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fo(){return{controller:new Lo,data:new Map,refCount:0}}function Ho(e){e.refCount--,0===e.refCount&&jo(Uo,function(){e.controller.abort()})}var Go=null,zo=0,Vo=0,Bo=null;function $o(){if(0===--zo&&null!==Go){null!==Bo&&(Bo.status="fulfilled");var e=Go;Go=null,Vo=0,Bo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wo=D.S;D.S=function(e,t){Ru=se(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Go){var n=Go=[];zo=0,Vo=Gc(),Bo={status:"pending",value:void 0,then:function(e){n.push(e)}}}zo++,t.then($o,$o)}(0,t),null!==Wo&&Wo(e,t)};var Jo=q(null);function Ko(){var e=Jo.current;return null!==e?e:hu.pooledCache}function Yo(e,t){H(Jo,null===t?Jo.current:t.pool)}function Qo(){var e=Ko();return null===e?null:{parent:qo._currentValue,pool:e}}var Xo=Error(l(460)),Zo=Error(l(474)),ei=Error(l(542)),ti={then:function(){}};function ni(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ri(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Pt,Pt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ai(e=t.reason),e;default:if("string"==typeof t.status)t.then(Pt,Pt);else{if(null!==(e=hu)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ai(e=t.reason),e}throw ii=t,Xo}}function oi(e){try{return(0,e._init)(e._payload)}catch(e){if(null!==e&&"object"==typeof e&&"function"==typeof e.then)throw ii=e,Xo;throw e}}var ii=null;function li(){if(null===ii)throw Error(l(459));var e=ii;return ii=null,e}function ai(e){if(e===Xo||e===ei)throw Error(l(483))}var si=null,ui=0;function ci(e){var t=ui;return ui+=1,null===si&&(si=[]),ri(si,e,t)}function di(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function pi(e,t){if(t.$$typeof===h)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===I&&oi(i)===t.type)?(di(t=o(t,n.props),n),t.return=e,t):(di(t=Gr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=zr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case m:return di(n=Gr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=$r(t,e.mode,n)).return=e,t;case I:return p(e,t=oi(t),n)}if(R(t)||O(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,ci(t),n);if(t.$$typeof===S)return p(e,Do(e,t),n);pi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===o?u(e,t,n,r):null;case g:return n.key===o?c(e,t,n,r):null;case I:return f(e,t,n=oi(n),r)}if(R(n)||O(n))return null!==o?null:d(e,t,n,r,null);if("function"==typeof n.then)return f(e,t,ci(n),r);if(n.$$typeof===S)return f(e,t,Do(e,n),r);pi(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case I:return h(e,t,n,r=oi(r),o)}if(R(r)||O(r))return d(t,e=e.get(n)||null,r,o,null);if("function"==typeof r.then)return h(e,t,n,ci(r),o);if(r.$$typeof===S)return h(e,t,n,Do(t,r),o);pi(t,r)}return null}function v(s,u,c,d){if("object"==typeof c&&null!==c&&c.type===y&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case m:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===y){if(7===u.tag){n(s,u.sibling),(d=o(u,c.props.children)).return=s,s=d;break e}}else if(u.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===I&&oi(b)===u.type){n(s,u.sibling),di(d=o(u,c.props),c),d.return=s,s=d;break e}n(s,u);break}t(s,u),u=u.sibling}c.type===y?((d=zr(c.props.children,s.mode,d,c.key)).return=s,s=d):(di(d=Gr(c.type,c.key,c.props,null,s.mode,d),c),d.return=s,s=d)}return a(s);case g:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(s,u.sibling),(d=o(u,c.children||[])).return=s,s=d;break e}n(s,u);break}t(s,u),u=u.sibling}(d=$r(c,s.mode,d)).return=s,s=d}return a(s);case I:return v(s,u,c=oi(c),d)}if(R(c))return function(o,l,a,s){for(var u=null,c=null,d=l,m=l=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(o,d,a[m],s);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),l=i(y,l,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===a.length)return n(o,d),po&&oo(o,m),u;if(null===d){for(;m<a.length;m++)null!==(d=p(o,a[m],s))&&(l=i(d,l,m),null===c?u=d:c.sibling=d,c=d);return po&&oo(o,m),u}for(d=r(d);m<a.length;m++)null!==(g=h(d,o,m,a[m],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),l=i(g,l,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(o,e)}),po&&oo(o,m),u}(s,u,c,d);if(O(c)){if("function"!=typeof(b=O(c)))throw Error(l(150));return function(o,a,s,u){if(null==s)throw Error(l(151));for(var c=null,d=null,m=a,g=a=0,y=null,v=s.next();null!==m&&!v.done;g++,v=s.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(o,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(o,m),a=i(b,a,g),null===d?c=b:d.sibling=b,d=b,m=y}if(v.done)return n(o,m),po&&oo(o,g),c;if(null===m){for(;!v.done;g++,v=s.next())null!==(v=p(o,v.value,u))&&(a=i(v,a,g),null===d?c=v:d.sibling=v,d=v);return po&&oo(o,g),c}for(m=r(m);!v.done;g++,v=s.next())null!==(v=h(m,o,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=i(v,a,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(o,e)}),po&&oo(o,g),c}(s,u,c=b.call(c),d)}if("function"==typeof c.then)return v(s,u,ci(c),d);if(c.$$typeof===S)return v(s,u,Do(s,c),d);pi(s,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(s,u.sibling),(d=o(u,c)).return=s,s=d):(n(s,u),(d=Vr(c,s.mode,d)).return=s,s=d),a(s)):n(s,u)}return function(e,t,n,r){try{ui=0;var o=v(e,t,n,r);return si=null,o}catch(t){if(t===Xo||t===ei)throw t;var i=Ur(29,t,null,e.mode);return i.lanes=r,i.return=e,i}}}var hi=fi(!0),mi=fi(!1),gi=!1;function yi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&fu){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Mr(e),Dr(e,null,n),t}return Nr(e,r,t,n),Mr(e)}function Si(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function Ei(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=l:i=i.next=l,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _i=!1;function Ti(){if(_i&&null!==Bo)throw Bo}function Ci(e,t,n,r){_i=!1;var o=e.updateQueue;gi=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var s=a,u=s.next;s.next=null,null===l?i=u:l.next=u,l=s;var c=e.alternate;null!==c&&(a=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=s)}if(null!==i){var d=o.baseState;for(l=0,c=u=s=null,a=i;;){var p=-536870913&a.lane,h=p!==a.lane;if(h?(gu&p)===p:(r&p)===p){0!==p&&p===Vo&&(_i=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;p=t;var y=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(y,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=g.payload)?m.call(y,d,p):m))break e;d=f({},d,p);break e;case 2:gi=!0}}null!==(p=a.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=o.callbacks)?o.callbacks=[p]:h.push(p))}else h={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=h,s=d):c=c.next=h,l|=p;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}null===c&&(s=d),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null===i&&(o.shared.lanes=0),Tu|=l,e.lanes=l,e.memoizedState=d}}function Ii(e,t){if("function"!=typeof e)throw Error(l(191,e));e.call(t)}function ki(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ii(n[e],t)}var Ai=q(null),xi=q(0);function Oi(e,t){H(xi,e=Eu),H(Ai,t),Eu=e|t.baseLanes}function Ni(){H(xi,Eu),H(Ai,Ai.current)}function Pi(){Eu=xi.current,F(Ai),F(xi)}var Ri=q(null),Di=null;function Mi(e){var t=e.alternate;H(Fi,1&Fi.current),H(Ri,e),null===Di&&(null===t||null!==Ai.current||null!==t.memoizedState)&&(Di=e)}function Li(e){H(Fi,Fi.current),H(Ri,e),null===Di&&(Di=e)}function ji(e){22===e.tag?(H(Fi,Fi.current),H(Ri,e),null===Di&&(Di=e)):Ui()}function Ui(){H(Fi,Fi.current),H(Ri,Ri.current)}function qi(e){F(Ri),Di===e&&(Di=null),F(Fi)}var Fi=q(0);function Hi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Nd(n)||Pd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gi=0,zi=null,Vi=null,Bi=null,$i=!1,Wi=!1,Ji=!1,Ki=0,Yi=0,Qi=null,Xi=0;function Zi(){throw Error(l(321))}function el(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function tl(e,t,n,r,o,i){return Gi=i,zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?ga:ya,Ji=!1,i=n(r,o),Ji=!1,Wi&&(i=rl(t,n,r,o)),nl(e),i}function nl(e){D.H=ma;var t=null!==Vi&&null!==Vi.next;if(Gi=0,Bi=Vi=zi=null,$i=!1,Yi=0,Qi=null,t)throw Error(l(300));null===e||Ra||null!==(e=e.dependencies)&&No(e)&&(Ra=!0)}function rl(e,t,n,r){zi=e;var o=0;do{if(Wi&&(Qi=null),Yi=0,Wi=!1,25<=o)throw Error(l(301));if(o+=1,Bi=Vi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}D.H=va,i=t(n,r)}while(Wi);return i}function ol(){var e=D.H,t=e.useState()[0];return t="function"==typeof t.then?cl(t):t,e=e.useState()[0],(null!==Vi?Vi.memoizedState:null)!==e&&(zi.flags|=1024),t}function il(){var e=0!==Ki;return Ki=0,e}function ll(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function al(e){if($i){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}$i=!1}Gi=0,Bi=Vi=zi=null,Wi=!1,Yi=Ki=0,Qi=null}function sl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Bi?zi.memoizedState=Bi=e:Bi=Bi.next=e,Bi}function ul(){if(null===Vi){var e=zi.alternate;e=null!==e?e.memoizedState:null}else e=Vi.next;var t=null===Bi?zi.memoizedState:Bi.next;if(null!==t)Bi=t,Vi=e;else{if(null===e){if(null===zi.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(Vi=e).memoizedState,baseState:Vi.baseState,baseQueue:Vi.baseQueue,queue:Vi.queue,next:null},null===Bi?zi.memoizedState=Bi=e:Bi=Bi.next=e}return Bi}function cl(e){var t=Yi;return Yi+=1,null===Qi&&(Qi=[]),e=ri(Qi,e,t),t=zi,null===(null===Bi?t.memoizedState:Bi.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?ga:ya),e}function dl(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return cl(e);if(e.$$typeof===S)return Ro(e)}throw Error(l(438,String(e)))}function pl(e){var t=null,n=zi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=zi.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},zi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function fl(e,t){return"function"==typeof t?t(e):t}function hl(e){return ml(ul(),Vi,e)}function ml(e,t,n){var r=e.queue;if(null===r)throw Error(l(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var s=a=null,u=null,c=t=o.next,d=!1;do{var p=-536870913&c.lane;if(p!==c.lane?(gu&p)===p:(Gi&p)===p){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Vo&&(d=!0);else{if((Gi&f)===f){c=c.next,f===Vo&&(d=!0);continue}p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(s=u=p,a=i):u=u.next=p,zi.lanes|=f,Tu|=f}p=c.action,Ji&&n(i,p),i=c.hasEagerState?c.eagerState:n(i,p)}else f={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(s=u=f,a=i):u=u.next=f,zi.lanes|=p,Tu|=p;c=c.next}while(null!==c&&c!==t);if(null===u?a=i:u.next=s,!Xn(i,e.memoizedState)&&(Ra=!0,d&&null!==(n=Bo)))throw n;e.memoizedState=i,e.baseState=a,e.baseQueue=u,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gl(e){var t=ul(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{i=e(i,a.action),a=a.next}while(a!==o);Xn(i,t.memoizedState)||(Ra=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function yl(e,t,n){var r=zi,o=ul(),i=po;if(i){if(void 0===n)throw Error(l(407));n=n()}else n=t();var a=!Xn((Vi||o).memoizedState,n);if(a&&(o.memoizedState=n,Ra=!0),o=o.queue,Gl(wl.bind(null,r,o,e),[e]),o.getSnapshot!==t||a||null!==Bi&&1&Bi.memoizedState.tag){if(r.flags|=2048,jl(9,{destroy:void 0},bl.bind(null,r,o,n,t),null),null===hu)throw Error(l(349));i||127&Gi||vl(r,t,n)}return n}function vl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=zi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},zi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bl(e,t,n,r){t.value=n,t.getSnapshot=r,Sl(t)&&El(e)}function wl(e,t,n){return n(function(){Sl(t)&&El(e)})}function Sl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(e){return!0}}function El(e){var t=Rr(e,2);null!==t&&Ju(t,0,2)}function _l(e){var t=sl();if("function"==typeof e){var n=e;if(e=n(),Ji){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:e},t}function Tl(e,t,n,r){return e.baseState=n,ml(e,Vi,"function"==typeof r?r:fl)}function Cl(e,t,n,r,o){if(pa(e))throw Error(l(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==D.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,Il(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Il(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=D.T,l={};D.T=l;try{var a=n(o,r),s=D.S;null!==s&&s(l,a),kl(e,t,a)}catch(n){xl(e,t,n)}finally{null!==i&&null!==l.types&&(i.types=l.types),D.T=i}}else try{kl(e,t,i=n(o,r))}catch(n){xl(e,t,n)}}function kl(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Al(e,t,n)},function(n){return xl(e,t,n)}):Al(e,t,n)}function Al(e,t,n){t.status="fulfilled",t.value=n,Ol(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Il(e,n)))}function xl(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ol(t),t=t.next}while(t!==r)}e.action=null}function Ol(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Nl(e,t){return t}function Pl(e,t){if(po){var n=hu.formState;if(null!==n){e:{var r=zi;if(po){if(co){t:{for(var o=co,i=ho;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=Rd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){co=Rd(o.nextSibling),r="F!"===o.data;break e}}go(r)}r=!1}r&&(t=n[0])}}return(n=sl()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:t},n.queue=r,n=ua.bind(null,zi,r),r.dispatch=n,r=_l(!1),i=da.bind(null,zi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=sl()).queue=o,n=Cl.bind(null,zi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Rl(e){return Dl(ul(),Vi,e)}function Dl(e,t,n){if(t=ml(e,t,Nl)[0],e=hl(fl)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=cl(t)}catch(e){if(e===Xo)throw ei;throw e}else r=t;var o=(t=ul()).queue,i=o.dispatch;return n!==t.memoizedState&&(zi.flags|=2048,jl(9,{destroy:void 0},Ml.bind(null,o,n),null)),[r,i,e]}function Ml(e,t){e.action=t}function Ll(e){var t=ul(),n=Vi;if(null!==n)return Dl(t,n,e);ul(),t=t.memoizedState;var r=(n=ul()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function jl(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=zi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},zi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ul(){return ul().memoizedState}function ql(e,t,n,r){var o=sl();zi.flags|=e,o.memoizedState=jl(1|t,{destroy:void 0},n,void 0===r?null:r)}function Fl(e,t,n,r){var o=ul();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==Vi&&null!==r&&el(r,Vi.memoizedState.deps)?o.memoizedState=jl(t,i,n,r):(zi.flags|=e,o.memoizedState=jl(1|t,i,n,r))}function Hl(e,t){ql(8390656,8,e,t)}function Gl(e,t){Fl(2048,8,e,t)}function zl(e){var t=ul().memoizedState;return function(e){zi.flags|=4;var t=zi.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},zi.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&fu)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Vl(e,t){return Fl(4,2,e,t)}function Bl(e,t){return Fl(4,4,e,t)}function $l(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Wl(e,t,n){n=null!=n?n.concat([e]):null,Fl(4,4,$l.bind(null,t,e),n)}function Jl(){}function Kl(e,t){var n=ul();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&el(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yl(e,t){var n=ul();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&el(t,r[1]))return r[0];if(r=e(),Ji){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Ql(e,t,n){return void 0===n||1073741824&Gi&&!(261930&gu)?e.memoizedState=t:(e.memoizedState=n,e=Wu(),zi.lanes|=e,Tu|=e,n)}function Xl(e,t,n,r){return Xn(n,t)?n:null!==Ai.current?(e=Ql(e,n,r),Xn(e,t)||(Ra=!0),e):42&Gi&&(!(1073741824&Gi)||261930&gu)?(e=Wu(),zi.lanes|=e,Tu|=e,t):(Ra=!0,e.memoizedState=n)}function Zl(e,t,n,r,o){var i=M.p;M.p=0!==i&&8>i?i:8;var l=D.T,a={};D.T=a,da(e,!1,t,n);try{var s=o(),u=D.S;if(null!==u&&u(a,s),null!==s&&"object"==typeof s&&"function"==typeof s.then){var c=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(s,r);ca(e,t,c,$u())}else ca(e,t,r,$u())}catch(n){ca(e,t,{then:function(){},status:"rejected",reason:n},$u())}finally{M.p=i,null!==l&&null!==a.types&&(l.types=a.types),D.T=l}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(l(476));var o=na(e).queue;Zl(e,o,t,L,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ca(e,t.next.queue,{},$u())}function oa(){return Ro(cp)}function ia(){return ul().memoizedState}function la(){return ul().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=$u(),r=wi(t,e=bi(n),n);return null!==r&&(Ju(r,0,n),Si(r,t,n)),t={cache:Fo()},void(e.payload=t)}t=t.return}}function sa(e,t,n){var r=$u();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},pa(e)?fa(t,n):null!==(n=Pr(e,t,n,r))&&(Ju(n,0,r),ha(n,t,r))}function ua(e,t,n){ca(e,t,n,$u())}function ca(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(pa(e))fa(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,a=i(l,n);if(o.hasEagerState=!0,o.eagerState=a,Xn(a,l))return Nr(e,t,o,0),null===hu&&Or(),!1}catch(e){}if(null!==(n=Pr(e,t,o,r)))return Ju(n,0,r),ha(n,t,r),!0}return!1}function da(e,t,n,r){if(r={lane:2,revertLane:Gc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},pa(e)){if(t)throw Error(l(479))}else null!==(t=Pr(e,n,r,2))&&Ju(t,0,2)}function pa(e){var t=e.alternate;return e===zi||null!==t&&t===zi}function fa(e,t){Wi=$i=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ha(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var ma={readContext:Ro,use:dl,useCallback:Zi,useContext:Zi,useEffect:Zi,useImperativeHandle:Zi,useLayoutEffect:Zi,useInsertionEffect:Zi,useMemo:Zi,useReducer:Zi,useRef:Zi,useState:Zi,useDebugValue:Zi,useDeferredValue:Zi,useTransition:Zi,useSyncExternalStore:Zi,useId:Zi,useHostTransitionStatus:Zi,useFormState:Zi,useActionState:Zi,useOptimistic:Zi,useMemoCache:Zi,useCacheRefresh:Zi};ma.useEffectEvent=Zi;var ga={readContext:Ro,use:dl,useCallback:function(e,t){return sl().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:Hl,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,ql(4194308,4,$l.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ql(4194308,4,e,t)},useInsertionEffect:function(e,t){ql(4,2,e,t)},useMemo:function(e,t){var n=sl();t=void 0===t?null:t;var r=e();if(Ji){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=sl();if(void 0!==n){var o=n(t);if(Ji){be(!0);try{n(t)}finally{be(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=sa.bind(null,zi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},sl().memoizedState=e},useState:function(e){var t=(e=_l(e)).queue,n=ua.bind(null,zi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Jl,useDeferredValue:function(e,t){return Ql(sl(),e,t)},useTransition:function(){var e=_l(!1);return e=Zl.bind(null,zi,e.queue,!0,!1),sl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=zi,o=sl();if(po){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===hu)throw Error(l(349));127&gu||vl(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Hl(wl.bind(null,r,i,e),[e]),r.flags|=2048,jl(9,{destroy:void 0},bl.bind(null,r,i,n,t),null),n},useId:function(){var e=sl(),t=hu.identifierPrefix;if(po){var n=ro;t="_"+t+"R_"+(n=(no&~(1<<32-we(no)-1)).toString(32)+n),0<(n=Ki++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Xi++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:oa,useFormState:Pl,useActionState:Pl,useOptimistic:function(e){var t=sl();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=da.bind(null,zi,!0,n),n.dispatch=t,[e,t]},useMemoCache:pl,useCacheRefresh:function(){return sl().memoizedState=aa.bind(null,zi)},useEffectEvent:function(e){var t=sl(),n={impl:e};return t.memoizedState=n,function(){if(2&fu)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},ya={readContext:Ro,use:dl,useCallback:Kl,useContext:Ro,useEffect:Gl,useImperativeHandle:Wl,useInsertionEffect:Vl,useLayoutEffect:Bl,useMemo:Yl,useReducer:hl,useRef:Ul,useState:function(){return hl(fl)},useDebugValue:Jl,useDeferredValue:function(e,t){return Xl(ul(),Vi.memoizedState,e,t)},useTransition:function(){var e=hl(fl)[0],t=ul().memoizedState;return["boolean"==typeof e?e:cl(e),t]},useSyncExternalStore:yl,useId:ia,useHostTransitionStatus:oa,useFormState:Rl,useActionState:Rl,useOptimistic:function(e,t){return Tl(ul(),0,e,t)},useMemoCache:pl,useCacheRefresh:la};ya.useEffectEvent=zl;var va={readContext:Ro,use:dl,useCallback:Kl,useContext:Ro,useEffect:Gl,useImperativeHandle:Wl,useInsertionEffect:Vl,useLayoutEffect:Bl,useMemo:Yl,useReducer:gl,useRef:Ul,useState:function(){return gl(fl)},useDebugValue:Jl,useDeferredValue:function(e,t){var n=ul();return null===Vi?Ql(n,e,t):Xl(n,Vi.memoizedState,e,t)},useTransition:function(){var e=gl(fl)[0],t=ul().memoizedState;return["boolean"==typeof e?e:cl(e),t]},useSyncExternalStore:yl,useId:ia,useHostTransitionStatus:oa,useFormState:Ll,useActionState:Ll,useOptimistic:function(e,t){var n=ul();return null!==Vi?Tl(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:pl,useCacheRefresh:la};function ba(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}va.useEffectEvent=zl;var wa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$u(),o=bi(r);o.payload=t,null!=n&&(o.callback=n),null!==(t=wi(e,o,r))&&(Ju(t,0,r),Si(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$u(),o=bi(r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=wi(e,o,r))&&(Ju(t,0,r),Si(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$u(),r=bi(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=wi(e,r,n))&&(Ju(t,0,n),Si(t,e,n))}};function Sa(e,t,n,r,o,i,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,l):!(t.prototype&&t.prototype.isPureReactComponent&&Zn(n,r)&&Zn(o,i))}function Ea(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function _a(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=f({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function Ta(e){Ir(e)}function Ca(e){console.error(e)}function Ia(e){Ir(e)}function ka(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Aa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function xa(e,t,n){return(n=bi(n)).tag=3,n.payload={element:null},n.callback=function(){ka(e,t)},n}function Oa(e){return(e=bi(e)).tag=3,e}function Na(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"==typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){Aa(t,n,r)}}var l=n.stateNode;null!==l&&"function"==typeof l.componentDidCatch&&(e.callback=function(){Aa(t,n,r),"function"!=typeof o&&(null===Lu?Lu=new Set([this]):Lu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Pa=Error(l(461)),Ra=!1;function Da(e,t,n,r){t.child=null===e?mi(t,null,n,r):hi(t,e.child,n,r)}function Ma(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var l={};for(var a in r)"ref"!==a&&(l[a]=r[a])}else l=r;return Po(t),r=tl(e,t,n,l,i,o),a=il(),null===e||Ra?(po&&a&&lo(t),t.flags|=1,Da(e,t,r,o),t.child):(ll(e,t,o),os(e,t,o))}function La(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||qr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Gr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ja(e,t,i,r,o))}if(i=e.child,!is(e,o)){var l=i.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(l,r)&&e.ref===t.ref)return os(e,t,o)}return t.flags|=1,(e=Fr(i,r)).ref=t.ref,e.return=t,t.child=e}function ja(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Zn(i,r)&&e.ref===t.ref){if(Ra=!1,t.pendingProps=r=i,!is(e,o))return t.lanes=e.lanes,os(e,t,o);131072&e.flags&&(Ra=!0)}}return Va(e,t,n,r,o)}function Ua(e,t,n,r){var o=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~i}else r=0,t.child=null;return Fa(e,t,i,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Fa(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yo(0,null!==i?i.cachePool:null),null!==i?Oi(t,i):Ni(),ji(t)}else null!==i?(Yo(0,i.cachePool),Oi(t,i),Ui(),t.memoizedState=null):(null!==e&&Yo(0,null),Ni(),Ui());return Da(e,t,o,n),t.child}function qa(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fa(e,t,n,r,o){var i=Ko();return i=null===i?null:{parent:qo._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Yo(0,null),Ni(),ji(t),null!==e&&Oo(e,t,r,!0),t.childLanes=o,null}function Ha(e,t){return(t=Za({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ga(e,t,n){return hi(t,e.child,null,n),(e=Ha(t,t.pendingProps)).flags|=2,qi(t),t.memoizedState=null,e}function za(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(l(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Va(e,t,n,r,o){return Po(t),n=tl(e,t,n,r,void 0,o),r=il(),null===e||Ra?(po&&r&&lo(t),t.flags|=1,Da(e,t,n,o),t.child):(ll(e,t,o),os(e,t,o))}function Ba(e,t,n,r,o,i){return Po(t),t.updateQueue=null,n=rl(t,r,n,o),nl(e),r=il(),null===e||Ra?(po&&r&&lo(t),t.flags|=1,Da(e,t,n,i),t.child):(ll(e,t,i),os(e,t,i))}function $a(e,t,n,r,o){if(Po(t),null===t.stateNode){var i=Lr,l=n.contextType;"object"==typeof l&&null!==l&&(i=Ro(l)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=wa,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},yi(t),l=n.contextType,i.context="object"==typeof l&&null!==l?Ro(l):Lr,i.state=t.memoizedState,"function"==typeof(l=n.getDerivedStateFromProps)&&(ba(t,n,l,r),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(l=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),l!==i.state&&wa.enqueueReplaceState(i,i.state,null),Ci(t,r,i,o),Ti(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var a=t.memoizedProps,s=_a(n,a);i.props=s;var u=i.context,c=n.contextType;l=Lr,"object"==typeof c&&null!==c&&(l=Ro(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(a||u!==l)&&Ea(t,i,r,l),gi=!1;var p=t.memoizedState;i.state=p,Ci(t,r,i,o),Ti(),u=t.memoizedState,a||p!==u||gi?("function"==typeof d&&(ba(t,n,d,r),u=t.memoizedState),(s=gi||Sa(t,n,s,r,p,u,l))?(c||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=l,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,vi(e,t),c=_a(n,l=t.memoizedProps),i.props=c,d=t.pendingProps,p=i.context,u=n.contextType,s=Lr,"object"==typeof u&&null!==u&&(s=Ro(u)),(u="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==d||p!==s)&&Ea(t,i,r,s),gi=!1,p=t.memoizedState,i.state=p,Ci(t,r,i,o),Ti();var f=t.memoizedState;l!==d||p!==f||gi||null!==e&&null!==e.dependencies&&No(e.dependencies)?("function"==typeof a&&(ba(t,n,a,r),f=t.memoizedState),(c=gi||Sa(t,n,c,r,p,f,s)||null!==e&&null!==e.dependencies&&No(e.dependencies))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,s),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,s)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=s,r=c):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,za(e,t),r=!!(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=hi(t,e.child,null,o),t.child=hi(t,null,n,o)):Da(e,t,n,o),t.memoizedState=i.state,e=t.child):e=os(e,t,o),e}function Wa(e,t,n,r){return wo(),t.flags|=256,Da(e,t,n,r),t.child}var Ja={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ka(e){return{baseLanes:e,cachePool:Qo()}}function Ya(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=ku),e}function Qa(e,t,n){var r,o=t.pendingProps,i=!1,a=!!(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&!!(2&Fi.current)),r&&(i=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(po){if(i?Mi(t):Ui(),(e=co)?null!==(e=null!==(e=Od(e,ho))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Br(e)).return=t,t.child=n,uo=t,co=null):e=null,null===e)throw go(t);return Pd(e)?t.lanes=32:t.lanes=536870912,null}var s=o.children;return o=o.fallback,i?(Ui(),s=Za({mode:"hidden",children:s},i=t.mode),o=zr(o,i,n,null),s.return=t,o.return=t,s.sibling=o,t.child=s,(o=t.child).memoizedState=Ka(n),o.childLanes=Ya(e,r,n),t.memoizedState=Ja,qa(null,o)):(Mi(t),Xa(t,s))}var u=e.memoizedState;if(null!==u&&null!==(s=u.dehydrated)){if(a)256&t.flags?(Mi(t),t.flags&=-257,t=es(e,t,n)):null!==t.memoizedState?(Ui(),t.child=e.child,t.flags|=128,t=null):(Ui(),s=o.fallback,i=t.mode,o=Za({mode:"visible",children:o.children},i),(s=zr(s,i,n,null)).flags|=2,o.return=t,s.return=t,o.sibling=s,t.child=o,hi(t,e.child,null,n),(o=t.child).memoizedState=Ka(n),o.childLanes=Ya(e,r,n),t.memoizedState=Ja,t=qa(null,o));else if(Mi(t),Pd(s)){if(r=s.nextSibling&&s.nextSibling.dataset)var c=r.dgst;r=c,(o=Error(l(419))).stack="",o.digest=r,Eo({value:o,source:null,stack:null}),t=es(e,t,n)}else if(Ra||Oo(e,t,n,!1),r=0!==(n&e.childLanes),Ra||r){if(null!==(r=hu)&&0!==(o=Me(r,n))&&o!==u.retryLane)throw u.retryLane=o,Rr(e,o),Ju(r,0,o),Pa;Nd(s)||lc(),t=es(e,t,n)}else Nd(s)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,co=Rd(s.nextSibling),uo=t,po=!0,fo=null,ho=!1,null!==e&&so(t,e),(t=Xa(t,o.children)).flags|=4096);return t}return i?(Ui(),s=o.fallback,i=t.mode,c=(u=e.child).sibling,(o=Fr(u,{mode:"hidden",children:o.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?s=Fr(c,s):(s=zr(s,i,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,qa(null,o),o=t.child,null===(s=e.child.memoizedState)?s=Ka(n):(null!==(i=s.cachePool)?(u=qo._currentValue,i=i.parent!==u?{parent:u,pool:u}:i):i=Qo(),s={baseLanes:s.baseLanes|n,cachePool:i}),o.memoizedState=s,o.childLanes=Ya(e,r,n),t.memoizedState=Ja,qa(e.child,o)):(Mi(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xa(e,t){return(t=Za({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Za(e,t){return(e=Ur(22,e,null,t)).lanes=0,e}function es(e,t,n){return hi(t,e.child,null,n),(e=Xa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ts(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function ns(e,t,n,r,o,i){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o,l.treeForkCount=i)}function rs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;r=r.children;var l=Fi.current,a=!!(2&l);if(a?(l=1&l|2,t.flags|=128):l&=1,H(Fi,l),Da(e,t,r,n),r=po?Xr:0,!a&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ts(e,n,t);else if(19===e.tag)ts(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Hi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ns(t,!1,o,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Hi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ns(t,!0,n,null,i,r);break;case"together":ns(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Tu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Oo(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function is(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!No(e))}function ls(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ra=!0;else{if(!(is(e,n)||128&t.flags))return Ra=!1,function(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),Io(0,qo,e.memoizedState.cache),wo();break;case 27:case 5:Y(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:Io(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Li(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Mi(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Qa(e,t,n):(Mi(t),null!==(e=os(e,t,n))?e.sibling:null);Mi(t);break;case 19:var o=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Oo(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return rs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),H(Fi,Fi.current),r)break;return null;case 22:return t.lanes=0,Ua(e,t,n,t.pendingProps);case 24:Io(0,qo,e.memoizedState.cache)}return os(e,t,n)}(e,t,n);Ra=!!(131072&e.flags)}else Ra=!1,po&&1048576&t.flags&&io(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=oi(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var o=e.$$typeof;if(o===E){t.tag=11,t=Ma(null,t,e,r,n);break e}if(o===C){t.tag=14,t=La(null,t,e,r,n);break e}}throw t=P(e)||e,Error(l(306,t,""))}qr(e)?(r=_a(e,r),t.tag=1,t=$a(null,t,e,r,n)):(t.tag=0,t=Va(null,t,e,r,n))}return t;case 0:return Va(e,t,t.type,t.pendingProps,n);case 1:return $a(e,t,r=t.type,o=_a(r,t.pendingProps),n);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(l(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,vi(e,t),Ci(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Io(0,qo,r),r!==i.cache&&xo(t,[qo],n,!0),Ti(),r=a.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Wa(e,t,r,n);break e}if(r!==o){Eo(o=Jr(Error(l(424)),t)),t=Wa(e,t,r,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,co=Rd(e.firstChild),uo=t,po=!0,fo=null,ho=!0,n=mi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wo(),r===o){t=os(e,t,n);break e}Da(e,t,r,n)}t=t.child}return t;case 26:return za(e,t),null===e?(n=Bd(t.type,null,t.pendingProps,null))?t.memoizedState=n:po||(n=t.type,e=t.pendingProps,(r=gd($.current).createElement(n))[He]=t,r[Ge]=e,pd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Bd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&po&&(r=t.stateNode=jd(t.type,t.pendingProps,$.current),uo=t,ho=!0,o=co,Id(t.type)?(Dd=o,co=Rd(r.firstChild)):co=o),Da(e,t,t.pendingProps.children,n),za(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&po&&((o=r=co)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Je])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=Rd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ho))?(t.stateNode=r,uo=t,co=Rd(r.firstChild),ho=!1,o=!0):o=!1),o||go(t)),Y(t),o=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,r=i.children,bd(o,i)?r=null:null!==a&&bd(o,a)&&(t.flags|=32),null!==t.memoizedState&&(o=tl(e,t,ol,null,null,n),cp._currentValue=o),za(e,t),Da(e,t,r,n),t.child;case 6:return null===e&&po&&((e=n=co)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}(n,t.pendingProps,ho))?(t.stateNode=n,uo=t,co=null,e=!0):e=!1),e||go(t)),null;case 13:return Qa(e,t,n);case 4:return J(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=hi(t,null,r,n):Da(e,t,r,n),t.child;case 11:return Ma(e,t,t.type,t.pendingProps,n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Io(0,t.type,r.value),Da(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Po(t),r=r(o=Ro(o)),t.flags|=1,Da(e,t,r,n),t.child;case 14:return La(e,t,t.type,t.pendingProps,n);case 15:return ja(e,t,t.type,t.pendingProps,n);case 19:return rs(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,o=!!(128&t.flags);if(t.flags&=-129,null===e){if(po){if("hidden"===r.mode)return e=Ha(t,r),t.lanes=536870912,qa(null,e);if(Li(t),(e=co)?null!==(e=null!==(e=Od(e,ho))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Br(e)).return=t,t.child=n,uo=t,co=null):e=null,null===e)throw go(t);return t.lanes=536870912,null}return Ha(t,r)}var i=e.memoizedState;if(null!==i){var a=i.dehydrated;if(Li(t),o)if(256&t.flags)t.flags&=-257,t=Ga(e,t,n);else{if(null===t.memoizedState)throw Error(l(558));t.child=e.child,t.flags|=128,t=null}else if(Ra||Oo(e,t,n,!1),o=0!==(n&e.childLanes),Ra||o){if(null!==(r=hu)&&0!==(a=Me(r,n))&&a!==i.retryLane)throw i.retryLane=a,Rr(e,a),Ju(r,0,a),Pa;lc(),t=Ga(e,t,n)}else e=i.treeContext,co=Rd(a.nextSibling),uo=t,po=!0,fo=null,ho=!1,null!==e&&so(t,e),(t=Ha(t,r)).flags|=4096;return t}return(e=Fr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ua(e,t,n,t.pendingProps);case 24:return Po(t),r=Ro(qo),null===e?(null===(o=Ko())&&(o=hu,i=Fo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},yi(t),Io(0,qo,o)):(0!==(e.lanes&n)&&(vi(e,t),Ci(t,null,null,n),Ti()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),Io(0,qo,r)):(r=i.cache,Io(0,qo,r),r!==o.cache&&xo(t,[qo],n,!0))),Da(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function as(e){e.flags|=4}function ss(e,t,n,r,o){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!rc())throw ii=ti,Zo;e.flags|=8192}}else e.flags&=-16777217}function us(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!op(t)){if(!rc())throw ii=ti,Zo;e.flags|=8192}}function cs(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Oe():536870912,e.lanes|=t,Au|=t)}function ds(e,t){if(!po)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ps(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fs(e,t,n){var r=t.pendingProps;switch(ao(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ps(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ko(qo),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bo(t)?as(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,So())),ps(t),null;case 26:var o=t.type,i=t.memoizedState;return null===e?(as(t),null!==i?(ps(t),us(t,i)):(ps(t),ss(t,o,0,0,n))):i?i!==e.memoizedState?(as(t),ps(t),us(t,i)):(ps(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&as(t),ps(t),ss(t,o,0,0,n)),null;case 27:if(Q(t),n=$.current,o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&as(t);else{if(!r){if(null===t.stateNode)throw Error(l(166));return ps(t),null}e=V.current,bo(t)?yo(t):(e=jd(o,r,n),t.stateNode=e,as(t))}return ps(t),null;case 5:if(Q(t),o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&as(t);else{if(!r){if(null===t.stateNode)throw Error(l(166));return ps(t),null}if(i=V.current,bo(t))yo(t);else{var a=gd($.current);switch(i){case 1:i=a.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=a.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=a.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=a.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":(i=a.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"==typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i="string"==typeof r.is?a.createElement(o,{is:r.is}):a.createElement(o)}}i[He]=t,i[Ge]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)i.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=i;e:switch(pd(i,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&as(t)}}return ps(t),ss(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&as(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(l(166));if(e=$.current,bo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=uo))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[He]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||go(t,!0)}else(e=gd(e).createTextNode(r))[He]=t,t.stateNode=e}return ps(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bo(t),null!==n){if(null===e){if(!r)throw Error(l(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(l(557));e[He]=t}else wo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ps(t),e=!1}else n=So(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(qi(t),t):(qi(t),null);if(128&t.flags)throw Error(l(558))}return ps(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=bo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(l(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(l(317));o[He]=t}else wo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ps(t),o=!1}else o=So(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(qi(t),t):(qi(t),null)}return qi(t),128&t.flags?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool),i=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cs(t,t.updateQueue),ps(t),null);case 4:return K(),null===e&&Zc(t.stateNode.containerInfo),ps(t),null;case 10:return ko(t.type),ps(t),null;case 19:if(F(Fi),null===(r=t.memoizedState))return ps(t),null;if(o=!!(128&t.flags),null===(i=r.rendering))if(o)ds(r,!1);else{if(0!==_u||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=Hi(e))){for(t.flags|=128,ds(r,!1),e=i.updateQueue,t.updateQueue=e,cs(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Hr(n,e),n=n.sibling;return H(Fi,1&Fi.current|2),po&&oo(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&se()>Du&&(t.flags|=128,o=!0,ds(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=Hi(i))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,cs(t,e),ds(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!po)return ps(t),null}else 2*se()-r.renderingStartTime>Du&&536870912!==n&&(t.flags|=128,o=!0,ds(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=se(),e.sibling=null,n=Fi.current,H(Fi,o?1&n|2:1&n),po&&oo(t,r.treeForkCount),e):(ps(t),null);case 22:case 23:return qi(t),Pi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(ps(t),6&t.subtreeFlags&&(t.flags|=8192)):ps(t),null!==(n=t.updateQueue)&&cs(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&F(Jo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ko(qo),ps(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}function hs(e,t){switch(ao(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ko(qo),K(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 31:if(null!==t.memoizedState){if(qi(t),null===t.alternate)throw Error(l(340));wo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(qi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));wo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(Fi),null;case 4:return K(),null;case 10:return ko(t.type),null;case 22:case 23:return qi(t),Pi(),null!==e&&F(Jo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ko(qo),null;default:return null}}function ms(e,t){switch(ao(t),t.tag){case 3:ko(qo),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 31:null!==t.memoizedState&&qi(t);break;case 13:qi(t);break;case 19:F(Fi);break;case 10:ko(t.type);break;case 22:case 23:qi(t),Pi(),null!==e&&F(Jo);break;case 24:ko(qo)}}function gs(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,l=n.inst;r=i(),l.destroy=r}n=n.next}while(n!==o)}}catch(e){_c(t,t.return,e)}}function ys(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var l=r.inst,a=l.destroy;if(void 0!==a){l.destroy=void 0,o=t;var s=n,u=a;try{u()}catch(e){_c(o,s,e)}}}r=r.next}while(r!==i)}}catch(e){_c(t,t.return,e)}}function vs(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ki(t,n)}catch(t){_c(e,e.return,t)}}}function bs(e,t,n){n.props=_a(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){_c(e,t,n)}}function ws(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){_c(e,t,n)}}function Ss(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){_c(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){_c(e,t,n)}else n.current=null}function Es(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){_c(e,e.return,t)}}function _s(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,a=null,s=null,u=null,c=null,d=null;for(h in n){var p=n[h];if(n.hasOwnProperty(h)&&null!=p)switch(h){case"checked":case"value":break;case"defaultValue":u=p;default:r.hasOwnProperty(h)||cd(e,t,h,null,r,p)}}for(var f in r){var h=r[f];if(p=n[f],r.hasOwnProperty(f)&&(null!=h||null!=p))switch(f){case"type":i=h;break;case"name":o=h;break;case"checked":c=h;break;case"defaultChecked":d=h;break;case"value":a=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(l(137,t));break;default:h!==p&&cd(e,t,f,h,r,p)}}return void vt(e,a,s,u,c,d,i,o);case"select":for(i in h=a=s=f=null,n)if(u=n[i],n.hasOwnProperty(i)&&null!=u)switch(i){case"value":break;case"multiple":h=u;default:r.hasOwnProperty(i)||cd(e,t,i,null,r,u)}for(o in r)if(i=r[o],u=n[o],r.hasOwnProperty(o)&&(null!=i||null!=u))switch(o){case"value":f=i;break;case"defaultValue":s=i;break;case"multiple":a=i;default:i!==u&&cd(e,t,o,i,r,u)}return t=s,n=a,r=h,void(null!=f?St(e,!!n,f,!1):!!r!=!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(s in h=f=null,n)if(o=n[s],n.hasOwnProperty(s)&&null!=o&&!r.hasOwnProperty(s))switch(s){case"value":case"children":break;default:cd(e,t,s,null,r,o)}for(a in r)if(o=r[a],i=n[a],r.hasOwnProperty(a)&&(null!=o||null!=i))switch(a){case"value":f=o;break;case"defaultValue":h=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(l(91));break;default:o!==i&&cd(e,t,a,o,r,i)}return void Et(e,f,h);case"option":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&("selected"===m?e.selected=!1:cd(e,t,m,null,r,f));for(u in r)f=r[u],h=n[u],!r.hasOwnProperty(u)||f===h||null==f&&null==h||("selected"===u?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:cd(e,t,u,f,r,h));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&cd(e,t,g,null,r,f);for(c in r)if(f=r[c],h=n[c],r.hasOwnProperty(c)&&f!==h&&(null!=f||null!=h))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(l(137,t));break;default:cd(e,t,c,f,r,h)}return;default:if(At(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&dd(e,t,y,void 0,r,f);for(d in r)f=r[d],h=n[d],!r.hasOwnProperty(d)||f===h||void 0===f&&void 0===h||dd(e,t,d,f,r,h);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&cd(e,t,v,null,r,f);for(p in r)f=r[p],h=n[p],!r.hasOwnProperty(p)||f===h||null==f&&null==h||cd(e,t,p,f,r,h)}(r,e.type,n,t),r[Ge]=t}catch(t){_c(e,e.return,t)}}function Ts(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Id(e.type)||4===e.tag}function Cs(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ts(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Id(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Is(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Pt));else if(4!==r&&(27===r&&Id(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function ks(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Id(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function As(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);pd(t,r,n),t[He]=e,t[Ge]=n}catch(t){_c(e,e.return,t)}}var xs=!1,Os=!1,Ns=!1,Ps="function"==typeof WeakSet?WeakSet:Set,Rs=null;function Ds(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Js(e,n),4&r&&gs(5,n);break;case 1:if(Js(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){_c(n,n.return,e)}else{var o=_a(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){_c(n,n.return,e)}}64&r&&vs(n),512&r&&ws(n,n.return);break;case 3:if(Js(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ki(e,t)}catch(e){_c(n,n.return,e)}}break;case 27:null===t&&4&r&&As(n);case 26:case 5:Js(e,n),null===t&&4&r&&Es(n),512&r&&ws(n,n.return);break;case 12:Js(e,n);break;case 31:Js(e,n),4&r&&Fs(e,n);break;case 13:Js(e,n),4&r&&Hs(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=kc.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||xs)){t=null!==t&&null!==t.memoizedState||Os,o=xs;var i=Os;xs=r,(Os=t)&&!i?Ys(e,n,!!(8772&n.subtreeFlags)):Js(e,n),xs=o,Os=i}break;case 30:break;default:Js(e,n)}}function Ms(e){var t=e.alternate;null!==t&&(e.alternate=null,Ms(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Ke(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ls=null,js=!1;function Us(e,t,n){for(n=n.child;null!==n;)qs(e,t,n),n=n.sibling}function qs(e,t,n){if(ve&&"function"==typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(e){}switch(n.tag){case 26:Os||Ss(n,t),Us(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Os||Ss(n,t);var r=Ls,o=js;Id(n.type)&&(Ls=n.stateNode,js=!1),Us(e,t,n),Ud(n.stateNode),Ls=r,js=o;break;case 5:Os||Ss(n,t);case 6:if(r=Ls,o=js,Ls=null,Us(e,t,n),js=o,null!==(Ls=r))if(js)try{(9===Ls.nodeType?Ls.body:"HTML"===Ls.nodeName?Ls.ownerDocument.body:Ls).removeChild(n.stateNode)}catch(e){_c(n,t,e)}else try{Ls.removeChild(n.stateNode)}catch(e){_c(n,t,e)}break;case 18:null!==Ls&&(js?(kd(9===(e=Ls).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vp(e)):kd(Ls,n.stateNode));break;case 4:r=Ls,o=js,Ls=n.stateNode.containerInfo,js=!0,Us(e,t,n),Ls=r,js=o;break;case 0:case 11:case 14:case 15:ys(2,n,t),Os||ys(4,n,t),Us(e,t,n);break;case 1:Os||(Ss(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&bs(n,t,r)),Us(e,t,n);break;case 21:Us(e,t,n);break;case 22:Os=(r=Os)||null!==n.memoizedState,Us(e,t,n),Os=r;break;default:Us(e,t,n)}}function Fs(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)){e=e.dehydrated;try{Vp(e)}catch(e){_c(t,t.return,e)}}}function Hs(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Vp(e)}catch(e){_c(t,t.return,e)}}function Gs(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ps),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ps),t;default:throw Error(l(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Ac.bind(null,e,t);t.then(r,r)}})}function zs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,a=t,s=a;e:for(;null!==s;){switch(s.tag){case 27:if(Id(s.type)){Ls=s.stateNode,js=!1;break e}break;case 5:Ls=s.stateNode,js=!1;break e;case 3:case 4:Ls=s.stateNode.containerInfo,js=!0;break e}s=s.return}if(null===Ls)throw Error(l(160));qs(i,a,o),Ls=null,js=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Bs(t,e),t=t.sibling}var Vs=null;function Bs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zs(t,e),$s(e),4&r&&(ys(3,e,e.return),gs(3,e),ys(5,e,e.return));break;case 1:zs(t,e),$s(e),512&r&&(Os||null===n||Ss(n,n.return)),64&r&&xs&&null!==(e=e.updateQueue)&&null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r));break;case 26:var o=Vs;if(zs(t,e),$s(e),512&r&&(Os||null===n||Ss(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[Je]||i[He]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),pd(i,r,n),i[He]=e,et(i),r=i;break e;case"link":var a=np("link","href",o).get(r+(n.href||""));if(a)for(var s=0;s<a.length;s++)if((i=a[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(s,1);break t}pd(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(a=np("meta","content",o).get(r+(n.content||"")))for(s=0;s<a.length;s++)if((i=a[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(s,1);break t}pd(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(l(468,r))}i[He]=e,et(i),r=i}e.stateNode=r}else rp(o,e.type,e.stateNode);else e.stateNode=Qd(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?rp(o,e.type,e.stateNode):Qd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&_s(e,e.memoizedProps,n.memoizedProps)}break;case 27:zs(t,e),$s(e),512&r&&(Os||null===n||Ss(n,n.return)),null!==n&&4&r&&_s(e,e.memoizedProps,n.memoizedProps);break;case 5:if(zs(t,e),$s(e),512&r&&(Os||null===n||Ss(n,n.return)),32&e.flags){o=e.stateNode;try{Tt(o,"")}catch(t){_c(e,e.return,t)}}4&r&&null!=e.stateNode&&_s(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(Ns=!0);break;case 6:if(zs(t,e),$s(e),4&r){if(null===e.stateNode)throw Error(l(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){_c(e,e.return,t)}}break;case 3:if(tp=null,o=Vs,Vs=Hd(t.containerInfo),zs(t,e),Vs=o,$s(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vp(t.containerInfo)}catch(t){_c(e,e.return,t)}Ns&&(Ns=!1,Ws(e));break;case 4:r=Vs,Vs=Hd(e.stateNode.containerInfo),zs(t,e),$s(e),Vs=r;break;case 12:default:zs(t,e),$s(e);break;case 31:case 19:zs(t,e),$s(e),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,Gs(e,r));break;case 13:zs(t,e),$s(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Pu=se()),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,Gs(e,r));break;case 22:o=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=xs,d=Os;if(xs=c||o,Os=d||u,zs(t,e),Os=d,xs=c,$s(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||u||xs||Os||Ks(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,o)"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{s=u.stateNode;var p=u.memoizedProps.style,f=null!=p&&p.hasOwnProperty("display")?p.display:null;s.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){_c(u,u.return,e)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=o?"":u.memoizedProps}catch(e){_c(u,u.return,e)}}}else if(18===t.tag){if(null===n){u=t;try{var h=u.stateNode;o?Ad(h,!0):Ad(u.stateNode,!1)}catch(e){_c(u,u.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&null!==(r=e.updateQueue)&&null!==(n=r.retryQueue)&&(r.retryQueue=null,Gs(e,n));case 30:case 21:}}function $s(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Ts(r)){n=r;break}r=r.return}if(null==n)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode;ks(e,Cs(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(Tt(i,""),n.flags&=-33),ks(e,Cs(e),i);break;case 3:case 4:var a=n.stateNode.containerInfo;Is(e,Cs(e),a);break;default:throw Error(l(161))}}catch(t){_c(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ws(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ws(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Js(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ds(e,t.alternate,t),t=t.sibling}function Ks(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ys(4,t,t.return),Ks(t);break;case 1:Ss(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&bs(t,t.return,n),Ks(t);break;case 27:Ud(t.stateNode);case 26:case 5:Ss(t,t.return),Ks(t);break;case 22:null===t.memoizedState&&Ks(t);break;default:Ks(t)}e=e.sibling}}function Ys(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:Ys(o,i,n),gs(4,i);break;case 1:if(Ys(o,i,n),"function"==typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(e){_c(r,r.return,e)}if(null!==(o=(r=i).updateQueue)){var a=r.stateNode;try{var s=o.shared.hiddenCallbacks;if(null!==s)for(o.shared.hiddenCallbacks=null,o=0;o<s.length;o++)Ii(s[o],a)}catch(e){_c(r,r.return,e)}}n&&64&l&&vs(i),ws(i,i.return);break;case 27:As(i);case 26:case 5:Ys(o,i,n),n&&null===r&&4&l&&Es(i),ws(i,i.return);break;case 12:Ys(o,i,n);break;case 31:Ys(o,i,n),n&&4&l&&Fs(o,i);break;case 13:Ys(o,i,n),n&&4&l&&Hs(o,i);break;case 22:null===i.memoizedState&&Ys(o,i,n),ws(i,i.return);break;case 30:break;default:Ys(o,i,n)}t=t.sibling}}function Qs(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ho(n))}function Xs(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ho(e))}function Zs(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)eu(e,t,n,r),t=t.sibling}function eu(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Zs(e,t,n,r),2048&o&&gs(9,t);break;case 1:case 31:case 13:default:Zs(e,t,n,r);break;case 3:Zs(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ho(e)));break;case 12:if(2048&o){Zs(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,a=i.onPostCommit;"function"==typeof a&&a(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){_c(t,t.return,e)}}else Zs(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,null!==t.memoizedState?2&i._visibility?Zs(e,t,n,r):nu(e,t):2&i._visibility?Zs(e,t,n,r):(i._visibility|=2,tu(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&o&&Qs(l,t);break;case 24:Zs(e,t,n,r),2048&o&&Xs(t.alternate,t)}}function tu(e,t,n,r,o){for(o=o&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,l=t,a=n,s=r,u=l.flags;switch(l.tag){case 0:case 11:case 15:tu(i,l,a,s,o),gs(8,l);break;case 23:break;case 22:var c=l.stateNode;null!==l.memoizedState?2&c._visibility?tu(i,l,a,s,o):nu(i,l):(c._visibility|=2,tu(i,l,a,s,o)),o&&2048&u&&Qs(l.alternate,l);break;case 24:tu(i,l,a,s,o),o&&2048&u&&Xs(l.alternate,l);break;default:tu(i,l,a,s,o)}t=t.sibling}}function nu(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:nu(n,r),2048&o&&Qs(r.alternate,r);break;case 24:nu(n,r),2048&o&&Xs(r.alternate,r);break;default:nu(n,r)}t=t.sibling}}var ru=8192;function ou(e,t,n){if(e.subtreeFlags&ru)for(e=e.child;null!==e;)iu(e,t,n),e=e.sibling}function iu(e,t,n){switch(e.tag){case 26:ou(e,t,n),e.flags&ru&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var o=$d(r.href),i=t.querySelector(Wd(o));if(i)return null!==(t=i._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=lp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void et(i);i=t.ownerDocument||t,r=Jd(r),(o=qd.get(o))&&Zd(r,o),et(i=i.createElement("link"));var l=i;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),pd(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=lp.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vs,e.memoizedState,e.memoizedProps);break;case 5:default:ou(e,t,n);break;case 3:case 4:var r=Vs;Vs=Hd(e.stateNode.containerInfo),ou(e,t,n),Vs=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ru,ru=16777216,ou(e,t,n),ru=r):ou(e,t,n))}}function lu(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function au(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rs=r,cu(r,e)}lu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)su(e),e=e.sibling}function su(e){switch(e.tag){case 0:case 11:case 15:au(e),2048&e.flags&&ys(9,e,e.return);break;case 3:case 12:default:au(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uu(e)):au(e)}}function uu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rs=r,cu(r,e)}lu(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ys(8,t,t.return),uu(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uu(t));break;default:uu(t)}e=e.sibling}}function cu(e,t){for(;null!==Rs;){var n=Rs;switch(n.tag){case 0:case 11:case 15:ys(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ho(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Rs=r;else e:for(n=e;null!==Rs;){var o=(r=Rs).sibling,i=r.return;if(Ms(r),r===n){Rs=null;break e}if(null!==o){o.return=i,Rs=o;break e}Rs=i}}}var du={getCacheForType:function(e){var t=Ro(qo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ro(qo).controller.signal}},pu="function"==typeof WeakMap?WeakMap:Map,fu=0,hu=null,mu=null,gu=0,yu=0,vu=null,bu=!1,wu=!1,Su=!1,Eu=0,_u=0,Tu=0,Cu=0,Iu=0,ku=0,Au=0,xu=null,Ou=null,Nu=!1,Pu=0,Ru=0,Du=1/0,Mu=null,Lu=null,ju=0,Uu=null,qu=null,Fu=0,Hu=0,Gu=null,zu=null,Vu=0,Bu=null;function $u(){return 2&fu&&0!==gu?gu&-gu:null!==D.T?Gc():Ue()}function Wu(){if(0===ku)if(536870912&gu&&!po)ku=536870912;else{var e=Te;!(3932160&(Te<<=1))&&(Te=262144),ku=e}return null!==(e=Ri.current)&&(e.flags|=32),ku}function Ju(e,t,n){(e!==hu||2!==yu&&9!==yu)&&null===e.cancelPendingCommit||(tc(e,0),Xu(e,gu,ku,!1)),Pe(e,n),2&fu&&e===hu||(e===hu&&(!(2&fu)&&(Cu|=n),4===_u&&Xu(e,gu,ku,!1)),Mc(e))}function Ku(e,t,n){if(6&fu)throw Error(l(327));for(var r=!n&&!(127&t)&&0===(t&e.expiredLanes)||Ae(e,t),o=r?function(e,t){var n=fu;fu|=2;var r=oc(),o=ic();hu!==e||gu!==t?(Mu=null,Du=se()+500,tc(e,t)):wu=Ae(e,t);e:for(;;)try{if(0!==yu&&null!==mu){t=mu;var i=vu;t:switch(yu){case 1:yu=0,vu=null,pc(e,t,i,1);break;case 2:case 9:if(ni(i)){yu=0,vu=null,dc(t);break}t=function(){2!==yu&&9!==yu||hu!==e||(yu=7),Mc(e)},i.then(t,t);break e;case 3:yu=7;break e;case 4:yu=5;break e;case 7:ni(i)?(yu=0,vu=null,dc(t)):(yu=0,vu=null,pc(e,t,i,7));break;case 5:var a=null;switch(mu.tag){case 26:a=mu.memoizedState;case 5:case 27:var s=mu;if(a?op(a):s.stateNode.complete){yu=0,vu=null;var u=s.sibling;if(null!==u)mu=u;else{var c=s.return;null!==c?(mu=c,fc(c)):mu=null}break t}}yu=0,vu=null,pc(e,t,i,5);break;case 6:yu=0,vu=null,pc(e,t,i,6);break;case 8:ec(),_u=6;break e;default:throw Error(l(462))}}uc();break}catch(t){nc(e,t)}return Co=To=null,D.H=r,D.A=o,fu=n,null!==mu?0:(hu=null,gu=0,Or(),_u)}(e,t):ac(e,t,!0),i=r;;){if(0===o){wu&&!r&&Xu(e,t,0,!1);break}if(n=e.current.alternate,!i||Qu(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var a=0;else a=0!=(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var s=e;o=xu;var u=s.current.memoizedState.isDehydrated;if(u&&(tc(s,a).flags|=256),2!==(a=ac(s,a,!1))){if(Su&&!u){s.errorRecoveryDisabledLanes|=i,Cu|=i,o=4;break e}i=Ou,Ou=o,null!==i&&(null===Ou?Ou=i:Ou.push.apply(Ou,i))}o=a}if(i=!1,2!==o)continue}}if(1===o){tc(e,0),Xu(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:Xu(r,t,ku,!bu);break e;case 2:Ou=null;break;case 3:case 5:break;default:throw Error(l(329))}if((62914560&t)===t&&10<(o=Pu+300-se())){if(Xu(r,t,ku,!bu),0!==ke(r,0,!0))break e;Fu=t,r.timeoutHandle=Sd(Yu.bind(null,r,n,Ou,Mu,Nu,t,ku,Cu,Au,bu,i,"Throttled",-0,0),o)}else Yu(r,n,Ou,Mu,Nu,t,ku,Cu,Au,bu,i,null,-0,0)}break}o=ac(e,t,!1),i=!1}Mc(e)}function Yu(e,t,n,r,o,i,l,a,s,u,c,d,p,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){iu(t,i,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt});var h=(62914560&i)===i?Pu-se():(4194048&i)===i?Ru-se():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&sp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&sp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ip&&(ip=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],i=o.transferSize,l=o.initiatorType,a=o.duration;if(i&&a&&fd(l)){for(l=0,a=o.responseEnd,r+=1;r<n.length;r++){var s=n[r],u=s.startTime;if(u>a)break;var c=s.transferSize,d=s.initiatorType;c&&fd(d)&&(l+=c*((s=s.responseEnd)<a?1:(a-u)/(s-u)))}if(--r,t+=8*(i+l)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&sp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ip?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(d,h)))return Fu=i,e.cancelPendingCommit=h(mc.bind(null,e,t,i,n,r,o,l,a,s,c,d,null,p,f)),void Xu(e,i,l,!u)}mc(e,t,i,n,r,o,l,a,s)}function Qu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Xn(i(),o))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xu(e,t,n,r){t&=~Iu,t&=~Cu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-we(o),l=1<<i;r[i]=-1,o&=~l}0!==n&&Re(e,n,t)}function Zu(){return!!(6&fu)||(Lc(0,!1),!1)}function ec(){if(null!==mu){if(0===yu)var e=mu.return;else Co=To=null,al(e=mu),si=null,ui=0,e=mu;for(;null!==e;)ms(e.alternate,e),e=e.return;mu=null}}function tc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Ed(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Fu=0,ec(),hu=e,mu=n=Fr(e.current,null),gu=t,yu=0,vu=null,bu=!1,wu=Ae(e,t),Su=!1,Au=ku=Iu=Cu=Tu=_u=0,Ou=xu=null,Nu=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-we(r),i=1<<o;t|=e[o],r&=~i}return Eu=t,Or(),n}function nc(e,t){zi=null,D.H=ma,t===Xo||t===ei?(t=li(),yu=3):t===Zo?(t=li(),yu=4):yu=t===Pa?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,vu=t,null===mu&&(_u=1,ka(e,Jr(t,e.current)))}function rc(){var e=Ri.current;return null===e||((4194048&gu)===gu?null===Di:!!((62914560&gu)===gu||536870912&gu)&&e===Di)}function oc(){var e=D.H;return D.H=ma,null===e?ma:e}function ic(){var e=D.A;return D.A=du,e}function lc(){_u=4,bu||(4194048&gu)!==gu&&null!==Ri.current||(wu=!0),!(134217727&Tu)&&!(134217727&Cu)||null===hu||Xu(hu,gu,ku,!1)}function ac(e,t,n){var r=fu;fu|=2;var o=oc(),i=ic();hu===e&&gu===t||(Mu=null,tc(e,t)),t=!1;var l=_u;e:for(;;)try{if(0!==yu&&null!==mu){var a=mu,s=vu;switch(yu){case 8:ec(),l=6;break e;case 3:case 2:case 9:case 6:null===Ri.current&&(t=!0);var u=yu;if(yu=0,vu=null,pc(e,a,s,u),n&&wu){l=0;break e}break;default:u=yu,yu=0,vu=null,pc(e,a,s,u)}}sc(),l=_u;break}catch(t){nc(e,t)}return t&&e.shellSuspendCounter++,Co=To=null,fu=r,D.H=o,D.A=i,null===mu&&(hu=null,gu=0,Or()),l}function sc(){for(;null!==mu;)cc(mu)}function uc(){for(;null!==mu&&!le();)cc(mu)}function cc(e){var t=ls(e.alternate,e,Eu);e.memoizedProps=e.pendingProps,null===t?fc(e):mu=t}function dc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ba(n,t,t.pendingProps,t.type,void 0,gu);break;case 11:t=Ba(n,t,t.pendingProps,t.type.render,t.ref,gu);break;case 5:al(t);default:ms(n,t),t=ls(n,t=mu=Hr(t,Eu),Eu)}e.memoizedProps=e.pendingProps,null===t?fc(e):mu=t}function pc(e,t,n,r){Co=To=null,al(t),si=null,ui=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Oo(t,n,o,!0),null!==(n=Ri.current)){switch(n.tag){case 31:case 13:return null===Di?lc():null===n.alternate&&0===_u&&(_u=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===ti?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Tc(e,r,o)),!1;case 22:return n.flags|=65536,r===ti?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Tc(e,r,o)),!1}throw Error(l(435,n.tag))}return Tc(e,r,o),lc(),!1}if(po)return null!==(t=Ri.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==mo&&Eo(Jr(e=Error(l(422),{cause:r}),n))):(r!==mo&&Eo(Jr(t=Error(l(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Jr(r,n),Ei(e,o=xa(e.stateNode,r,o)),4!==_u&&(_u=2)),!1;var i=Error(l(520),{cause:r});if(i=Jr(i,n),null===xu?xu=[i]:xu.push(i),4!==_u&&(_u=2),null===t)return!0;r=Jr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,Ei(n,e=xa(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==Lu&&Lu.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Na(o=Oa(o),e,n,r),Ei(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,gu))return _u=1,ka(e,Jr(n,e.current)),void(mu=null)}catch(t){if(null!==o)throw mu=o,t;return _u=1,ka(e,Jr(n,e.current)),void(mu=null)}32768&t.flags?(po||1===r?e=!0:wu||536870912&gu?e=!1:(bu=e=!0,(2===r||9===r||3===r||6===r)&&null!==(r=Ri.current)&&13===r.tag&&(r.flags|=16384)),hc(t,e)):fc(t)}function fc(e){var t=e;do{if(32768&t.flags)return void hc(t,bu);e=t.return;var n=fs(t.alternate,t,Eu);if(null!==n)return void(mu=n);if(null!==(t=t.sibling))return void(mu=t);mu=t=e}while(null!==t);0===_u&&(_u=5)}function hc(e,t){do{var n=hs(e.alternate,e);if(null!==n)return n.flags&=32767,void(mu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mu=e);mu=e=n}while(null!==e);_u=6,mu=null}function mc(e,t,n,r,o,i,a,s,u){e.cancelPendingCommit=null;do{wc()}while(0!==ju);if(6&fu)throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(n=l&~n;0<n;){var c=31-we(n),d=1<<c;a[c]=0,s[c]=-1;var p=u[c];if(null!==p)for(u[c]=null,c=0;c<p.length;c++){var f=p[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Re(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(l&~t))}(e,n,i|=xr,a,s,u),e===hu&&(mu=hu=null,gu=0),qu=t,Uu=e,Fu=n,Hu=i,Gu=o,zu=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,oe(pe,function(){return Sc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=D.T,D.T=null,o=M.p,M.p=2,a=fu,fu|=4;try{!function(e,t){if(e=e.containerInfo,hd=bp,or(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break e}var a=0,s=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==o&&3!==p.nodeType||(s=a+o),p!==i||0!==r&&3!==p.nodeType||(u=a+r),3===p.nodeType&&(a+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===o&&(s=a),f===i&&++d===r&&(u=a),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},bp=!1,Rs=t;null!==Rs;)if(e=(t=Rs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Rs=e;else for(;null!==Rs;){switch(i=(t=Rs).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(o=e[n]).ref.impl=o.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=_a(n.type,o);e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){_c(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))xd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,Rs=e;break}Rs=t.return}}(e,t)}finally{fu=a,M.p=o,D.T=r}}ju=1,gc(),yc(),vc()}}function gc(){if(1===ju){ju=0;var e=Uu,t=qu,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=D.T,D.T=null;var r=M.p;M.p=2;var o=fu;fu|=4;try{Bs(t,e);var i=md,l=rr(e.containerInfo),a=i.focusedElem,s=i.selectionRange;if(l!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==s&&or(a)){var u=s.start,c=s.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var d=a.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var f=p.getSelection(),h=a.textContent.length,m=Math.min(s.start,h),g=void 0===s.end?m:Math.min(s.end,h);!f.extend&&m>g&&(l=g,g=m,m=l);var y=tr(a,m),v=tr(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<d.length;a++){var w=d[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}bp=!!hd,md=hd=null}finally{fu=o,M.p=r,D.T=n}}e.current=t,ju=2}}function yc(){if(2===ju){ju=0;var e=Uu,t=qu,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=D.T,D.T=null;var r=M.p;M.p=2;var o=fu;fu|=4;try{Ds(e,t.alternate,t)}finally{fu=o,M.p=r,D.T=n}}ju=3}}function vc(){if(4===ju||3===ju){ju=0,ae();var e=Uu,t=qu,n=Fu,r=zu;10256&t.subtreeFlags||10256&t.flags?ju=5:(ju=0,qu=Uu=null,bc(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Lu=null),je(n),t=t.stateNode,ve&&"function"==typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=D.T,o=M.p,M.p=2,D.T=null;try{for(var i=e.onRecoverableError,l=0;l<r.length;l++){var a=r[l];i(a.value,{componentStack:a.stack})}}finally{D.T=t,M.p=o}}3&Fu&&wc(),Mc(e),o=e.pendingLanes,261930&n&&42&o?e===Bu?Vu++:(Vu=0,Bu=e):Vu=0,Lc(0,!1)}}function bc(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Ho(t))}function wc(){return gc(),yc(),vc(),Sc()}function Sc(){if(5!==ju)return!1;var e=Uu,t=Hu;Hu=0;var n=je(Fu),r=D.T,o=M.p;try{M.p=32>n?32:n,D.T=null,n=Gu,Gu=null;var i=Uu,a=Fu;if(ju=0,qu=Uu=null,Fu=0,6&fu)throw Error(l(331));var s=fu;if(fu|=4,su(i.current),eu(i,i.current,a,n),fu=s,Lc(0,!1),ve&&"function"==typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,i)}catch(e){}return!0}finally{M.p=o,D.T=r,bc(e,t)}}function Ec(e,t,n){t=Jr(n,t),null!==(e=wi(e,t=xa(e.stateNode,t,2),2))&&(Pe(e,2),Mc(e))}function _c(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Lu||!Lu.has(r))){e=Jr(n,e),null!==(r=wi(t,n=Oa(2),2))&&(Na(n,r,t,e),Pe(r,2),Mc(r));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pu;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(Su=!0,o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,hu===e&&(gu&n)===n&&(4===_u||3===_u&&(62914560&gu)===gu&&300>se()-Pu?!(2&fu)&&tc(e,0):Iu|=n,Au===gu&&(Au=0)),Mc(e)}function Ic(e,t){0===t&&(t=Oe()),null!==(e=Rr(e,t))&&(Pe(e,t),Mc(e))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==r&&r.delete(t),Ic(e,n)}var xc=null,Oc=null,Nc=!1,Pc=!1,Rc=!1,Dc=0;function Mc(e){e!==Oc&&null===e.next&&(null===Oc?xc=Oc=e:Oc=Oc.next=e),Pc=!0,Nc||(Nc=!0,Td(function(){6&fu?oe(ce,jc):Uc()}))}function Lc(e,t){if(!Rc&&Pc){Rc=!0;do{for(var n=!1,r=xc;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var l=r.suspendedLanes,a=r.pingedLanes;i=(1<<31-we(42|e)+1)-1,i=201326741&(i&=o&~(l&~a))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Hc(r,i))}else i=gu,!(3&(i=ke(r,r===hu?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ae(r,i)||(n=!0,Hc(r,i));r=r.next}}while(n);Rc=!1}}function jc(){Uc()}function Uc(){Pc=Nc=!1;var e,t=0;0!==Dc&&((e=window.event)&&"popstate"===e.type?e!==wd&&(wd=e,1):(wd=null,0))&&(t=Dc);for(var n=se(),r=null,o=xc;null!==o;){var i=o.next,l=qc(o,n);0===l?(o.next=null,null===r?xc=i:r.next=i,null===i&&(Oc=r)):(r=o,(0!==t||3&l)&&(Pc=!0)),o=i}0!==ju&&5!==ju||Lc(t,!1),0!==Dc&&(Dc=0)}function qc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var l=31-we(i),a=1<<l,s=o[l];-1===s?0!==(a&n)&&0===(a&r)||(o[l]=xe(a,t)):s<=t&&(e.expiredLanes|=a),i&=~a}if(n=gu,n=ke(e,e===(t=hu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yu||9===yu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ae(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),je(n)){case 2:case 8:n=de;break;case 32:default:n=pe;break;case 268435456:n=he}return r=Fc.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function Fc(e,t){if(0!==ju&&5!==ju)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=gu;return 0===(r=ke(e,e===hu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Ku(e,r,t),qc(e,se()),null!=e.callbackNode&&e.callbackNode===n?Fc.bind(null,e):null)}function Hc(e,t){if(wc())return null;Ku(e,t,!0)}function Gc(){if(0===Dc){var e=Vo;0===e&&(e=_e,!(261888&(_e<<=1))&&(_e=256)),Dc=e}return Dc}function zc(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Nt(""+e)}function Vc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Bc=0;Bc<Tr.length;Bc++){var $c=Tr[Bc];Cr($c.toLowerCase(),"on"+($c[0].toUpperCase()+$c.slice(1)))}Cr(gr,"onAnimationEnd"),Cr(yr,"onAnimationIteration"),Cr(vr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(br,"onTransitionRun"),Cr(wr,"onTransitionStart"),Cr(Sr,"onTransitionCancel"),Cr(Er,"onTransitionEnd"),ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wc));function Kc(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var a=r[l],s=a.instance,u=a.currentTarget;if(a=a.listener,s!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=u;try{i(o)}catch(e){Ir(e)}o.currentTarget=null,i=s}else for(l=0;l<r.length;l++){if(s=(a=r[l]).instance,u=a.currentTarget,a=a.listener,s!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=u;try{i(o)}catch(e){Ir(e)}o.currentTarget=null,i=s}}}}function Yc(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function Qc(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Zc(e){if(!e[Xc]){e[Xc]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Jc.has(t)||Qc(t,!1,e),Qc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xc]||(t[Xc]=!0,Qc("selectionchange",!1,t))}}function ed(e,t,n,r){switch(Ip(t)){case 2:var o=wp;break;case 8:o=Sp;break;default:o=Ep}n=o.bind(null,t,n,e),o=void 0,!Gt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function td(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var a=r.stateNode.containerInfo;if(a===o)break;if(4===l)for(l=r.return;null!==l;){var u=l.tag;if((3===u||4===u)&&l.stateNode.containerInfo===o)return;l=l.return}for(;null!==a;){if(null===(l=Ye(a)))return;if(5===(u=l.tag)||6===u||26===u||27===u){r=i=l;continue e}a=a.parentNode}}r=r.return}qt(function(){var r=i,o=Dt(n),l=[];e:{var a=_r.get(e);if(void 0!==a){var u=nn,c=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":u=vn;break;case"focusin":c="focus",u=un;break;case"focusout":c="blur",u=un;break;case"beforeblur":case"afterblur":u=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=wn;break;case gr:case yr:case vr:u=cn;break;case Er:u=Sn;break;case"scroll":case"scrollend":u=on;break;case"wheel":u=En;break;case"copy":case"cut":case"paste":u=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=bn;break;case"toggle":case"beforetoggle":u=_n}var d=!!(4&t),p=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var h,m=r;null!==m;){var g=m;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===f||null!=(g=Ft(m,f))&&d.push(nd(m,g,h)),p)break;m=m.return}0<d.length&&(a=new u(a,c,null,n,o),l.push({event:a,listeners:d}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Rt||!(c=n.relatedTarget||n.fromElement)||!Ye(c)&&!c[ze])&&(u||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ye(c):null)&&(p=s(c),d=c.tag,c!==p||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=an,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),p=null==u?a:Xe(u),h=null==c?a:Xe(c),(a=new d(g,m+"leave",u,n,o)).target=p,a.relatedTarget=h,g=null,Ye(o)===r&&((d=new d(f,m+"enter",c,n,o)).target=h,d.relatedTarget=p,g=d),p=g,u&&c)e:{for(d=od,m=c,h=0,g=f=u;g;g=d(g))h++;g=0;for(var y=m;y;y=d(y))g++;for(;0<h-g;)f=d(f),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==u&&id(l,a,u,d,!1),null!==c&&null!==p&&id(l,p,c,d,!0)}if("select"===(u=(a=r?Xe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var v=Hn;else if(Mn(a))if(Gn)v=Qn;else{v=Kn;var b=Jn}else!(u=a.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&At(r.elementType)&&(v=Hn):v=Yn;switch(v&&(v=v(e,r))?Ln(l,v,n,o):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&wt(a,"number",a.value)),b=r?Xe(r):window,e){case"focusin":(Mn(b)||"true"===b.contentEditable)&&(lr=b,ar=r,sr=null);break;case"focusout":sr=ar=lr=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,cr(l,n,o);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":cr(l,n,o)}var w;if(Cn)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Rn?Nn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(An&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==S?"onCompositionEnd"===S&&Rn&&(w=Wt()):(Bt="value"in(Vt=o)?Vt.value:Vt.textContent,Rn=!0)),0<(b=rd(r,S)).length&&(S=new pn(S,e,null,n,o),l.push({event:S,listeners:b}),(w||null!==(w=Pn(n)))&&(S.data=w))),(w=kn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(On=!0,xn);case"textInput":return(e=t.data)===xn&&On?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Cn&&Nn(e,t)?(e=Wt(),$t=Bt=Vt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(S=rd(r,"onBeforeInput")).length&&(b=new pn("onBeforeInput","beforeinput",null,n,o),l.push({event:b,listeners:S}),b.data=w),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=zc((o[Ge]||null).action),l=r.submitter;l&&null!==(t=(t=l[Ge]||null)?zc(t.formAction):l.getAttribute("formAction"))&&(i=t,l=null);var a=new nn("action","action",null,r,o);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Dc){var e=l?Vc(o,l):new FormData(o);ta(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"==typeof i&&(a.preventDefault(),e=l?Vc(o,l):new FormData(o),ta(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(l,e,r,n,o)}Kc(l,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Ft(e,n))&&r.unshift(nd(e,o,i)),null!=(o=Ft(e,t))&&r.push(nd(e,o,i))),3===e.tag)return r;e=e.return}return[]}function od(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function id(e,t,n,r,o){for(var i=t._reactName,l=[];null!==n&&n!==r;){var a=n,s=a.alternate,u=a.stateNode;if(a=a.tag,null!==s&&s===r)break;5!==a&&26!==a&&27!==a||null===u||(s=u,o?null!=(u=Ft(n,i))&&l.unshift(nd(n,u,s)):o||null!=(u=Ft(n,i))&&l.push(nd(n,u,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var ld=/\r\n?/g,ad=/\u0000|\uFFFD/g;function sd(e){return("string"==typeof e?e:""+e).replace(ld,"\n").replace(ad,"")}function ud(e,t){return t=sd(t),sd(e)===t}function cd(e,t,n,r,o,i){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||Tt(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&Tt(e,""+r);break;case"className":ut(e,"class",r);break;case"tabIndex":ut(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ut(e,n,r);break;case"style":kt(e,r,i);break;case"data":if("object"!==t){ut(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&cd(e,t,"name",o.name,o,null),cd(e,t,"formEncType",o.formEncType,o,null),cd(e,t,"formMethod",o.formMethod,o,null),cd(e,t,"formTarget",o.formTarget,o,null)):(cd(e,t,"encType",o.encType,o,null),cd(e,t,"method",o.method,o,null),cd(e,t,"target",o.target,o,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"onScroll":null!=r&&Yc("scroll",e);break;case"onScrollEnd":null!=r&&Yc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(l(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Yc("beforetoggle",e),Yc("toggle",e),st(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":st(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=xt.get(n)||n,r)}}function dd(e,t,n,r,o,i){switch(n){case"style":kt(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(l(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(l(60));e.innerHTML=n}}break;case"children":"string"==typeof r?Tt(e,r):("number"==typeof r||"bigint"==typeof r)&&Tt(e,""+r);break;case"onScroll":null!=r&&Yc("scroll",e);break;case"onScrollEnd":null!=r&&Yc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"==typeof(i=null!=(i=e[Ge]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):st(e,n,r):("function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function pd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yc("error",e),Yc("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:cd(e,t,r,a,n,null)}}return i&&cd(e,t,"srcSet",n.srcSet,n,null),void(o&&cd(e,t,"src",n.src,n,null));case"input":Yc("invalid",e);var s=r=a=i=null,u=null,c=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(l(137,t));break;default:cd(e,t,o,d,n,null)}}return void bt(e,r,s,u,c,a,i,!1);case"select":for(i in Yc("invalid",e),o=a=r=null,n)if(n.hasOwnProperty(i)&&null!=(s=n[i]))switch(i){case"value":r=s;break;case"defaultValue":a=s;break;case"multiple":o=s;default:cd(e,t,i,s,n,null)}return t=r,n=a,e.multiple=!!o,void(null!=t?St(e,!!o,t,!1):null!=n&&St(e,!!o,n,!0));case"textarea":for(a in Yc("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(a)&&null!=(s=n[a]))switch(a){case"value":o=s;break;case"defaultValue":i=s;break;case"children":r=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(l(91));break;default:cd(e,t,a,s,n,null)}return void _t(e,o,i,r);case"option":for(u in n)n.hasOwnProperty(u)&&null!=(o=n[u])&&("selected"===u?e.selected=o&&"function"!=typeof o&&"symbol"!=typeof o:cd(e,t,u,o,n,null));return;case"dialog":Yc("beforetoggle",e),Yc("toggle",e),Yc("cancel",e),Yc("close",e);break;case"iframe":case"object":Yc("load",e);break;case"video":case"audio":for(o=0;o<Wc.length;o++)Yc(Wc[o],e);break;case"image":Yc("error",e),Yc("load",e);break;case"details":Yc("toggle",e);break;case"embed":case"source":case"link":Yc("error",e),Yc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:cd(e,t,c,o,n,null)}return;default:if(At(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(o=n[d])&&dd(e,t,d,o,n,void 0);return}}for(s in n)n.hasOwnProperty(s)&&null!=(o=n[s])&&cd(e,t,s,o,n,null)}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var hd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wd=null,Sd="function"==typeof setTimeout?setTimeout:void 0,Ed="function"==typeof clearTimeout?clearTimeout:void 0,_d="function"==typeof Promise?Promise:void 0,Td="function"==typeof queueMicrotask?queueMicrotask:void 0!==_d?function(e){return _d.resolve(null).then(e).catch(Cd)}:Sd;function Cd(e){setTimeout(function(){throw e})}function Id(e){return"head"===e}function kd(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void Vp(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Ud(e.ownerDocument.documentElement);else if("head"===n){Ud(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var l=i.nextSibling,a=i.nodeName;i[Je]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=l}}else"body"===n&&Ud(e.ownerDocument.body);n=o}while(n);Vp(t)}function Ad(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function xd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xd(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Od(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}function Nd(e){return"$?"===e.data||"$~"===e.data}function Pd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Rd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Dd=null;function Md(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Rd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function jd(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function Ud(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ke(e)}var qd=new Map,Fd=new Set;function Hd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Gd=M.d;M.d={f:function(){var e=Gd.f(),t=Zu();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):Gd.r(e)},D:function(e){Gd.D(e),Vd("dns-prefetch",e,null)},C:function(e,t){Gd.C(e,t),Vd("preconnect",e,t)},L:function(e,t,n){Gd.L(e,t,n);var r=zd;if(r&&e&&t){var o='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(o+='[imagesizes="'+yt(n.imageSizes)+'"]')):o+='[href="'+yt(e)+'"]';var i=o;switch(t){case"style":i=$d(e);break;case"script":i=Kd(e)}qd.has(i)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),qd.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Wd(i))||"script"===t&&r.querySelector(Yd(i))||(pd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Gd.m(e,t);var n=zd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Kd(e)}if(!qd.has(i)&&(e=f({rel:"modulepreload",href:e},t),qd.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yd(i)))return}pd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Gd.X(e,t);var n=zd;if(n&&e){var r=Ze(n).hoistableScripts,o=Kd(e),i=r.get(o);i||((i=n.querySelector(Yd(o)))||(e=f({src:e,async:!0},t),(t=qd.get(o))&&ep(e,t),et(i=n.createElement("script")),pd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Gd.S(e,t,n);var r=zd;if(r&&e){var o=Ze(r).hoistableStyles,i=$d(e);t=t||"default";var l=o.get(i);if(!l){var a={loading:0,preload:null};if(l=r.querySelector(Wd(i)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=qd.get(i))&&Zd(e,n);var s=l=r.createElement("link");et(s),pd(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){a.loading|=1}),s.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Xd(l,t,r)}l={type:"stylesheet",instance:l,count:1,state:a},o.set(i,l)}}},M:function(e,t){Gd.M(e,t);var n=zd;if(n&&e){var r=Ze(n).hoistableScripts,o=Kd(e),i=r.get(o);i||((i=n.querySelector(Yd(o)))||(e=f({src:e,async:!0,type:"module"},t),(t=qd.get(o))&&ep(e,t),et(i=n.createElement("script")),pd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var zd="undefined"==typeof document?null:document;function Vd(e,t,n){var r=zd;if(r&&"string"==typeof t&&t){var o=yt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"==typeof n&&(o+='[crossorigin="'+n+'"]'),Fd.has(o)||(Fd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(pd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Bd(e,t,n,r){var o,i,a,s,u=(u=$.current)?Hd(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=$d(n.href),(r=(n=Ze(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=$d(n.href);var c=Ze(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Wd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),qd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qd.set(e,n),c||(o=u,i=e,a=n,s=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=o.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),pd(i,"link",a),et(i),o.head.appendChild(i))))),t&&null===r)throw Error(l(528,""));return d}if(t&&null!==r)throw Error(l(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Kd(n),(r=(n=Ze(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function $d(e){return'href="'+yt(e)+'"'}function Wd(e){return'link[rel="stylesheet"]['+e+"]"}function Jd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Kd(e){return'[src="'+yt(e)+'"]'}function Yd(e){return"script[async]"+e}function Qd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var o=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),pd(r,"style",o),Xd(r,n.precedence,e),t.instance=r;case"stylesheet":o=$d(n.href);var i=e.querySelector(Wd(o));if(i)return t.state.loading|=4,t.instance=i,et(i),i;r=Jd(n),(o=qd.get(o))&&Zd(r,o),et(i=(e.ownerDocument||e).createElement("link"));var a=i;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),pd(i,"link",r),t.state.loading|=4,Xd(i,n.precedence,e),t.instance=i;case"script":return i=Kd(n.src),(o=e.querySelector(Yd(i)))?(t.instance=o,et(o),o):(r=n,(o=qd.get(i))&&ep(r=f({},n),o),et(o=(e=e.ownerDocument||e).createElement("script")),pd(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Xd(r,n.precedence,e));return t.instance}function Xd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,l=0;l<r.length;l++){var a=r[l];if(a.dataset.precedence===t)i=a;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ep(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tp=null;function np(e,t,n){if(null===tp){var r=new Map,o=tp=new Map;o.set(n,r)}else(r=(o=tp).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Je]||i[He]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var l=i.getAttribute(t)||"";l=e+l;var a=r.get(l);a?a.push(i):r.set(l,[i])}}return r}function rp(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function op(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var ip=0;function lp(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)sp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ap=null;function sp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ap=new Map,t.forEach(up,e),ap=null,lp.call(e))}function up(e,t){if(!(4&t.state.loading)){var n=ap.get(e);if(n)var r=n.get(null);else{n=new Map,ap.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var l=o[i];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}l=(o=t.instance).getAttribute("data-precedence"),(i=n.get(l)||r)===r&&n.set(null,o),n.set(l,o),this.count++,r=lp.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var cp={$$typeof:S,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function dp(e,t,n,r,o,i,l,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function pp(e,t,n,r,o,i,l,a,s,u,c,d){return e=new dp(e,t,n,l,s,u,c,d,a),t=1,!0===i&&(t|=24),i=Ur(3,null,null,t),e.current=i,i.stateNode=e,(t=Fo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},yi(i),e}function fp(e){return e?e=Lr:Lr}function hp(e,t,n,r,o,i){o=fp(o),null===r.context?r.context=o:r.pendingContext=o,(r=bi(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=wi(e,r,t))&&(Ju(n,0,t),Si(n,e,t))}function mp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gp(e,t){mp(e,t),(e=e.alternate)&&mp(e,t)}function yp(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Ju(t,0,67108864),gp(e,67108864)}}function vp(e){if(13===e.tag||31===e.tag){var t=$u(),n=Rr(e,t=Le(t));null!==n&&Ju(n,0,t),gp(e,t)}}var bp=!0;function wp(e,t,n,r){var o=D.T;D.T=null;var i=M.p;try{M.p=2,Ep(e,t,n,r)}finally{M.p=i,D.T=o}}function Sp(e,t,n,r){var o=D.T;D.T=null;var i=M.p;try{M.p=8,Ep(e,t,n,r)}finally{M.p=i,D.T=o}}function Ep(e,t,n,r){if(bp){var o=_p(r);if(null===o)td(e,t,r,Tp,n),Mp(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Ap=Lp(Ap,e,t,n,r,o),!0;case"dragenter":return xp=Lp(xp,e,t,n,r,o),!0;case"mouseover":return Op=Lp(Op,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Np.set(i,Lp(Np.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Pp.set(i,Lp(Pp.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Mp(e,r),4&t&&-1<Dp.indexOf(e)){for(;null!==o;){var i=Qe(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var l=Ie(i.pendingLanes);if(0!==l){var a=i;for(a.pendingLanes|=2,a.entangledLanes|=2;l;){var s=1<<31-we(l);a.entanglements[1]|=s,l&=~s}Mc(i),!(6&fu)&&(Du=se()+500,Lc(0,!1))}}break;case 31:case 13:null!==(a=Rr(i,2))&&Ju(a,0,2),Zu(),gp(i,2)}if(null===(i=_p(r))&&td(e,t,r,Tp,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else td(e,t,r,null,n)}}function _p(e){return Cp(e=Dt(e))}var Tp=null;function Cp(e){if(Tp=null,null!==(e=Ye(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Tp=e,null}function Ip(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case ce:return 2;case de:return 8;case pe:case fe:return 32;case he:return 268435456;default:return 32}default:return 32}}var kp=!1,Ap=null,xp=null,Op=null,Np=new Map,Pp=new Map,Rp=[],Dp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mp(e,t){switch(e){case"focusin":case"focusout":Ap=null;break;case"dragenter":case"dragleave":xp=null;break;case"mouseover":case"mouseout":Op=null;break;case"pointerover":case"pointerout":Np.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pp.delete(t.pointerId)}}function Lp(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=Qe(t))&&yp(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function jp(e){var t=Ye(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void qe(e.priority,function(){vp(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void qe(e.priority,function(){vp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Up(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_p(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&yp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function qp(e,t,n){Up(e)&&n.delete(t)}function Fp(){kp=!1,null!==Ap&&Up(Ap)&&(Ap=null),null!==xp&&Up(xp)&&(xp=null),null!==Op&&Up(Op)&&(Op=null),Np.forEach(qp),Pp.forEach(qp)}function Hp(e,t){e.blockedOn===t&&(e.blockedOn=null,kp||(kp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fp)))}var Gp=null;function zp(e){Gp!==e&&(Gp=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gp===e&&(Gp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!=typeof r){if(null===Cp(r||n))continue;break}var i=Qe(n);null!==i&&(e.splice(t,3),t-=3,ta(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Vp(e){function t(t){return Hp(t,e)}null!==Ap&&Hp(Ap,e),null!==xp&&Hp(xp,e),null!==Op&&Hp(Op,e),Np.forEach(t),Pp.forEach(t);for(var n=0;n<Rp.length;n++){var r=Rp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Rp.length&&null===(n=Rp[0]).blockedOn;)jp(n),null===n.blockedOn&&Rp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],l=o[Ge]||null;if("function"==typeof i)l||zp(n);else if(l){var a=null;if(i&&i.hasAttribute("formAction")){if(o=i,l=i[Ge]||null)a=l.formAction;else if(null!==Cp(o))continue}else a=l.action;"function"==typeof a?n[r+1]=a:(n.splice(r,3),r-=3),zp(n)}}}function Bp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function $p(e){this._internalRoot=e}function Wp(e){this._internalRoot=e}Wp.prototype.render=$p.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));hp(t.current,$u(),e,t,null,null)},Wp.prototype.unmount=$p.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hp(e.current,2,null,e,null,null),Zu(),t[ze]=null}},Wp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rp.length&&0!==t&&t<Rp[n].priority;n++);Rp.splice(n,0,e),0===n&&jp(e)}};var Jp=o.version;if("19.2.3"!==Jp)throw Error(l(527,Jp,"19.2.3"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return d(o),e;if(i===r)return d(o),t;i=i.sibling}throw Error(l(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a){for(u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?p(e):null)?null:e.stateNode};var Kp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{ye=Yp.inject(Kp),ve=Yp}catch(e){}}t.createRoot=function(e,t){if(!a(e))throw Error(l(299));var n=!1,r="",o=Ta,i=Ca,s=Ia;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=pp(e,1,!1,null,0,n,r,null,o,i,s,Bp),e[ze]=t.current,Zc(e),new $p(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(l(299));var r=!1,o="",i=Ta,s=Ca,u=Ia,c=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=pp(e,1,!0,t,0,r,o,c,i,s,u,Bp)).context=fp(null),n=t.current,(o=bi(r=Le(r=$u()))).callback=null,wi(n,o,r),n=r,t.current.lanes=n,Pe(t,n),Mc(t),e[ze]=t.current,Zc(e),new Wp(t)},t.version="19.2.3"},338(e,t,n){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(247)},477(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,l=o>>>1;r<l;){var a=2*(r+1)-1,s=e[a],u=a+1,c=e[u];if(0>i(s,n))u<o&&0>i(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[a]=n,r=a);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var u=[],c=[],d=1,p=null,f=3,h=!1,m=!1,g=!1,y=!1,v="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function S(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,S(e),!m)if(null!==r(u))m=!0,T||(T=!0,_());else{var t=r(c);null!==t&&P(E,t.startTime-e)}}var _,T=!1,C=-1,I=5,k=-1;function A(){return!(!y&&t.unstable_now()-k<I)}function x(){if(y=!1,T){var e=t.unstable_now();k=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(C),C=-1),h=!0;var i=f;try{t:{for(S(e),p=r(u);null!==p&&!(p.expirationTime>e&&A());){var l=p.callback;if("function"==typeof l){p.callback=null,f=p.priorityLevel;var a=l(p.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof a){p.callback=a,S(e),n=!0;break t}p===r(u)&&o(u),S(e)}else o(u);p=r(u)}if(null!==p)n=!0;else{var s=r(c);null!==s&&P(E,s.startTime-e),n=!1}}break e}finally{p=null,f=i,h=!1}n=void 0}}finally{n?_():T=!1}}}if("function"==typeof w)_=function(){w(x)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,N=O.port2;O.port1.onmessage=x,_=function(){N.postMessage(null)}}else _=function(){v(x,0)};function P(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var l=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?l+i:l,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>l?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(g?(b(C),C=-1):g=!0,P(E,i-l))):(e.sortIndex=a,n(u,e),m||h||(m=!0,T||(T=!0,_()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},540(e,t,n){e.exports=n(869)},698(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},848(e,t,n){e.exports=n(698)},869(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),h=Symbol.iterator,m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var S=w.prototype=new b;S.constructor=w,g(S,v.prototype),S.isPureReactComponent=!0;var E=Array.isArray;function _(){}var T={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(e,t,r){var o=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==o?o:null,props:r}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function x(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function O(e,t,o,i,l){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var s,u,c=!1;if(null===e)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case p:return O((c=e._init)(e._payload),t,o,i,l)}}if(c)return l=l(e),c=""===i?"."+x(e,0):i,E(l)?(o="",null!=c&&(o=c.replace(A,"$&/")+"/"),O(l,t,o,"",function(e){return e})):null!=l&&(k(l)&&(s=l,u=o+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(A,"$&/")+"/")+c,l=I(s.type,u,s.props)),t.push(l)),1;c=0;var d,f=""===i?".":i+":";if(E(e))for(var m=0;m<e.length;m++)c+=O(i=e[m],t,o,a=f+x(i,m),l);else if("function"==typeof(m=null===(d=e)||"object"!=typeof d?null:"function"==typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)c+=O(i=i.value,t,o,a=f+x(i,m++),l);else if("object"===a){if("function"==typeof e.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function N(e,t,n){if(null==e)return e;var r=[],o=0;return O(e,r,"","",function(e){return t.call(n,e,o++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},D={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=D,t.Component=v,t.Fragment=o,t.Profiler=l,t.PureComponent=w,t.StrictMode=i,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return T.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)!C.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var l=Array(i),a=0;a<i;a++)l[a]=arguments[a+2];r.children=l}return I(e.type,o,r)},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)C.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var a=Array(l),s=0;s<l;s++)a[s]=arguments[s+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return I(e,i,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.T,n={};T.T=n;try{var r=e(),o=T.S;null!==o&&o(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(_,R)}catch(e){R(e)}finally{null!==t&&null!==n.types&&(t.types=n.types),T.T=t}},t.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},t.use=function(e){return T.H.use(e)},t.useActionState=function(e,t,n){return T.H.useActionState(e,t,n)},t.useCallback=function(e,t){return T.H.useCallback(e,t)},t.useContext=function(e){return T.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return T.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return T.H.useEffect(e,t)},t.useEffectEvent=function(e){return T.H.useEffectEvent(e)},t.useId=function(){return T.H.useId()},t.useImperativeHandle=function(e,t,n){return T.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.H.useMemo(e,t)},t.useOptimistic=function(e,t){return T.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return T.H.useReducer(e,t,n)},t.useRef=function(e){return T.H.useRef(e)},t.useState=function(e){return T.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.H.useTransition()},t.version="19.2.3"},961(e,t,n){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(221)},982(e,t,n){e.exports=n(477)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}var r,o=n(540),i=n(338),l=n(848);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){var t=function(e){return e[e.AppIcon=0]="AppIcon",e[e.Settings=1]="Settings",e[e.TrashCan=2]="TrashCan",e[e.Dashboard=3]="Dashboard",e[e.Templates=4]="Templates",e[e.QuickResponse=5]="QuickResponse",e[e.Ticket=6]="Ticket",e}({});e.ID=t;var n=e.icons=s(s(s(s(s(s(s({},t.AppIcon,(0,l.jsx)("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L12 3Z"})),t.Settings,(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),(0,l.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})),t.TrashCan,(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M3 6h18"}),(0,l.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,l.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,l.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,l.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})),t.Dashboard,(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),(0,l.jsx)("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),(0,l.jsx)("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),(0,l.jsx)("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]})),t.Templates,(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),(0,l.jsx)("path",{d:"M3 9h18"}),(0,l.jsx)("path",{d:"M9 21V9"})]})),t.QuickResponse,(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),(0,l.jsx)("path",{d:"m13 7-6 5h4l-2 5 6-5h-4l2-5z"})]})),t.Ticket,(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),(0,l.jsx)("path",{d:"M13 5v2"}),(0,l.jsx)("path",{d:"M13 17v2"}),(0,l.jsx)("path",{d:"M13 11v2"})]}));e.Svg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n[e]})},e.SvgGroup=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:scale-".concat(o),children:n[e]})}}(r||(r={}));const u=r;function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="configs",g={apiKey:"",theme:"d",agtName:"x__AGENT_NAME__x",cxName:"x__CUSTOMER_NAME__x",totalResponseGen:0,totalTemplatesCopied:0,bRandomTmpVariant:!0},y=function(){var e=g;try{var t=localStorage.getItem(m);t&&(e=f(f({},e),JSON.parse(t)))}catch(e){console.error("Failed to parse configs while loading: ",e)}return e},v=y(),b=function(e){v=f(f({},v),e);try{localStorage.setItem(m,JSON.stringify(v))}catch(e){console.error("Failed to save configs: ",e)}T()},w=function(){return v.apiKey&&v.apiKey.length>38},S=function(){return b({totalTemplatesCopied:v.totalTemplatesCopied+1})},E=function(){return b({totalResponseGen:v.totalResponseGen+1})},_=new Set,T=function(){return _.forEach(function(e){return e(v)})},C=function(){var e,t,n=(e=(0,o.useState)(v),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],i=n[1];return(0,o.useEffect)(function(){i(v),_.add(i);var e=function(e){e.key===m&&(v=y(),i(v),T())};return window.addEventListener("storage",e),function(){_.delete(i),window.removeEventListener("storage",e)}},[]),r},I=function(e){return e.DASHBOARD="dashboard",e.QUICK_RESP="qResp",e.ASSISTANT="assistant",e.CHAT_TEMPLATES="templates",e.SETTINGS="settings",e}({});const k=function(){var e=C();return(0,l.jsxs)("div",{className:"m-4 space-y-8 animate-fadeIn",children:[(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Templates Copied",value:e.totalTemplatesCopied,change:"0",color:"blue"},{label:"Total Responses Generated",value:e.totalResponseGen,change:"0",color:"blue"}].map(function(e,t){return(0,l.jsxs)("div",{title:"Key Metric: ".concat(e.label),className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-all",children:[(0,l.jsx)("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:e.label}),(0,l.jsxs)("div",{className:"flex items-end justify-between mt-2",children:[(0,l.jsx)("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:e.value}),(0,l.jsx)("span",{className:"text-xs font-bold px-2 py-1 rounded ".concat(e.change.startsWith("+")?"bg-green-50 text-green-600 dark:bg-green-900/30 dark:text-green-400":"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400"),title:"Change from previous period",children:e.change})]})]},t)})}),(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-8"})]})};var A=[{key:"x__AGENT_NAME__x",val:v.agtName},{key:"x__CUSTOMER_NAME__x",val:v.cxName},{key:"x__AIRLINE_NAME__x",val:v.cxName}];function x(e){try{for(var t,n=v.bRandomTmpVariant?e.variants[(o=e.variants.length-1,i=o,Math.floor(Math.random()*(i-0+1))+0)]:e.variants[0],r=0;r<A.length;++r)t=A[r],n=n.replace(t.key,t.val);return n}catch(t){console.error("Failed to replace placeholders in TID: ".concat(e.id))}var o,i;return""}var O=function(e){return e.GREETING="Greeting",e.SORRY="Sorry",e.WAIT="Wait",e.THANKS="Thanks",e.QUESTION="Question",e.CLOSING="Closing",e.REDIRECT="Redirect",e.INFO="Info",e.CUSTOM="Custom",e}({}),N=[{cat:O.GREETING,catBgClr:"emerald-700",catTxtClr:"white"},{cat:O.SORRY,catBgClr:"orange-600",catTxtClr:"white"},{cat:O.WAIT,catBgClr:"amber-400",catTxtClr:"white"},{cat:O.THANKS,catBgClr:"emerald-500",catTxtClr:"white"},{cat:O.QUESTION,catBgClr:"blue-500",catTxtClr:"white"},{cat:O.CLOSING,catBgClr:"red-500",catTxtClr:"white"},{cat:O.REDIRECT,catBgClr:"purple-500",catTxtClr:"white"},{cat:O.INFO,catBgClr:"slate-500",catTxtClr:"white"},{cat:O.CUSTOM,catBgClr:"slate-400",catTxtClr:"white"}],P=[{category:O.GREETING,title:"Greeting",titleClr:"emerald-600",variants:["Hi there! Thanks for reaching out to us today.\r\nMy name is x__AGENT_NAME__x, How are you doing?\r\nI hope you're having a good day! "]},{category:O.GREETING,title:"How Help",titleClr:"emerald-500",variants:["How may I help you today?","How can I help you today?"]},{category:O.CUSTOM,title:"Sure",titleClr:"emerald-500",variants:["Sure!","Sure thing!"]},{category:O.SORRY,title:"Sorry",variants:["I'm really sorry for that.","I'm truly sorry for that."]},{category:O.SORRY,title:"Sorry Delay",titleClr:"amber-300",variants:["So sorry for the delay.","I'm sorry for the delay.","I apologize for the wait and appreciate your patience.","Thank you for waiting; I'm so sorry for the delay in my response.","I appreciate your patience during the wait."]},{category:O.SORRY,title:"Sorry Delay Working",titleClr:"red-400",variants:["Sorry for the delay, Still working on it.","Sorry for the delay, I'm still working on it.","I'm so sorry for the delay, Still working on it.","I'm so sorry for the delay, I'm still working on it.","I apologize for the delay. I am still looking into this for you and appreciate your patience.","Thank you for waiting. I'm still working on your request and will have an update shortly.","I appreciate your patience while I work on this. I'm still on the case and will be with you in just a moment!"]},{category:O.SORRY,title:"Sorry you had...",titleClr:"amber-300",variants:["I understand, and I'm really sorry that you had to go through that.","I completely understand, and I'm truly sorry for the frustration this has caused you.","I hear you, and I sincerely apologize for the experience you've had.","I understand, and I'm really sorry that you had that experience."]},{category:O.WAIT,title:"Wait",titleClr:"amber-600",variants:["Please allow me a moment.","Please allow me just a moment."]},{category:O.WAIT,title:"Wait Load Book",titleClr:"amber-300",variants:["Please allow me a moment to load the booking details for you.","Please allow me just a moment to load the booking details for you."]},{category:O.WAIT,title:"Wait Process",titleClr:"amber-400",variants:["Please allow me 3-5 minutes to process your request, and I'll update you as soon as possible.","Please allow me 3-5 minutes, and I'll update you as soon as possible.","Please allow me 3-5 minutes to process your request, and I'll get back to you as soon as possible.","Please allow me 3-5 minutes, and I'll get back to you as soon as possible."]},{category:O.THANKS,title:"Thanks",variants:["Thanks!","Thank you!"]},{category:O.THANKS,title:"Thanks Confirm",titleClr:"emerald-500",variants:["Thank you for confirming.","Thanks for confirming."]},{category:O.THANKS,title:"Thanks Patience",titleClr:"amber-300",variants:["Thank you for your patience.","Thank you so much for your patience.","Thank you for your patience, and sorry for the delay.","Thank you for your patience, and so sorry for the delay."]},{category:O.THANKS,title:"Thanks Understanding",titleClr:"red-400",variants:["Thanks for undertanding.","Thank you for undertanding."]},{category:O.QUESTION,title:"Confirm Book Flight?",variants:["This is the flight, Correct?\n\n","This is the flight we are talking about, Correct?\r\n\r\n","Just to confirm, This is the flight we are talking about, Correct?\r\n\r\n"]},{category:O.QUESTION,title:"Anything Else?",variants:["Anything else I can help you with today, Will be happy to help?","Anything else I can help you with today, I'd be happy to help?","Anything else I can help you with today, I'd love to help?","Is there anything else I can help you with today, Will be happy to help?","Is there anything else I can help you with today, I'd be happy to help?","Is there anything else I can help you with today, I'd love to help?"]},{category:O.QUESTION,title:"Any Question?",variants:["Any other inquiries, questions or requests I can help with, I'd love to help?","Any other inquiries, questions or requests I can help with, I'd be happy to help?","Any other inquiries, questions or requests I can help with, Will be happy to help?","Any other inquiries, questions or requests I can help with, I'd be glad to help?","Any other inquiries, questions or requests I can help with, Will be glad to help?","May I know if you have any other inquiries, questions or requests I can help with, I'd love to help?","May I know if you have any other inquiries, questions or requests I can help with, I'd be happy to help?","May I know if you have any other inquiries, questions or requests I can help with, Will be happy to help?","May I know if you have any other inquiries, questions or requests I can help with, I'd glad to help?","May I know if you have any other inquiries, questions or requests I can help with, Will be glad to help?"]},{category:O.CLOSING,title:"Closing Positive",titleClr:"emerald-500",variants:["I'm glad I could help you with your request today, Please contact us again if you have any more inquiries or question, and we will be happy to help.\nAny feedback about our interaction today is very much appreciated.\nThank you for contacting us, Have a lovely day.","I'm glad I could help! Please reach out if you have any other questions, we're always happy to assist.\nWe'd also love to hear your feedback on our chat today.\nHave a lovely day!","Happy to help! Feel free to contact us again if you need anything else.\nYour feedback is always appreciated.\nThanks for chatting with us, and have a great day!","It was a pleasure assisting you today.\nIf you have more questions, don't hesitate to reach us again.\nWe value your feedback on this interaction.\nHave a wonderful day!"]},{category:O.CLOSING,title:"Closing Neutral",titleClr:"amber-400",variants:["It was lovely chatting with you, Thank you for reaching out.\nHave a nice day.","It was lovely chatting with you, Thank you for reaching out.\nHave a great day.","It was lovely chatting with you, Thank you for reaching out.\nHave a lovely day.","It was lovely chatting with you, Thank you for reaching out to us.\nHave a nice day.","It was lovely chatting with you, Thank you for reaching out to us.\nHave a great day.","It was lovely chatting with you, Thank you for reaching out to us.\nHave a lovely day.","It was a pleasure chatting with you!\nThank you for reaching out, and have a wonderful day.","I enjoyed chatting with you today.\nThanks for contacting us, and have a great day!"]},{category:O.CLOSING,title:"Closing Negative",titleClr:"red-500",variants:["I'm sorry I coundn't be of more help, Please don't hesitate to contact us again if you have more inquiries, questions or requests.\nThank you for contacting us, Have a great day.","I apologize that I couldn't provide a complete solution today. Please feel free to reach out if you have any further questions or need additional support.\nThank you for contacting us, and have a wonderful day!","I apologize I couldn't assist further today. Please reach out anytime if you have more questions. We're happy to help!\nThanks for contacting us, Have a wonderful day.","I'm sorry I couldn't do more for you right now. Feel free to chat back if anything else comes up.\nThanks for reaching out and have a great one!","I appreciate your patience, Please don't hesitate to contact us again if you need anything else.\nHave a lovely day!"]},{category:O.REDIRECT,title:"NDC",variants:["I've reviewed your booking, To make sure you get the best support, I'm going to loop in our specialized team.\nPlease keep the chat window open; an agent will be connected with you in just a moment to help, Thank you.","I've reviewed your booking and want to ensure you get the best support, I'm connecting you with our specialized team now, please keep the chat window open, and an agent will be with you shortly.\nThank you!","To better assist you with your booking, I'm looping in a specialist.\nPlease keep the chat window open; someone will be with you in just a moment.\nThanks for your patience!","I'm transferring you to our expert team to assist with your booking request.\nPlease stay connected, and an agent will join the chat shortly to help.\nThank you!"]},{category:O.REDIRECT,title:"LCC",variants:["I've checked your booking details, the airline doesn't allow us access on their systems to do any changes, reissue tickets, etc.,\nI'm afraid that you'll have to reach out to the airline directly regarding that matter.",,"I've reviewed your booking and found that the airline restricts third-party changes to this ticket (doesn't allow us access).\nTo assist with reissuing or modifications, please reach out to the airline directly.","Your booking details indicate that all changes must be handled by the airline directly. The airline doesn't allow us access on their system to modify or reissue this ticket.\nI recommend reaching out to them directly for further assistance."]},{category:O.INFO,title:"FTC",variants:["Future Travel Credit (FTC) Rules:\n- Must be for same person, airline, and country of origin\n- Trip must be completed within 12 months from [Date of Issueance/Departure Date]\n- Taxes and Fees of rebooking/reissuance + the Price Difference of the new booking (if any), apply at the time of rebooking\n\nHow to use:\nTo redeem/rebook the credit, simply contact us and we will be happy to rebook it for you."]},{category:O.INFO,title:"Dates Prices Avail",variants:["Please note that booking dates are subject to availability, And price may change at any time as it's a live inventory, meaning if someone booked that specific item it may not be available anymore.","Please note that our live inventory is subject to change.\nRates and availability may fluctuate in real-time until your booking is confirmed.","Availability and pricing are live and can change at any time, meaning if someone booked that specific item it may not be available anymore.\nI recommend booking soon to secure your preferred dates and rates!","Just a heads-up, our inventory updates in real-time (live inventory).\nThis means prices and availability may change as others book."]},{category:O.INFO,title:"Airline Approval",variants:["Please note that it's subject to airline's approval and availability.","Please note that it's subject to airline's availability and approval.","Please note that this is subject to airline's approval and availability.","Please note that this is subject to airline's availability and approval."]}];function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){L(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function L(e,t,n){return(t=function(e){var t=function(e){if("object"!=R(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==R(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return F(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var H=0;P.map(function(e){return e.id=H++});const G=function(){var e=C(),t=U((0,o.useState)(P),2),n=t[0],r=t[1],i=U((0,o.useState)(!1),2),a=i[0],s=i[1],c=U((0,o.useState)(null),2),d=c[0],p=c[1],f=U((0,o.useState)(null),2),h=f[0],m=f[1],g=U((0,o.useState)({category:O.CUSTOM,title:"",variants:[""]}),2),y=g[0],b=g[1];(0,o.useEffect)(function(){var t;void 0===(t=e)&&(t=v),A[0].val=t.agtName,A[1].val=v.cxName},[e]);var w=function(){return s(!1)},E=function(e){e?(p(e),b({title:e.title,variants:e.variants,category:e.category})):(p(null),b({title:"",variants:[""],category:O.CUSTOM})),s(!0)};return(0,l.jsxs)("div",{id:"tab-root",className:"w-full h-full flex flex-col p-1 animate-fadeIn relative",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-2 overflow-y-auto p-1 pr-3 pb-8 min-h-0",children:[n.map(function(e){return function(e){return(0,l.jsxs)("button",{className:"bg-white hover:bg-slate-300 dark:bg-slate-900 dark:hover:bg-slate-800 p-2 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-xl hover:scale-105 transition-all flex flex-col group",onClick:function(){return function(e){navigator.clipboard.writeText(x(e)),S(),m(e.id),setTimeout(function(){return m(null)},2e3)}(e)},draggable:!0,onDragStart:function(t){return function(e,t){e.dataTransfer.setData("text/plain",x(t)),S(),m(t.id),setTimeout(function(){return m(null)},2e3)}(t,e)},children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[N.filter(function(t){return t.cat===e.category}).map(function(t){return(0,l.jsx)("span",{className:"px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider bg-".concat(t.catBgClr," text-").concat(t.catTxtClr),children:e.category},"template-category")}),(0,l.jsx)("span",{id:"copied-alert",className:"px-2 rounded-lg bg-emerald-500 text-white shadow-lg shadow-emerald-500/30 text-[10px] uppercase tracking-wider ".concat(h===e.id?"":"hidden"),children:"Copied!"}),(0,l.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,l.jsx)("button",{onClick:function(t){t.stopPropagation(),E(e)},className:"p-1 text-slate-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Template",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})}),(0,l.jsx)("button",{onClick:function(t){var o;t.stopPropagation(),o=e.id,window.confirm("Are you sure you want to delete this template?")&&r(n.filter(function(e){return e.id!==o}))},className:"p-1 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Template",children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M3 6h18"}),(0,l.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,l.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]})]})," ",(0,l.jsx)("h4",{className:"text-md font-bold text-".concat(e.titleClr?e.titleClr:"slate-400"," line-clamp-1"),children:e.title}),(0,l.jsx)("p",{className:"text-slate-500 dark:text-slate-500 text-sm leading-relaxed flex-1 whitespace-pre-wrap line-clamp-5 text-left",children:e.variants[0]})]},e.id)}(e)}),(0,l.jsxs)("button",{onClick:function(e){e.stopPropagation(),E()},className:"border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-[2rem] p-6 flex flex-col items-center justify-center text-slate-300 dark:text-slate-700 hover:border-blue-400 dark:hover:border-blue-600 hover:text-blue-500 dark:hover:text-blue-500 transition-all group",children:[(0,l.jsx)("div",{className:"w-16 h-16 rounded-full bg-slate-50 dark:bg-slate-900 group-hover:bg-blue-50 dark:group-hover:bg-blue-900/20 flex items-center justify-center transition-colors mb-4",children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("line",{x1:"12",x2:"12",y1:"5",y2:"19"}),(0,l.jsx)("line",{x1:"5",x2:"19",y1:"12",y2:"12"})]})}),(0,l.jsx)("span",{className:"font-black uppercase tracking-widest text-xs",children:"Create Template"})]}),(0,l.jsxs)("button",{onClick:function(e){e.stopPropagation()},className:"border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-[2rem] p-6 flex flex-col items-center justify-center text-slate-300 dark:text-slate-700 hover:border-blue-400 dark:hover:border-blue-600 hover:text-blue-500 dark:hover:text-blue-500 transition-all group",children:[(0,l.jsx)("div",{className:"w-16 h-16 rounded-full bg-slate-50 dark:bg-slate-900 group-hover:bg-blue-50 dark:group-hover:bg-blue-900/20 flex items-center justify-center transition-colors mb-4",children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,l.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,l.jsx)("line",{x1:"12",x2:"12.01",y1:"17",y2:"17"})]})}),(0,l.jsx)("span",{className:"font-black uppercase tracking-widest text-xs",children:"Help"})]})]})," ",a&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center h-[98%] bg-black/50 backdrop-blur-sm animate-fadeIn",onClick:w,children:(0,l.jsxs)("div",{className:"flex flex-col bg-white dark:bg-slate-950 w-full max-w-2xl h-[98%] rounded-[2.5rem] p-4 shadow-2xl border border-slate-200 dark:border-slate-800 m-4 animate-scaleIn",onClick:function(e){return e.stopPropagation()},children:[(0,l.jsx)("h3",{id:"edit-modal-title",className:"justify-center text-center text-2xl font-black text-slate-800 dark:text-white mb-4",children:d?"Edit Template":"New Template"}),(0,l.jsxs)("div",{id:"edit-modal-body",className:"flex-1 flex flex-col space-y-4 min-h-0",children:[(0,l.jsxs)("div",{className:"space-y-1 shrink-0",children:[(0,l.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 ml-1",children:"Title"}),(0,l.jsx)("input",{type:"text",value:y.title,onChange:function(e){return b(M(M({},y),{},{title:e.target.value}))},placeholder:"e.g., Refund Policy",className:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all font-bold text-slate-700 dark:text-slate-200"})]}),(0,l.jsxs)("div",{className:"space-y-1 shrink-0",children:[(0,l.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 ml-1",children:"Category"}),(0,l.jsx)("select",{value:y.category,onChange:function(e){return b(M(M({},y),{},{category:e.target.value}))},className:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all font-bold text-slate-700 dark:text-slate-200 appearance-none",children:Object.entries(O).map(function(e){var t=U(e,2),n=t[0],r=t[1];return(0,l.jsx)("option",{value:r,children:r},n)})})]}),(0,l.jsxs)("div",{id:"variants-label",className:"flex items-center justify-between max-w-full",children:[(0,l.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 ml-1",children:"Variants"}),(0,l.jsx)("button",{title:"Add Variant",className:"px-2 rounded-md text-2xl font-bold text-blue-500 hover:text-blue-200 bg-slate-800 hover:bg-blue-500 transition-all ",onClick:function(){return b(M(M({},y),{},{variants:[].concat(j(y.variants),[""])}))},children:"+"})]}),(0,l.jsx)("div",{id:"variants-list",className:"flex-1 flex-col min-h-0 overflow-y-auto space-y-1 pr-1",children:y.variants.map(function(e,t){return(0,l.jsxs)("div",{className:"relative group w-full",children:[(0,l.jsxs)("div",{className:"grid",children:[(0,l.jsxs)("div",{className:"col-start-1 row-start-1 w-full px-4 py-2 min-h-12 font-medium break-words whitespace-pre-wrap",children:[e||" ",e.endsWith("\n")?"\n":""]}),(0,l.jsx)("textarea",{rows:1,value:e,placeholder:"Type your template variant #".concat(t+1," here..."),className:"col-start-1 row-start-1 w-full h-full px-4 py-2 min-h-12 font-medium bg-slate-900 border-2 border-slate-800 rounded-2xl text-slate-200 transition-all duration-500 focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all resize-none overflow-hidden",onChange:function(e){var n=j(y.variants);n[t]=e.target.value,b(M(M({},y),{},{variants:n}))}},t)]}),y.variants.length>1&&(0,l.jsx)("button",{type:"button",title:"Delete Variant",className:"absolute top-2 right-2 z-10 p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-xl transition-all opacity-0 group-hover:opacity-100 focus:opacity-100",onClick:function(){return b(M(M({},y),{},{variants:y.variants.filter(function(e,n){return n!==t})}))},children:u.Svg(u.ID.TrashCan)})]})})})]}),(0,l.jsxs)("div",{id:"edit-modal-buttons",className:"flex gap-3 mt-8",children:[(0,l.jsx)("button",{onClick:w,className:"flex-1 py-4 rounded-2xl font-black text-xs uppercase tracking-widest text-slate-200 bg-red-500 hover:bg-red-600 shadow-lg shadow-red-500/30 transition-all",children:"Cancel"}),(0,l.jsx)("button",{onClick:function(){if(y.title.trim()&&y.variants[0].trim()){var e=[];if(y.variants.map(function(t){(t=t.trim())&&t.length>1&&(e=[].concat(j(e),[t]))}),y.variants=e,d)r(n.map(function(e){return e.id===d.id?M(M({},e),y):e}));else{var t={id:++H,title:y.title,variants:y.variants,category:y.category};r([].concat(j(n),[t]))}s(!1)}},disabled:!y.title.trim()||!y.variants[0].trim(),className:"flex-1 py-4 rounded-2xl font-black text-xs uppercase tracking-widest bg-blue-600 hover:bg-blue-700 text-white shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Template"})]})]})})]})};class z{}function V(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return null!=e?String(e):""}throw new Error(`Key '${n}' not found in valueMap.`)})}function B(e,t,n){for(let r=0;r<t.length-1;r++){const o=t[r];if(o.endsWith("[]")){const i=o.slice(0,-2);if(!(i in e)){if(!Array.isArray(n))throw new Error(`Value must be a list given an array path ${o}`);e[i]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[i])){const o=e[i];if(Array.isArray(n))for(let e=0;e<o.length;e++)B(o[e],t.slice(r+1),n[e]);else for(const e of o)B(e,t.slice(r+1),n)}return}if(o.endsWith("[0]")){const i=o.slice(0,-3);return i in e||(e[i]=[{}]),void B(e[i][0],t.slice(r+1),n)}e[o]&&"object"==typeof e[o]||(e[o]={}),e=e[o]}const r=t[t.length-1],o=e[r];if(void 0!==o){if(!n||"object"==typeof n&&0===Object.keys(n).length)return;if(n===o)return;if("object"!=typeof o||"object"!=typeof n||null===o||null===n)throw new Error(`Cannot set value for an existing key. Key: ${r}`);Object.assign(o,n)}else if("_self"!==r||"object"!=typeof n||null===n||Array.isArray(n))e[r]=n;else{const t=n;Object.assign(e,t)}}function $(e,t,n=void 0){try{if(1===t.length&&"_self"===t[0])return e;for(let r=0;r<t.length;r++){if("object"!=typeof e||null===e)return n;const o=t[r];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in e){const o=e[i];return Array.isArray(o)?o.map(e=>$(e,t.slice(r+1),n)):n}return n}e=e[o]}return e}catch(e){if(e instanceof TypeError)return n;throw e}}function W(e,t,n,r,o){if(r>=t.length)return;if("object"!=typeof e||null===e)return;const i=t[r];if(i.endsWith("[]")){const l=i.slice(0,-2),a=e;if(l in a&&Array.isArray(a[l]))for(const e of a[l])W(e,t,n,r+1,o)}else if("*"===i){if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=e,i=Object.keys(t).filter(e=>!e.startsWith("_")&&!o.has(e)),l={};for(const e of i)l[e]=t[e];for(const[e,o]of Object.entries(l)){const i=[];for(const t of n.slice(r))"*"===t?i.push(e):i.push(t);B(t,i,o)}for(const e of i)delete t[e]}}else i in e&&W(e[i],t,n,r+1,o)}function J(e){if("string"!=typeof e)throw new Error("fromImageBytes must be a string");return e}function K(e){const t={},n=$(e,["name"]);null!=n&&B(t,["name"],n);const r=$(e,["metadata"]);null!=r&&B(t,["metadata"],r);const o=$(e,["done"]);null!=o&&B(t,["done"],o);const i=$(e,["error"]);null!=i&&B(t,["error"],i);const l=$(e,["response"]);return null!=l&&B(t,["response"],function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["parent"]);null!=r&&B(t,["parent"],r);const o=$(e,["documentName"]);return null!=o&&B(t,["documentName"],o),t}(l)),t}var Y,Q,X,Z,ee,te,ne,re,oe,ie,le,ae,se,ue,ce,de,pe,fe,he,me,ge,ye,ve,be,we,Se,Ee,_e,Te,Ce,Ie,ke,Ae,xe,Oe,Ne,Pe,Re,De,Me,Le,je,Ue,qe,Fe,He,Ge,ze,Ve,Be,$e,We,Je,Ke,Ye,Qe,Xe,Ze;!function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"}(Y||(Y={})),function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"}(Q||(Q={})),function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"}(X||(X={})),(Ze=Z||(Z={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",Ze.STRING="STRING",Ze.NUMBER="NUMBER",Ze.INTEGER="INTEGER",Ze.BOOLEAN="BOOLEAN",Ze.ARRAY="ARRAY",Ze.OBJECT="OBJECT",Ze.NULL="NULL",function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"}(ee||(ee={})),function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"}(te||(te={})),function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"}(ne||(ne={})),function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"}(re||(re={})),function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"}(oe||(oe={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(ie||(ie={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"}(le||(le={})),function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"}(ae||(ae={})),function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"}(se||(se={})),function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"}(ue||(ue={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"}(ce||(ce={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"}(de||(de={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(pe||(pe={})),function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"}(fe||(fe={})),function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"}(he||(he={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"}(me||(me={})),function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"}(ge||(ge={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"}(ye||(ye={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(ve||(ve={})),function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"}(be||(be={})),function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"}(we||(we={})),function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"}(Se||(Se={})),function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"}(Ee||(Ee={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"}(_e||(_e={})),function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"}(Te||(Te={})),function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"}(Ce||(Ce={})),function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(Ie||(Ie={})),function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"}(ke||(ke={})),function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"}(Ae||(Ae={})),function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"}(xe||(xe={})),function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"}(Oe||(Oe={})),function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"}(Ne||(Ne={})),function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"}(Pe||(Pe={})),function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"}(Re||(Re={})),function(e){e.ASSET="ASSET",e.STYLE="STYLE"}(De||(De={})),function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"}(Me||(Me={})),function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"}(Le||(Le={})),function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"}(je||(je={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"}(Ue||(Ue={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(qe||(qe={})),function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"}(Fe||(Fe={})),function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"}(He||(He={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"}(Ge||(Ge={})),function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"}(ze||(ze={})),function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"}(Ve||(Ve={})),function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"}(Be||(Be={})),function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"}($e||($e={})),function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"}(We||(We={})),function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"}(Je||(Je={})),function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"}(Ke||(Ke={})),function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"}(Ye||(Ye={})),function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"}(Qe||(Qe={}));class et{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class tt{get text(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let s="",u=!1;const c=[];for(const e of null!==(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[t,n]of Object.entries(e))"text"===t||"thought"===t||"thoughtSignature"===t||null===n&&void 0===n||c.push(t);if("string"==typeof e.text){if("boolean"==typeof e.thought&&e.thought)continue;u=!0,s+=e.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?s:void 0}get data(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let s="";const u=[];for(const e of null!==(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[t,n]of Object.entries(e))"inlineData"===t||null===n&&void 0===n||u.push(t);e.inlineData&&"string"==typeof e.inlineData.data&&(s+=atob(e.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}get functionCalls(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const s=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null==s?void 0:s.length)?s:void 0}get executableCode(){var e,t,n,r,o,i,l,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(s=null==u?void 0:u[0])||void 0===s?void 0:s.code:void 0}get codeExecutionResult(){var e,t,n,r,o,i,l,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(s=null==u?void 0:u[0])||void 0===s?void 0:s.output:void 0}}class nt{}class rt{}class ot{}class it{}class lt{}class at{}class st{}class ut{}class ct{}class dt{}class pt{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new pt;let r;const o=e;return r=t?function(e){const t={},n=$(e,["name"]);null!=n&&B(t,["name"],n);const r=$(e,["metadata"]);null!=r&&B(t,["metadata"],r);const o=$(e,["done"]);null!=o&&B(t,["done"],o);const i=$(e,["error"]);null!=i&&B(t,["error"],i);const l=$(e,["response"]);return null!=l&&B(t,["response"],function(e){const t={},n=$(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["_self"]);return null!=n&&B(t,["video"],function(e){const t={},n=$(e,["gcsUri"]);null!=n&&B(t,["uri"],n);const r=$(e,["bytesBase64Encoded"]);null!=r&&B(t,["videoBytes"],J(r));const o=$(e,["mimeType"]);return null!=o&&B(t,["mimeType"],o),t}(n)),t}(e))),B(t,["generatedVideos"],e)}const r=$(e,["raiMediaFilteredCount"]);null!=r&&B(t,["raiMediaFilteredCount"],r);const o=$(e,["raiMediaFilteredReasons"]);return null!=o&&B(t,["raiMediaFilteredReasons"],o),t}(l)),t}(o):function(e){const t={},n=$(e,["name"]);null!=n&&B(t,["name"],n);const r=$(e,["metadata"]);null!=r&&B(t,["metadata"],r);const o=$(e,["done"]);null!=o&&B(t,["done"],o);const i=$(e,["error"]);null!=i&&B(t,["error"],i);const l=$(e,["response","generateVideoResponse"]);return null!=l&&B(t,["response"],function(e){const t={},n=$(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["video"]);return null!=n&&B(t,["video"],function(e){const t={},n=$(e,["uri"]);null!=n&&B(t,["uri"],n);const r=$(e,["encodedVideo"]);null!=r&&B(t,["videoBytes"],J(r));const o=$(e,["encoding"]);return null!=o&&B(t,["mimeType"],o),t}(n)),t}(e))),B(t,["generatedVideos"],e)}const r=$(e,["raiMediaFilteredCount"]);null!=r&&B(t,["raiMediaFilteredCount"],r);const o=$(e,["raiMediaFilteredReasons"]);return null!=o&&B(t,["raiMediaFilteredReasons"],o),t}(l)),t}(o),Object.assign(n,r),n}}class ft{}class ht{}class mt{}class gt{}class yt{}class vt{}class bt{}class wt{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new wt,r=function(e){const t={},n=$(e,["name"]);null!=n&&B(t,["name"],n);const r=$(e,["metadata"]);null!=r&&B(t,["metadata"],r);const o=$(e,["done"]);null!=o&&B(t,["done"],o);const i=$(e,["error"]);null!=i&&B(t,["error"],i);const l=$(e,["response"]);return null!=l&&B(t,["response"],function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["parent"]);null!=r&&B(t,["parent"],r);const o=$(e,["documentName"]);return null!=o&&B(t,["documentName"],o),t}(l)),t}(e);return Object.assign(n,r),n}}class St{}class Et{}class _t{}class Tt{}class Ct{get text(){var e,t,n;let r="",o=!1;const i=[];for(const l of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(l))"text"!==e&&"thought"!==e&&null!==t&&i.push(e);if("string"==typeof l.text){if("boolean"==typeof l.thought&&l.thought)continue;o=!0,r+=l.text}}return i.length>0&&console.warn(`there are non-text parts ${i} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var e,t,n;let r="";const o=[];for(const i of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(i))"inlineData"!==e&&null!==t&&o.push(e);i.inlineData&&"string"==typeof i.inlineData.data&&(r+=atob(i.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class It{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class kt{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new kt,r=K(e);return Object.assign(n,r),n}}function At(e,t){if(!t||"string"!=typeof t)throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function xt(e,t){const n=At(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Ot(e){return Array.isArray(e)?e.map(e=>Nt(e)):[Nt(e)]}function Nt(e){if("object"==typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof e)}function Pt(e){const t=Nt(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Rt(e){const t=Nt(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Dt(e){if(null==e)throw new Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw new Error("Unsupported part type: "+typeof e)}function Mt(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>Dt(e)):[Dt(e)]}function Lt(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function jt(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function Ut(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function qt(e){if(null==e)throw new Error("ContentUnion is required");return Lt(e)?e:{role:"user",parts:Mt(e)}}function Ft(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=qt(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=qt(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>qt(e)):[qt(t)]}function Ht(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(jt(e)||Ut(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[qt(e)]}const t=[],n=[],r=Lt(e[0]);for(const o of e){const e=Lt(o);if(e!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(o);else{if(jt(o)||Ut(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:Mt(n)}),t}function Gt(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(t.nullable=!0,e=i[1]):"null"===i[1].type&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(Z).includes(n[0].toUpperCase())?n[0].toUpperCase():Z.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(Z).includes(e.toUpperCase())?e.toUpperCase():Z.TYPE_UNSPECIFIED})}}(e.type,t);for(const[i,l]of Object.entries(e))if(null!=l)if("type"==i){if("null"===l)throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;t.type=Object.values(Z).includes(l.toUpperCase())?l.toUpperCase():Z.TYPE_UNSPECIFIED}else if(n.includes(i))t[i]=Gt(l);else if(r.includes(i)){const e=[];for(const n of l)"null"!=n.type?e.push(Gt(n)):t.nullable=!0;t[i]=e}else if(o.includes(i)){const e={};for(const[t,n]of Object.entries(l))e[t]=Gt(n);t[i]=e}else{if("additionalProperties"===i)continue;t[i]=l}return t}function zt(e){return Gt(e)}function Vt(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: "+typeof e)}function Bt(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function $t(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Gt(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Gt(t.response));return e}function Wt(e){if(null==e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Jt(e,t){if("string"!=typeof t)throw new Error("name must be a string");return function(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}(e,t,"cachedContents")}function Kt(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Yt(e){return J(e)}function Qt(e){var t;let n;var r;if(null!=(r=e)&&"object"==typeof r&&"name"in r&&(n=e.name),!(function(e){return null!=e&&"object"==typeof e&&"uri"in e}(e)&&(n=e.uri,void 0===n)||function(e){return null!=e&&"object"==typeof e&&"video"in e}(e)&&(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0===n))){if("string"==typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${n}`);n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Xt(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function Zt(e){for(const t of["models","tunedModels","publisherModels"])if(en(e,t))return e[t];return[]}function en(e,t){return null!==e&&"object"==typeof e&&t in e}function tn(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function nn(e,t){let n;if("string"==typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error(`Unsupported string source for Vertex AI: ${t}`);n={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error(`Unsupported string source for Gemini API: ${t}`);n={fileName:t}}else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||1!==r)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||1!==o)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function rn(e){if("object"!=typeof e||null===e)return{};const t=e,n=t.inlinedResponses;if("object"!=typeof n||null===n)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||0===r.length)return e;let o=!1;for(const e of r){if("object"!=typeof e||null===e)continue;const t=e.response;if("object"==typeof t&&null!==t&&void 0!==t.embedding){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function on(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ln(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===e?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===e?"JOB_STATE_EXPIRED":e}function an(e){const t={},n=$(e,["name"]);null!=n&&B(t,["name"],n);const r=$(e,["metadata","displayName"]);null!=r&&B(t,["displayName"],r);const o=$(e,["metadata","state"]);null!=o&&B(t,["state"],ln(o));const i=$(e,["metadata","createTime"]);null!=i&&B(t,["createTime"],i);const l=$(e,["metadata","endTime"]);null!=l&&B(t,["endTime"],l);const a=$(e,["metadata","updateTime"]);null!=a&&B(t,["updateTime"],a);const s=$(e,["metadata","model"]);null!=s&&B(t,["model"],s);const u=$(e,["metadata","output"]);return null!=u&&B(t,["dest"],function(e){const t={},n=$(e,["responsesFile"]);null!=n&&B(t,["fileName"],n);const r=$(e,["inlinedResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["response"]);null!=n&&B(t,["response"],function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["content"]);null!=n&&B(t,["content"],n);const r=$(e,["citationMetadata"]);null!=r&&B(t,["citationMetadata"],function(e){const t={},n=$(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["citations"],e)}return t}(r));const o=$(e,["tokenCount"]);null!=o&&B(t,["tokenCount"],o);const i=$(e,["finishReason"]);null!=i&&B(t,["finishReason"],i);const l=$(e,["avgLogprobs"]);null!=l&&B(t,["avgLogprobs"],l);const a=$(e,["groundingMetadata"]);null!=a&&B(t,["groundingMetadata"],a);const s=$(e,["index"]);null!=s&&B(t,["index"],s);const u=$(e,["logprobsResult"]);null!=u&&B(t,["logprobsResult"],u);const c=$(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["safetyRatings"],e)}const d=$(e,["urlContextMetadata"]);return null!=d&&B(t,["urlContextMetadata"],d),t}(e))),B(t,["candidates"],e)}const o=$(e,["modelVersion"]);null!=o&&B(t,["modelVersion"],o);const i=$(e,["promptFeedback"]);null!=i&&B(t,["promptFeedback"],i);const l=$(e,["responseId"]);null!=l&&B(t,["responseId"],l);const a=$(e,["usageMetadata"]);return null!=a&&B(t,["usageMetadata"],a),t}(n));const r=$(e,["error"]);return null!=r&&B(t,["error"],r),t}(e))),B(t,["inlinedResponses"],e)}const o=$(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["inlinedEmbedContentResponses"],e)}return t}(rn(u))),t}function sn(e){const t={},n=$(e,["name"]);null!=n&&B(t,["name"],n);const r=$(e,["displayName"]);null!=r&&B(t,["displayName"],r);const o=$(e,["state"]);null!=o&&B(t,["state"],ln(o));const i=$(e,["error"]);null!=i&&B(t,["error"],i);const l=$(e,["createTime"]);null!=l&&B(t,["createTime"],l);const a=$(e,["startTime"]);null!=a&&B(t,["startTime"],a);const s=$(e,["endTime"]);null!=s&&B(t,["endTime"],s);const u=$(e,["updateTime"]);null!=u&&B(t,["updateTime"],u);const c=$(e,["model"]);null!=c&&B(t,["model"],c);const d=$(e,["inputConfig"]);null!=d&&B(t,["src"],function(e){const t={},n=$(e,["instancesFormat"]);null!=n&&B(t,["format"],n);const r=$(e,["gcsSource","uris"]);null!=r&&B(t,["gcsUri"],r);const o=$(e,["bigquerySource","inputUri"]);return null!=o&&B(t,["bigqueryUri"],o),t}(d));const p=$(e,["outputConfig"]);null!=p&&B(t,["dest"],function(e){const t={},n=$(e,["predictionsFormat"]);null!=n&&B(t,["format"],n);const r=$(e,["gcsDestination","outputUriPrefix"]);null!=r&&B(t,["gcsUri"],r);const o=$(e,["bigqueryDestination","outputUri"]);return null!=o&&B(t,["bigqueryUri"],o),t}(rn(p)));const f=$(e,["completionStats"]);return null!=f&&B(t,["completionStats"],f),t}function un(e){const t={},n=$(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["mediaResolution"]);null!=n&&B(t,["mediaResolution"],n);const r=$(e,["codeExecutionResult"]);null!=r&&B(t,["codeExecutionResult"],r);const o=$(e,["executableCode"]);null!=o&&B(t,["executableCode"],o);const i=$(e,["fileData"]);null!=i&&B(t,["fileData"],function(e){const t={};if(void 0!==$(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=$(e,["fileUri"]);null!=n&&B(t,["fileUri"],n);const r=$(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}(i));const l=$(e,["functionCall"]);null!=l&&B(t,["functionCall"],function(e){const t={},n=$(e,["id"]);null!=n&&B(t,["id"],n);const r=$(e,["args"]);null!=r&&B(t,["args"],r);const o=$(e,["name"]);if(null!=o&&B(t,["name"],o),void 0!==$(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==$(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=$(e,["functionResponse"]);null!=a&&B(t,["functionResponse"],a);const s=$(e,["inlineData"]);null!=s&&B(t,["inlineData"],function(e){const t={},n=$(e,["data"]);if(null!=n&&B(t,["data"],n),void 0!==$(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=$(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}(s));const u=$(e,["text"]);null!=u&&B(t,["text"],u);const c=$(e,["thought"]);null!=c&&B(t,["thought"],c);const d=$(e,["thoughtSignature"]);null!=d&&B(t,["thoughtSignature"],d);const p=$(e,["videoMetadata"]);return null!=p&&B(t,["videoMetadata"],p),t}(e))),B(t,["parts"],e)}const r=$(e,["role"]);return null!=r&&B(t,["role"],r),t}function cn(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["src"]);null!=o&&B(n,["batch","inputConfig"],function(e,t){const n={};if(void 0!==$(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==$(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==$(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=$(t,["fileName"]);null!=r&&B(n,["fileName"],r);const o=$(t,["inlinedRequests"]);if(null!=o){let t=o;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["request","model"],At(e,r));const o=$(t,["contents"]);if(null!=o){let e=Ht(o);Array.isArray(e)&&(e=e.map(e=>un(e))),B(n,["request","contents"],e)}const i=$(t,["metadata"]);null!=i&&B(n,["metadata"],i);const l=$(t,["config"]);return null!=l&&B(n,["request","generationConfig"],function(e,t,n){const r={},o=$(t,["systemInstruction"]);void 0!==n&&null!=o&&B(n,["systemInstruction"],un(qt(o)));const i=$(t,["temperature"]);null!=i&&B(r,["temperature"],i);const l=$(t,["topP"]);null!=l&&B(r,["topP"],l);const a=$(t,["topK"]);null!=a&&B(r,["topK"],a);const s=$(t,["candidateCount"]);null!=s&&B(r,["candidateCount"],s);const u=$(t,["maxOutputTokens"]);null!=u&&B(r,["maxOutputTokens"],u);const c=$(t,["stopSequences"]);null!=c&&B(r,["stopSequences"],c);const d=$(t,["responseLogprobs"]);null!=d&&B(r,["responseLogprobs"],d);const p=$(t,["logprobs"]);null!=p&&B(r,["logprobs"],p);const f=$(t,["presencePenalty"]);null!=f&&B(r,["presencePenalty"],f);const h=$(t,["frequencyPenalty"]);null!=h&&B(r,["frequencyPenalty"],h);const m=$(t,["seed"]);null!=m&&B(r,["seed"],m);const g=$(t,["responseMimeType"]);null!=g&&B(r,["responseMimeType"],g);const y=$(t,["responseSchema"]);null!=y&&B(r,["responseSchema"],zt(y));const v=$(t,["responseJsonSchema"]);if(null!=v&&B(r,["responseJsonSchema"],v),void 0!==$(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==$(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=$(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["category"]);if(null!=n&&B(t,["category"],n),void 0!==$(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=$(e,["threshold"]);return null!=r&&B(t,["threshold"],r),t}(e))),B(n,["safetySettings"],e)}const w=$(t,["tools"]);if(void 0!==n&&null!=w){let e=Wt(w);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==$(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=$(e,["computerUse"]);null!=n&&B(t,["computerUse"],n);const r=$(e,["fileSearch"]);null!=r&&B(t,["fileSearch"],r);const o=$(e,["codeExecution"]);if(null!=o&&B(t,["codeExecution"],o),void 0!==$(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=$(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["functionDeclarations"],e)}const l=$(e,["googleMaps"]);null!=l&&B(t,["googleMaps"],function(e){const t={};if(void 0!==$(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=$(e,["enableWidget"]);return null!=n&&B(t,["enableWidget"],n),t}(l));const a=$(e,["googleSearch"]);null!=a&&B(t,["googleSearch"],function(e){const t={};if(void 0!==$(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==$(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=$(e,["timeRangeFilter"]);return null!=n&&B(t,["timeRangeFilter"],n),t}(a));const s=$(e,["googleSearchRetrieval"]);null!=s&&B(t,["googleSearchRetrieval"],s);const u=$(e,["urlContext"]);return null!=u&&B(t,["urlContext"],u),t}($t(e)))),B(n,["tools"],e)}const S=$(t,["toolConfig"]);if(void 0!==n&&null!=S&&B(n,["toolConfig"],function(e){const t={},n=$(e,["retrievalConfig"]);null!=n&&B(t,["retrievalConfig"],n);const r=$(e,["functionCallingConfig"]);return null!=r&&B(t,["functionCallingConfig"],function(e){const t={},n=$(e,["allowedFunctionNames"]);null!=n&&B(t,["allowedFunctionNames"],n);const r=$(e,["mode"]);if(null!=r&&B(t,["mode"],r),void 0!==$(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(r)),t}(S)),void 0!==$(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const E=$(t,["cachedContent"]);void 0!==n&&null!=E&&B(n,["cachedContent"],Jt(e,E));const _=$(t,["responseModalities"]);null!=_&&B(r,["responseModalities"],_);const T=$(t,["mediaResolution"]);null!=T&&B(r,["mediaResolution"],T);const C=$(t,["speechConfig"]);if(null!=C&&B(r,["speechConfig"],Vt(C)),void 0!==$(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=$(t,["thinkingConfig"]);null!=I&&B(r,["thinkingConfig"],I);const k=$(t,["imageConfig"]);null!=k&&B(r,["imageConfig"],function(e){const t={},n=$(e,["aspectRatio"]);null!=n&&B(t,["aspectRatio"],n);const r=$(e,["imageSize"]);if(null!=r&&B(t,["imageSize"],r),void 0!==$(e,["personGeneration"]))throw new Error("personGeneration parameter is not supported in Gemini API.");if(void 0!==$(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==$(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(k));const A=$(t,["enableEnhancedCivicAnswers"]);return null!=A&&B(r,["enableEnhancedCivicAnswers"],A),r}(e,l,$(n,["request"],{}))),n}(e,t))),B(n,["requests","requests"],t)}return n}(e,nn(e,o)));const i=$(t,["config"]);return null!=i&&function(e,t){const n=$(e,["displayName"]);if(void 0!==t&&null!=n&&B(t,["batch","displayName"],n),void 0!==$(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(i,n),n}function dn(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["model"],At(e,r));const o=$(t,["src"]);null!=o&&B(n,["inputConfig"],function(e){const t={},n=$(e,["format"]);null!=n&&B(t,["instancesFormat"],n);const r=$(e,["gcsUri"]);null!=r&&B(t,["gcsSource","uris"],r);const o=$(e,["bigqueryUri"]);if(null!=o&&B(t,["bigquerySource","inputUri"],o),void 0!==$(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==$(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(nn(e,o)));const i=$(t,["config"]);return null!=i&&function(e,t){const n=$(e,["displayName"]);void 0!==t&&null!=n&&B(t,["displayName"],n);const r=$(e,["dest"]);void 0!==t&&null!=r&&B(t,["outputConfig"],function(e){const t={},n=$(e,["format"]);null!=n&&B(t,["predictionsFormat"],n);const r=$(e,["gcsUri"]);null!=r&&B(t,["gcsDestination","outputUriPrefix"],r);const o=$(e,["bigqueryUri"]);if(null!=o&&B(t,["bigqueryDestination","outputUri"],o),void 0!==$(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==$(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==$(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!=typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}(r)))}(i,n),n}!function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"}(Xe||(Xe={}));class pn{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let i={config:{}};i=n&&0!==Object.keys(n).length?"object"==typeof n?Object.assign({},n):n:{config:{}},i.config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(o=null===(r=i.config)||void 0===r?void 0:r.pageSize)&&void 0!==o?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}class fn extends z{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new pn(Xe.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)}}createInlinedGenerateContentRequest(e){const t=cn(this.apiClient,e),n=V("{model}:batchGenerateContent",t._url),r=t.batch.inputConfig.requests,o=r.requests,i=[];for(const e of o){const t=Object.assign({},e);if(t.systemInstruction){const e=t.systemInstruction;delete t.systemInstruction;const n=t.request;n.systemInstruction=e,t.request=n}i.push(t)}return r.requests=i,delete t.config,delete t._url,delete t._query,{path:n,body:t}}getGcsUri(e){return"string"==typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"==typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},r=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${r}`),void 0===n.dest){const t=this.getGcsUri(e),o=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?n.dest=`${t.slice(0,-6)}/dest`:n.dest=`${t}_dest_${r}`;else{if(!o)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");n.dest=`${o}_dest_${r}`}}return n}async createInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=dn(this.apiClient,e);return l=V("batchPredictionJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>sn(e))}{const t=cn(this.apiClient,e);return l=V("{model}:batchGenerateContent",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>an(e))}}async createEmbeddingsInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["src"]);null!=o&&B(n,["batch","inputConfig"],function(e,t){const n={},r=$(t,["fileName"]);null!=r&&B(n,["file_name"],r);const o=$(t,["inlinedRequests"]);return null!=o&&B(n,["requests"],function(e,t){const n={},r=$(t,["contents"]);if(null!=r){let t=Ft(e,r);Array.isArray(t)&&(t=t.map(e=>e)),B(n,["requests[]","request","content"],t)}const o=$(t,["config"]);return null!=o&&(B(n,["_self"],function(e,t){const n=$(e,["taskType"]);void 0!==t&&null!=n&&B(t,["requests[]","taskType"],n);const r=$(e,["title"]);void 0!==t&&null!=r&&B(t,["requests[]","title"],r);const o=$(e,["outputDimensionality"]);if(void 0!==t&&null!=o&&B(t,["requests[]","outputDimensionality"],o),void 0!==$(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==$(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(o,n)),function(e){for(const[t,n]of Object.entries({"requests[].*":"requests[].request.*"})){const r=t.split("."),o=n.split("."),i=new Set;let l=-1;for(let e=0;e<r.length;e++)if("*"===r[e]){l=e;break}if(-1!==l&&o.length>l)for(let e=l;e<o.length;e++){const t=o[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||i.add(t)}W(e,r,o,0,i)}}(n)),n}(e,o)),n}(e,o));const i=$(t,["config"]);return null!=i&&function(e,t){const n=$(e,["displayName"]);void 0!==t&&null!=n&&B(t,["batch","displayName"],n)}(i,n),n}(this.apiClient,e);return o=V("{model}:asyncBatchEmbedContent",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>an(e))}}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=$(t,["name"]);return null!=r&&B(n,["_url","name"],on(e,r)),n}(this.apiClient,e);return l=V("batchPredictionJobs/{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>sn(e))}{const t=function(e,t){const n={},r=$(t,["name"]);return null!=r&&B(n,["_url","name"],on(e,r)),n}(this.apiClient,e);return l=V("batches/{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>an(e))}}async cancel(e){var t,n,r,o;let i="",l={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=$(t,["name"]);return null!=r&&B(n,["_url","name"],on(e,r)),n}(this.apiClient,e);i=V("batchPredictionJobs/{name}:cancel",r._url),l=r._query,delete r._url,delete r._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},r=$(t,["name"]);return null!=r&&B(n,["_url","name"],on(e,r)),n}(this.apiClient,e);i=V("batches/{name}:cancel",t._url),l=t._query,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal})}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=$(e,["config"]);return null!=n&&function(e,t){const n=$(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=$(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r);const o=$(e,["filter"]);void 0!==t&&null!=o&&B(t,["_query","filter"],o)}(n,t),t}(e);return l=V("batchPredictionJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=$(e,["batchPredictionJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>sn(e))),B(t,["batchJobs"],e)}return t}(e),n=new Tt;return Object.assign(n,t),n})}{const t=function(e){const t={},n=$(e,["config"]);return null!=n&&function(e,t){const n=$(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=$(e,["pageToken"]);if(void 0!==t&&null!=r&&B(t,["_query","pageToken"],r),void 0!==$(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(n,t),t}(e);return l=V("batches",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=$(e,["operations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>an(e))),B(t,["batchJobs"],e)}return t}(e),n=new Tt;return Object.assign(n,t),n})}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=$(t,["name"]);return null!=r&&B(n,["_url","name"],on(e,r)),n}(this.apiClient,e);return l=V("batchPredictionJobs/{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["name"]);null!=r&&B(t,["name"],r);const o=$(e,["done"]);null!=o&&B(t,["done"],o);const i=$(e,["error"]);return null!=i&&B(t,["error"],i),t}(e))}{const t=function(e,t){const n={},r=$(t,["name"]);return null!=r&&B(n,["_url","name"],on(e,r)),n}(this.apiClient,e);return l=V("batches/{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["name"]);null!=r&&B(t,["name"],r);const o=$(e,["done"]);null!=o&&B(t,["done"],o);const i=$(e,["error"]);return null!=i&&B(t,["error"],i),t}(e))}}}function hn(e){const t={},n=$(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["mediaResolution"]);null!=n&&B(t,["mediaResolution"],n);const r=$(e,["codeExecutionResult"]);null!=r&&B(t,["codeExecutionResult"],r);const o=$(e,["executableCode"]);null!=o&&B(t,["executableCode"],o);const i=$(e,["fileData"]);null!=i&&B(t,["fileData"],function(e){const t={};if(void 0!==$(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=$(e,["fileUri"]);null!=n&&B(t,["fileUri"],n);const r=$(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}(i));const l=$(e,["functionCall"]);null!=l&&B(t,["functionCall"],function(e){const t={},n=$(e,["id"]);null!=n&&B(t,["id"],n);const r=$(e,["args"]);null!=r&&B(t,["args"],r);const o=$(e,["name"]);if(null!=o&&B(t,["name"],o),void 0!==$(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==$(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=$(e,["functionResponse"]);null!=a&&B(t,["functionResponse"],a);const s=$(e,["inlineData"]);null!=s&&B(t,["inlineData"],function(e){const t={},n=$(e,["data"]);if(null!=n&&B(t,["data"],n),void 0!==$(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=$(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}(s));const u=$(e,["text"]);null!=u&&B(t,["text"],u);const c=$(e,["thought"]);null!=c&&B(t,["thought"],c);const d=$(e,["thoughtSignature"]);null!=d&&B(t,["thoughtSignature"],d);const p=$(e,["videoMetadata"]);return null!=p&&B(t,["videoMetadata"],p),t}(e))),B(t,["parts"],e)}const r=$(e,["role"]);return null!=r&&B(t,["role"],r),t}class mn extends z{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new pn(Xe.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["model"],xt(e,r));const o=$(t,["config"]);return null!=o&&function(e,t){const n=$(e,["ttl"]);void 0!==t&&null!=n&&B(t,["ttl"],n);const r=$(e,["expireTime"]);void 0!==t&&null!=r&&B(t,["expireTime"],r);const o=$(e,["displayName"]);void 0!==t&&null!=o&&B(t,["displayName"],o);const i=$(e,["contents"]);if(void 0!==t&&null!=i){let e=Ht(i);Array.isArray(e)&&(e=e.map(e=>e)),B(t,["contents"],e)}const l=$(e,["systemInstruction"]);void 0!==t&&null!=l&&B(t,["systemInstruction"],qt(l));const a=$(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["retrieval"]);null!=n&&B(t,["retrieval"],n);const r=$(e,["computerUse"]);if(null!=r&&B(t,["computerUse"],r),void 0!==$(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=$(e,["codeExecution"]);null!=o&&B(t,["codeExecution"],o);const i=$(e,["enterpriseWebSearch"]);null!=i&&B(t,["enterpriseWebSearch"],i);const l=$(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["description"]);null!=n&&B(t,["description"],n);const r=$(e,["name"]);null!=r&&B(t,["name"],r);const o=$(e,["parameters"]);null!=o&&B(t,["parameters"],o);const i=$(e,["parametersJsonSchema"]);null!=i&&B(t,["parametersJsonSchema"],i);const l=$(e,["response"]);null!=l&&B(t,["response"],l);const a=$(e,["responseJsonSchema"]);if(null!=a&&B(t,["responseJsonSchema"],a),void 0!==$(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),B(t,["functionDeclarations"],e)}const a=$(e,["googleMaps"]);null!=a&&B(t,["googleMaps"],a);const s=$(e,["googleSearch"]);null!=s&&B(t,["googleSearch"],s);const u=$(e,["googleSearchRetrieval"]);null!=u&&B(t,["googleSearchRetrieval"],u);const c=$(e,["urlContext"]);return null!=c&&B(t,["urlContext"],c),t}(e))),B(t,["tools"],e)}const s=$(e,["toolConfig"]);void 0!==t&&null!=s&&B(t,["toolConfig"],s);const u=$(e,["kmsKeyName"]);void 0!==t&&null!=u&&B(t,["encryption_spec","kmsKeyName"],u)}(o,n),n}(this.apiClient,e);return l=V("cachedContents",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["model"],xt(e,r));const o=$(t,["config"]);return null!=o&&function(e,t){const n=$(e,["ttl"]);void 0!==t&&null!=n&&B(t,["ttl"],n);const r=$(e,["expireTime"]);void 0!==t&&null!=r&&B(t,["expireTime"],r);const o=$(e,["displayName"]);void 0!==t&&null!=o&&B(t,["displayName"],o);const i=$(e,["contents"]);if(void 0!==t&&null!=i){let e=Ht(i);Array.isArray(e)&&(e=e.map(e=>hn(e))),B(t,["contents"],e)}const l=$(e,["systemInstruction"]);void 0!==t&&null!=l&&B(t,["systemInstruction"],hn(qt(l)));const a=$(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==$(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=$(e,["computerUse"]);null!=n&&B(t,["computerUse"],n);const r=$(e,["fileSearch"]);null!=r&&B(t,["fileSearch"],r);const o=$(e,["codeExecution"]);if(null!=o&&B(t,["codeExecution"],o),void 0!==$(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=$(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["functionDeclarations"],e)}const l=$(e,["googleMaps"]);null!=l&&B(t,["googleMaps"],function(e){const t={};if(void 0!==$(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=$(e,["enableWidget"]);return null!=n&&B(t,["enableWidget"],n),t}(l));const a=$(e,["googleSearch"]);null!=a&&B(t,["googleSearch"],function(e){const t={};if(void 0!==$(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==$(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=$(e,["timeRangeFilter"]);return null!=n&&B(t,["timeRangeFilter"],n),t}(a));const s=$(e,["googleSearchRetrieval"]);null!=s&&B(t,["googleSearchRetrieval"],s);const u=$(e,["urlContext"]);return null!=u&&B(t,["urlContext"],u),t}(e))),B(t,["tools"],e)}const s=$(e,["toolConfig"]);if(void 0!==t&&null!=s&&B(t,["toolConfig"],function(e){const t={},n=$(e,["retrievalConfig"]);null!=n&&B(t,["retrievalConfig"],n);const r=$(e,["functionCallingConfig"]);return null!=r&&B(t,["functionCallingConfig"],function(e){const t={},n=$(e,["allowedFunctionNames"]);null!=n&&B(t,["allowedFunctionNames"],n);const r=$(e,["mode"]);if(null!=r&&B(t,["mode"],r),void 0!==$(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(r)),t}(s)),void 0!==$(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.")}(o,n),n}(this.apiClient,e);return l=V("cachedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=$(t,["name"]);return null!=r&&B(n,["_url","name"],Jt(e,r)),n}(this.apiClient,e);return l=V("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=$(t,["name"]);return null!=r&&B(n,["_url","name"],Jt(e,r)),n}(this.apiClient,e);return l=V("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=$(t,["name"]);return null!=r&&B(n,["_url","name"],Jt(e,r)),n}(this.apiClient,e);return l=V("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new mt;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=$(t,["name"]);return null!=r&&B(n,["_url","name"],Jt(e,r)),n}(this.apiClient,e);return l=V("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new mt;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=$(t,["name"]);null!=r&&B(n,["_url","name"],Jt(e,r));const o=$(t,["config"]);return null!=o&&function(e,t){const n=$(e,["ttl"]);void 0!==t&&null!=n&&B(t,["ttl"],n);const r=$(e,["expireTime"]);void 0!==t&&null!=r&&B(t,["expireTime"],r)}(o,n),n}(this.apiClient,e);return l=V("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=$(t,["name"]);null!=r&&B(n,["_url","name"],Jt(e,r));const o=$(t,["config"]);return null!=o&&function(e,t){const n=$(e,["ttl"]);void 0!==t&&null!=n&&B(t,["ttl"],n);const r=$(e,["expireTime"]);void 0!==t&&null!=r&&B(t,["expireTime"],r)}(o,n),n}(this.apiClient,e);return l=V("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=$(e,["config"]);return null!=n&&function(e,t){const n=$(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=$(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r)}(n,t),t}(e);return l=V("cachedContents",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=$(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["cachedContents"],e)}return t}(e),n=new gt;return Object.assign(n,t),n})}{const t=function(e){const t={},n=$(e,["config"]);return null!=n&&function(e,t){const n=$(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=$(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r)}(n,t),t}(e);return l=V("cachedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=$(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["cachedContents"],e)}return t}(e),n=new gt;return Object.assign(n,t),n})}}}function gn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function yn(e){return this instanceof yn?(this.v=e,this):new yn(e)}function vn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function l(e,t){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||a(e,t)})},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof yn?Promise.resolve(n.value.v).then(s,u):c(i[0][2],n)}catch(e){c(i[0][3],e)}var n}function s(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function bn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,o,(t=e[n](t)).done,t.value)})}}}function wn(e){var t;if(null==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&Sn(n)}function Sn(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function En(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const o=[];let i=!0;for(;r<n&&"model"===e[r].role;)o.push(e[r]),i&&!Sn(e[r])&&(i=!1),r++;i?t.push(...o):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class _n{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Tn(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Tn{constructor(e,t,n,r={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(o)}async sendMessage(e){var t;await this.sendPromise;const n=qt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,o;const i=await r,l=null===(t=null===(e=i.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,a=i.automaticFunctionCallingHistory,s=this.getHistory(!0).length;let u=[];null!=a&&(u=null!==(o=a.slice(s))&&void 0!==o?o:[]);const c=l?[l]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const n=qt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,n)}getHistory(e=!1){const t=e?En(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return vn(this,arguments,function*(){var n,r,o,i,l,a;const s=[];try{for(var u,c=!0,d=bn(e);!(n=(u=yield yn(d.next())).done);c=!0){i=u.value,c=!1;const e=i;if(wn(e)){const t=null===(a=null===(l=e.candidates)||void 0===l?void 0:l[0])||void 0===a?void 0:a.content;void 0!==t&&s.push(t)}yield yield yn(e)}}catch(e){r={error:e}}finally{try{c||n||!(o=d.return)||(yield yn(o.call(d)))}finally{if(r)throw r.error}}this.recordHistory(t,s)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(e=>void 0!==e.role)?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...En(n)):this.history.push(e),this.history.push(...r)}}class Cn extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Cn.prototype)}}class In extends z{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new pn(Xe.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=$(e,["config"]);return null!=n&&function(e,t){const n=$(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=$(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r)}(n,t),t}(e);return o=V("files",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=$(e,["files"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["files"],e)}return t}(e),n=new St;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=$(e,["file"]);return null!=n&&B(t,["file"],n),t}(e);return o=V("upload/v1beta/files",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new Et;return Object.assign(n,t),n})}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=$(e,["name"]);return null!=n&&B(t,["_url","file"],Qt(n)),t}(e);return o=V("files/{file}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=$(e,["name"]);return null!=n&&B(t,["_url","file"],Qt(n)),t}(e);return o=V("files/{file}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new _t;return Object.assign(n,t),n})}}}function kn(e){const t={},n=$(e,["data"]);if(null!=n&&B(t,["data"],n),void 0!==$(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=$(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}function An(e,t){const n=$(e,["generationConfig"]);void 0!==t&&null!=n&&B(t,["setup","generationConfig"],n);const r=$(e,["responseModalities"]);void 0!==t&&null!=r&&B(t,["setup","generationConfig","responseModalities"],r);const o=$(e,["temperature"]);void 0!==t&&null!=o&&B(t,["setup","generationConfig","temperature"],o);const i=$(e,["topP"]);void 0!==t&&null!=i&&B(t,["setup","generationConfig","topP"],i);const l=$(e,["topK"]);void 0!==t&&null!=l&&B(t,["setup","generationConfig","topK"],l);const a=$(e,["maxOutputTokens"]);void 0!==t&&null!=a&&B(t,["setup","generationConfig","maxOutputTokens"],a);const s=$(e,["mediaResolution"]);void 0!==t&&null!=s&&B(t,["setup","generationConfig","mediaResolution"],s);const u=$(e,["seed"]);void 0!==t&&null!=u&&B(t,["setup","generationConfig","seed"],u);const c=$(e,["speechConfig"]);void 0!==t&&null!=c&&B(t,["setup","generationConfig","speechConfig"],Bt(c));const d=$(e,["thinkingConfig"]);void 0!==t&&null!=d&&B(t,["setup","generationConfig","thinkingConfig"],d);const p=$(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&B(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=$(e,["systemInstruction"]);void 0!==t&&null!=f&&B(t,["setup","systemInstruction"],function(e){const t={},n=$(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["mediaResolution"]);null!=n&&B(t,["mediaResolution"],n);const r=$(e,["codeExecutionResult"]);null!=r&&B(t,["codeExecutionResult"],r);const o=$(e,["executableCode"]);null!=o&&B(t,["executableCode"],o);const i=$(e,["fileData"]);null!=i&&B(t,["fileData"],function(e){const t={};if(void 0!==$(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=$(e,["fileUri"]);null!=n&&B(t,["fileUri"],n);const r=$(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}(i));const l=$(e,["functionCall"]);null!=l&&B(t,["functionCall"],function(e){const t={},n=$(e,["id"]);null!=n&&B(t,["id"],n);const r=$(e,["args"]);null!=r&&B(t,["args"],r);const o=$(e,["name"]);if(null!=o&&B(t,["name"],o),void 0!==$(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==$(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=$(e,["functionResponse"]);null!=a&&B(t,["functionResponse"],a);const s=$(e,["inlineData"]);null!=s&&B(t,["inlineData"],kn(s));const u=$(e,["text"]);null!=u&&B(t,["text"],u);const c=$(e,["thought"]);null!=c&&B(t,["thought"],c);const d=$(e,["thoughtSignature"]);null!=d&&B(t,["thoughtSignature"],d);const p=$(e,["videoMetadata"]);return null!=p&&B(t,["videoMetadata"],p),t}(e))),B(t,["parts"],e)}const r=$(e,["role"]);return null!=r&&B(t,["role"],r),t}(qt(f)));const h=$(e,["tools"]);if(void 0!==t&&null!=h){let e=Wt(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==$(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=$(e,["computerUse"]);null!=n&&B(t,["computerUse"],n);const r=$(e,["fileSearch"]);null!=r&&B(t,["fileSearch"],r);const o=$(e,["codeExecution"]);if(null!=o&&B(t,["codeExecution"],o),void 0!==$(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=$(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["functionDeclarations"],e)}const l=$(e,["googleMaps"]);null!=l&&B(t,["googleMaps"],function(e){const t={};if(void 0!==$(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=$(e,["enableWidget"]);return null!=n&&B(t,["enableWidget"],n),t}(l));const a=$(e,["googleSearch"]);null!=a&&B(t,["googleSearch"],function(e){const t={};if(void 0!==$(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==$(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=$(e,["timeRangeFilter"]);return null!=n&&B(t,["timeRangeFilter"],n),t}(a));const s=$(e,["googleSearchRetrieval"]);null!=s&&B(t,["googleSearchRetrieval"],s);const u=$(e,["urlContext"]);return null!=u&&B(t,["urlContext"],u),t}($t(e)))),B(t,["setup","tools"],e)}const m=$(e,["sessionResumption"]);void 0!==t&&null!=m&&B(t,["setup","sessionResumption"],function(e){const t={},n=$(e,["handle"]);if(null!=n&&B(t,["handle"],n),void 0!==$(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(m));const g=$(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&B(t,["setup","inputAudioTranscription"],g);const y=$(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&B(t,["setup","outputAudioTranscription"],y);const v=$(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&B(t,["setup","realtimeInputConfig"],v);const b=$(e,["contextWindowCompression"]);void 0!==t&&null!=b&&B(t,["setup","contextWindowCompression"],b);const w=$(e,["proactivity"]);if(void 0!==t&&null!=w&&B(t,["setup","proactivity"],w),void 0!==$(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}function xn(e){const t={},n=$(e,["media"]);if(null!=n){let e=Ot(n);Array.isArray(e)&&(e=e.map(e=>kn(e))),B(t,["mediaChunks"],e)}const r=$(e,["audio"]);null!=r&&B(t,["audio"],kn(Rt(r)));const o=$(e,["audioStreamEnd"]);null!=o&&B(t,["audioStreamEnd"],o);const i=$(e,["video"]);null!=i&&B(t,["video"],kn(Pt(i)));const l=$(e,["text"]);null!=l&&B(t,["text"],l);const a=$(e,["activityStart"]);null!=a&&B(t,["activityStart"],a);const s=$(e,["activityEnd"]);return null!=s&&B(t,["activityEnd"],s),t}function On(e){const t={},n=$(e,["media"]);if(null!=n){let e=Ot(n);Array.isArray(e)&&(e=e.map(e=>e)),B(t,["mediaChunks"],e)}const r=$(e,["audio"]);null!=r&&B(t,["audio"],Rt(r));const o=$(e,["audioStreamEnd"]);null!=o&&B(t,["audioStreamEnd"],o);const i=$(e,["video"]);null!=i&&B(t,["video"],Pt(i));const l=$(e,["text"]);null!=l&&B(t,["text"],l);const a=$(e,["activityStart"]);null!=a&&B(t,["activityStart"],a);const s=$(e,["activityEnd"]);return null!=s&&B(t,["activityEnd"],s),t}function Nn(e){const t={},n=$(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["mediaResolution"]);null!=n&&B(t,["mediaResolution"],n);const r=$(e,["codeExecutionResult"]);null!=r&&B(t,["codeExecutionResult"],r);const o=$(e,["executableCode"]);null!=o&&B(t,["executableCode"],o);const i=$(e,["fileData"]);null!=i&&B(t,["fileData"],function(e){const t={};if(void 0!==$(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=$(e,["fileUri"]);null!=n&&B(t,["fileUri"],n);const r=$(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}(i));const l=$(e,["functionCall"]);null!=l&&B(t,["functionCall"],function(e){const t={},n=$(e,["id"]);null!=n&&B(t,["id"],n);const r=$(e,["args"]);null!=r&&B(t,["args"],r);const o=$(e,["name"]);if(null!=o&&B(t,["name"],o),void 0!==$(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==$(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=$(e,["functionResponse"]);null!=a&&B(t,["functionResponse"],a);const s=$(e,["inlineData"]);null!=s&&B(t,["inlineData"],function(e){const t={},n=$(e,["data"]);if(null!=n&&B(t,["data"],n),void 0!==$(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=$(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}(s));const u=$(e,["text"]);null!=u&&B(t,["text"],u);const c=$(e,["thought"]);null!=c&&B(t,["thought"],c);const d=$(e,["thoughtSignature"]);null!=d&&B(t,["thoughtSignature"],d);const p=$(e,["videoMetadata"]);return null!=p&&B(t,["videoMetadata"],p),t}(e))),B(t,["parts"],e)}const r=$(e,["role"]);return null!=r&&B(t,["role"],r),t}function Pn(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["contents"]);if(null!=o){let e=Ht(o);Array.isArray(e)&&(e=e.map(e=>Nn(e))),B(n,["contents"],e)}const i=$(t,["config"]);return null!=i&&B(n,["generationConfig"],function(e,t,n){const r={},o=$(t,["systemInstruction"]);void 0!==n&&null!=o&&B(n,["systemInstruction"],Nn(qt(o)));const i=$(t,["temperature"]);null!=i&&B(r,["temperature"],i);const l=$(t,["topP"]);null!=l&&B(r,["topP"],l);const a=$(t,["topK"]);null!=a&&B(r,["topK"],a);const s=$(t,["candidateCount"]);null!=s&&B(r,["candidateCount"],s);const u=$(t,["maxOutputTokens"]);null!=u&&B(r,["maxOutputTokens"],u);const c=$(t,["stopSequences"]);null!=c&&B(r,["stopSequences"],c);const d=$(t,["responseLogprobs"]);null!=d&&B(r,["responseLogprobs"],d);const p=$(t,["logprobs"]);null!=p&&B(r,["logprobs"],p);const f=$(t,["presencePenalty"]);null!=f&&B(r,["presencePenalty"],f);const h=$(t,["frequencyPenalty"]);null!=h&&B(r,["frequencyPenalty"],h);const m=$(t,["seed"]);null!=m&&B(r,["seed"],m);const g=$(t,["responseMimeType"]);null!=g&&B(r,["responseMimeType"],g);const y=$(t,["responseSchema"]);null!=y&&B(r,["responseSchema"],zt(y));const v=$(t,["responseJsonSchema"]);if(null!=v&&B(r,["responseJsonSchema"],v),void 0!==$(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==$(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=$(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["category"]);if(null!=n&&B(t,["category"],n),void 0!==$(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=$(e,["threshold"]);return null!=r&&B(t,["threshold"],r),t}(e))),B(n,["safetySettings"],e)}const w=$(t,["tools"]);if(void 0!==n&&null!=w){let e=Wt(w);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==$(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=$(e,["computerUse"]);null!=n&&B(t,["computerUse"],n);const r=$(e,["fileSearch"]);null!=r&&B(t,["fileSearch"],r);const o=$(e,["codeExecution"]);if(null!=o&&B(t,["codeExecution"],o),void 0!==$(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=$(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["functionDeclarations"],e)}const l=$(e,["googleMaps"]);null!=l&&B(t,["googleMaps"],function(e){const t={};if(void 0!==$(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=$(e,["enableWidget"]);return null!=n&&B(t,["enableWidget"],n),t}(l));const a=$(e,["googleSearch"]);null!=a&&B(t,["googleSearch"],function(e){const t={};if(void 0!==$(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==$(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=$(e,["timeRangeFilter"]);return null!=n&&B(t,["timeRangeFilter"],n),t}(a));const s=$(e,["googleSearchRetrieval"]);null!=s&&B(t,["googleSearchRetrieval"],s);const u=$(e,["urlContext"]);return null!=u&&B(t,["urlContext"],u),t}($t(e)))),B(n,["tools"],e)}const S=$(t,["toolConfig"]);if(void 0!==n&&null!=S&&B(n,["toolConfig"],function(e){const t={},n=$(e,["retrievalConfig"]);null!=n&&B(t,["retrievalConfig"],n);const r=$(e,["functionCallingConfig"]);return null!=r&&B(t,["functionCallingConfig"],function(e){const t={},n=$(e,["allowedFunctionNames"]);null!=n&&B(t,["allowedFunctionNames"],n);const r=$(e,["mode"]);if(null!=r&&B(t,["mode"],r),void 0!==$(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(r)),t}(S)),void 0!==$(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const E=$(t,["cachedContent"]);void 0!==n&&null!=E&&B(n,["cachedContent"],Jt(e,E));const _=$(t,["responseModalities"]);null!=_&&B(r,["responseModalities"],_);const T=$(t,["mediaResolution"]);null!=T&&B(r,["mediaResolution"],T);const C=$(t,["speechConfig"]);if(null!=C&&B(r,["speechConfig"],Vt(C)),void 0!==$(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=$(t,["thinkingConfig"]);null!=I&&B(r,["thinkingConfig"],I);const k=$(t,["imageConfig"]);null!=k&&B(r,["imageConfig"],function(e){const t={},n=$(e,["aspectRatio"]);null!=n&&B(t,["aspectRatio"],n);const r=$(e,["imageSize"]);if(null!=r&&B(t,["imageSize"],r),void 0!==$(e,["personGeneration"]))throw new Error("personGeneration parameter is not supported in Gemini API.");if(void 0!==$(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==$(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(k));const A=$(t,["enableEnhancedCivicAnswers"]);return null!=A&&B(r,["enableEnhancedCivicAnswers"],A),r}(e,i,n)),n}function Rn(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["contents"]);if(null!=o){let e=Ht(o);Array.isArray(e)&&(e=e.map(e=>e)),B(n,["contents"],e)}const i=$(t,["config"]);return null!=i&&B(n,["generationConfig"],function(e,t,n){const r={},o=$(t,["systemInstruction"]);void 0!==n&&null!=o&&B(n,["systemInstruction"],qt(o));const i=$(t,["temperature"]);null!=i&&B(r,["temperature"],i);const l=$(t,["topP"]);null!=l&&B(r,["topP"],l);const a=$(t,["topK"]);null!=a&&B(r,["topK"],a);const s=$(t,["candidateCount"]);null!=s&&B(r,["candidateCount"],s);const u=$(t,["maxOutputTokens"]);null!=u&&B(r,["maxOutputTokens"],u);const c=$(t,["stopSequences"]);null!=c&&B(r,["stopSequences"],c);const d=$(t,["responseLogprobs"]);null!=d&&B(r,["responseLogprobs"],d);const p=$(t,["logprobs"]);null!=p&&B(r,["logprobs"],p);const f=$(t,["presencePenalty"]);null!=f&&B(r,["presencePenalty"],f);const h=$(t,["frequencyPenalty"]);null!=h&&B(r,["frequencyPenalty"],h);const m=$(t,["seed"]);null!=m&&B(r,["seed"],m);const g=$(t,["responseMimeType"]);null!=g&&B(r,["responseMimeType"],g);const y=$(t,["responseSchema"]);null!=y&&B(r,["responseSchema"],zt(y));const v=$(t,["responseJsonSchema"]);null!=v&&B(r,["responseJsonSchema"],v);const b=$(t,["routingConfig"]);null!=b&&B(r,["routingConfig"],b);const w=$(t,["modelSelectionConfig"]);null!=w&&B(r,["modelConfig"],w);const S=$(t,["safetySettings"]);if(void 0!==n&&null!=S){let e=S;Array.isArray(e)&&(e=e.map(e=>e)),B(n,["safetySettings"],e)}const E=$(t,["tools"]);if(void 0!==n&&null!=E){let e=Wt(E);Array.isArray(e)&&(e=e.map(e=>$n($t(e)))),B(n,["tools"],e)}const _=$(t,["toolConfig"]);void 0!==n&&null!=_&&B(n,["toolConfig"],_);const T=$(t,["labels"]);void 0!==n&&null!=T&&B(n,["labels"],T);const C=$(t,["cachedContent"]);void 0!==n&&null!=C&&B(n,["cachedContent"],Jt(e,C));const I=$(t,["responseModalities"]);null!=I&&B(r,["responseModalities"],I);const k=$(t,["mediaResolution"]);null!=k&&B(r,["mediaResolution"],k);const A=$(t,["speechConfig"]);null!=A&&B(r,["speechConfig"],Vt(A));const x=$(t,["audioTimestamp"]);null!=x&&B(r,["audioTimestamp"],x);const O=$(t,["thinkingConfig"]);null!=O&&B(r,["thinkingConfig"],O);const N=$(t,["imageConfig"]);if(null!=N&&B(r,["imageConfig"],function(e){const t={},n=$(e,["aspectRatio"]);null!=n&&B(t,["aspectRatio"],n);const r=$(e,["imageSize"]);null!=r&&B(t,["imageSize"],r);const o=$(e,["personGeneration"]);null!=o&&B(t,["personGeneration"],o);const i=$(e,["outputMimeType"]);null!=i&&B(t,["imageOutputOptions","mimeType"],i);const l=$(e,["outputCompressionQuality"]);return null!=l&&B(t,["imageOutputOptions","compressionQuality"],l),t}(N)),void 0!==$(t,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}(e,i,n)),n}function Dn(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["content"]);null!=n&&B(t,["content"],n);const r=$(e,["citationMetadata"]);null!=r&&B(t,["citationMetadata"],function(e){const t={},n=$(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["citations"],e)}return t}(r));const o=$(e,["tokenCount"]);null!=o&&B(t,["tokenCount"],o);const i=$(e,["finishReason"]);null!=i&&B(t,["finishReason"],i);const l=$(e,["avgLogprobs"]);null!=l&&B(t,["avgLogprobs"],l);const a=$(e,["groundingMetadata"]);null!=a&&B(t,["groundingMetadata"],a);const s=$(e,["index"]);null!=s&&B(t,["index"],s);const u=$(e,["logprobsResult"]);null!=u&&B(t,["logprobsResult"],u);const c=$(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["safetyRatings"],e)}const d=$(e,["urlContextMetadata"]);return null!=d&&B(t,["urlContextMetadata"],d),t}(e))),B(t,["candidates"],e)}const o=$(e,["modelVersion"]);null!=o&&B(t,["modelVersion"],o);const i=$(e,["promptFeedback"]);null!=i&&B(t,["promptFeedback"],i);const l=$(e,["responseId"]);null!=l&&B(t,["responseId"],l);const a=$(e,["usageMetadata"]);return null!=a&&B(t,["usageMetadata"],a),t}function Mn(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["candidates"],e)}const o=$(e,["createTime"]);null!=o&&B(t,["createTime"],o);const i=$(e,["modelVersion"]);null!=i&&B(t,["modelVersion"],i);const l=$(e,["promptFeedback"]);null!=l&&B(t,["promptFeedback"],l);const a=$(e,["responseId"]);null!=a&&B(t,["responseId"],a);const s=$(e,["usageMetadata"]);return null!=s&&B(t,["usageMetadata"],s),t}function Ln(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["prompt"]);null!=o&&B(n,["instances[0]","prompt"],o);const i=$(t,["image"]);null!=i&&B(n,["instances[0]","image"],Fn(i));const l=$(t,["video"]);null!=l&&B(n,["instances[0]","video"],Wn(l));const a=$(t,["source"]);null!=a&&function(e,t){const n=$(e,["prompt"]);void 0!==t&&null!=n&&B(t,["instances[0]","prompt"],n);const r=$(e,["image"]);void 0!==t&&null!=r&&B(t,["instances[0]","image"],Fn(r));const o=$(e,["video"]);void 0!==t&&null!=o&&B(t,["instances[0]","video"],Wn(o))}(a,n);const s=$(t,["config"]);return null!=s&&function(e,t){const n=$(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&B(t,["parameters","sampleCount"],n),void 0!==$(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==$(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const r=$(e,["durationSeconds"]);if(void 0!==t&&null!=r&&B(t,["parameters","durationSeconds"],r),void 0!==$(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const o=$(e,["aspectRatio"]);void 0!==t&&null!=o&&B(t,["parameters","aspectRatio"],o);const i=$(e,["resolution"]);void 0!==t&&null!=i&&B(t,["parameters","resolution"],i);const l=$(e,["personGeneration"]);if(void 0!==t&&null!=l&&B(t,["parameters","personGeneration"],l),void 0!==$(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=$(e,["negativePrompt"]);void 0!==t&&null!=a&&B(t,["parameters","negativePrompt"],a);const s=$(e,["enhancePrompt"]);if(void 0!==t&&null!=s&&B(t,["parameters","enhancePrompt"],s),void 0!==$(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const u=$(e,["lastFrame"]);void 0!==t&&null!=u&&B(t,["instances[0]","lastFrame"],Fn(u));const c=$(e,["referenceImages"]);if(void 0!==t&&null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["image"]);null!=n&&B(t,["image"],Fn(n));const r=$(e,["referenceType"]);return null!=r&&B(t,["referenceType"],r),t}(e))),B(t,["instances[0]","referenceImages"],e)}if(void 0!==$(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==$(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.")}(s,n),n}function jn(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["prompt"]);null!=o&&B(n,["instances[0]","prompt"],o);const i=$(t,["image"]);null!=i&&B(n,["instances[0]","image"],Hn(i));const l=$(t,["video"]);null!=l&&B(n,["instances[0]","video"],Jn(l));const a=$(t,["source"]);null!=a&&function(e,t){const n=$(e,["prompt"]);void 0!==t&&null!=n&&B(t,["instances[0]","prompt"],n);const r=$(e,["image"]);void 0!==t&&null!=r&&B(t,["instances[0]","image"],Hn(r));const o=$(e,["video"]);void 0!==t&&null!=o&&B(t,["instances[0]","video"],Jn(o))}(a,n);const s=$(t,["config"]);return null!=s&&function(e,t){const n=$(e,["numberOfVideos"]);void 0!==t&&null!=n&&B(t,["parameters","sampleCount"],n);const r=$(e,["outputGcsUri"]);void 0!==t&&null!=r&&B(t,["parameters","storageUri"],r);const o=$(e,["fps"]);void 0!==t&&null!=o&&B(t,["parameters","fps"],o);const i=$(e,["durationSeconds"]);void 0!==t&&null!=i&&B(t,["parameters","durationSeconds"],i);const l=$(e,["seed"]);void 0!==t&&null!=l&&B(t,["parameters","seed"],l);const a=$(e,["aspectRatio"]);void 0!==t&&null!=a&&B(t,["parameters","aspectRatio"],a);const s=$(e,["resolution"]);void 0!==t&&null!=s&&B(t,["parameters","resolution"],s);const u=$(e,["personGeneration"]);void 0!==t&&null!=u&&B(t,["parameters","personGeneration"],u);const c=$(e,["pubsubTopic"]);void 0!==t&&null!=c&&B(t,["parameters","pubsubTopic"],c);const d=$(e,["negativePrompt"]);void 0!==t&&null!=d&&B(t,["parameters","negativePrompt"],d);const p=$(e,["enhancePrompt"]);void 0!==t&&null!=p&&B(t,["parameters","enhancePrompt"],p);const f=$(e,["generateAudio"]);void 0!==t&&null!=f&&B(t,["parameters","generateAudio"],f);const h=$(e,["lastFrame"]);void 0!==t&&null!=h&&B(t,["instances[0]","lastFrame"],Hn(h));const m=$(e,["referenceImages"]);if(void 0!==t&&null!=m){let e=m;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["image"]);null!=n&&B(t,["image"],Hn(n));const r=$(e,["referenceType"]);return null!=r&&B(t,["referenceType"],r),t}(e))),B(t,["instances[0]","referenceImages"],e)}const g=$(e,["mask"]);void 0!==t&&null!=g&&B(t,["instances[0]","mask"],function(e){const t={},n=$(e,["image"]);null!=n&&B(t,["_self"],Hn(n));const r=$(e,["maskMode"]);return null!=r&&B(t,["maskMode"],r),t}(g));const y=$(e,["compressionQuality"]);void 0!==t&&null!=y&&B(t,["parameters","compressionQuality"],y)}(s,n),n}function Un(e){const t={},n=$(e,["_self"]);null!=n&&B(t,["image"],qn(n));const r=$(e,["raiFilteredReason"]);null!=r&&B(t,["raiFilteredReason"],r);const o=$(e,["_self"]);null!=o&&B(t,["safetyAttributes"],Bn(o));const i=$(e,["prompt"]);return null!=i&&B(t,["enhancedPrompt"],i),t}function qn(e){const t={},n=$(e,["gcsUri"]);null!=n&&B(t,["gcsUri"],n);const r=$(e,["bytesBase64Encoded"]);null!=r&&B(t,["imageBytes"],Yt(r));const o=$(e,["mimeType"]);return null!=o&&B(t,["mimeType"],o),t}function Fn(e){const t={};if(void 0!==$(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=$(e,["imageBytes"]);null!=n&&B(t,["bytesBase64Encoded"],Yt(n));const r=$(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}function Hn(e){const t={},n=$(e,["gcsUri"]);null!=n&&B(t,["gcsUri"],n);const r=$(e,["imageBytes"]);null!=r&&B(t,["bytesBase64Encoded"],Yt(r));const o=$(e,["mimeType"]);return null!=o&&B(t,["mimeType"],o),t}function Gn(e){const t={},n=$(e,["name"]);null!=n&&B(t,["name"],n);const r=$(e,["displayName"]);null!=r&&B(t,["displayName"],r);const o=$(e,["description"]);null!=o&&B(t,["description"],o);const i=$(e,["version"]);null!=i&&B(t,["version"],i);const l=$(e,["_self"]);null!=l&&B(t,["tunedModelInfo"],function(e){const t={},n=$(e,["baseModel"]);null!=n&&B(t,["baseModel"],n);const r=$(e,["createTime"]);null!=r&&B(t,["createTime"],r);const o=$(e,["updateTime"]);return null!=o&&B(t,["updateTime"],o),t}(l));const a=$(e,["inputTokenLimit"]);null!=a&&B(t,["inputTokenLimit"],a);const s=$(e,["outputTokenLimit"]);null!=s&&B(t,["outputTokenLimit"],s);const u=$(e,["supportedGenerationMethods"]);null!=u&&B(t,["supportedActions"],u);const c=$(e,["temperature"]);null!=c&&B(t,["temperature"],c);const d=$(e,["maxTemperature"]);null!=d&&B(t,["maxTemperature"],d);const p=$(e,["topP"]);null!=p&&B(t,["topP"],p);const f=$(e,["topK"]);null!=f&&B(t,["topK"],f);const h=$(e,["thinking"]);return null!=h&&B(t,["thinking"],h),t}function zn(e){const t={},n=$(e,["name"]);null!=n&&B(t,["name"],n);const r=$(e,["displayName"]);null!=r&&B(t,["displayName"],r);const o=$(e,["description"]);null!=o&&B(t,["description"],o);const i=$(e,["versionId"]);null!=i&&B(t,["version"],i);const l=$(e,["deployedModels"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["endpoint"]);null!=n&&B(t,["name"],n);const r=$(e,["deployedModelId"]);return null!=r&&B(t,["deployedModelId"],r),t}(e))),B(t,["endpoints"],e)}const a=$(e,["labels"]);null!=a&&B(t,["labels"],a);const s=$(e,["_self"]);null!=s&&B(t,["tunedModelInfo"],function(e){const t={},n=$(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&B(t,["baseModel"],n);const r=$(e,["createTime"]);null!=r&&B(t,["createTime"],r);const o=$(e,["updateTime"]);return null!=o&&B(t,["updateTime"],o),t}(s));const u=$(e,["defaultCheckpointId"]);null!=u&&B(t,["defaultCheckpointId"],u);const c=$(e,["checkpoints"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["checkpoints"],e)}return t}function Vn(e){const t={},n=$(e,["safetyAttributes","categories"]);null!=n&&B(t,["categories"],n);const r=$(e,["safetyAttributes","scores"]);null!=r&&B(t,["scores"],r);const o=$(e,["contentType"]);return null!=o&&B(t,["contentType"],o),t}function Bn(e){const t={},n=$(e,["safetyAttributes","categories"]);null!=n&&B(t,["categories"],n);const r=$(e,["safetyAttributes","scores"]);null!=r&&B(t,["scores"],r);const o=$(e,["contentType"]);return null!=o&&B(t,["contentType"],o),t}function $n(e){const t={},n=$(e,["retrieval"]);null!=n&&B(t,["retrieval"],n);const r=$(e,["computerUse"]);if(null!=r&&B(t,["computerUse"],r),void 0!==$(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=$(e,["codeExecution"]);null!=o&&B(t,["codeExecution"],o);const i=$(e,["enterpriseWebSearch"]);null!=i&&B(t,["enterpriseWebSearch"],i);const l=$(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["description"]);null!=n&&B(t,["description"],n);const r=$(e,["name"]);null!=r&&B(t,["name"],r);const o=$(e,["parameters"]);null!=o&&B(t,["parameters"],o);const i=$(e,["parametersJsonSchema"]);null!=i&&B(t,["parametersJsonSchema"],i);const l=$(e,["response"]);null!=l&&B(t,["response"],l);const a=$(e,["responseJsonSchema"]);if(null!=a&&B(t,["responseJsonSchema"],a),void 0!==$(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),B(t,["functionDeclarations"],e)}const a=$(e,["googleMaps"]);null!=a&&B(t,["googleMaps"],a);const s=$(e,["googleSearch"]);null!=s&&B(t,["googleSearch"],s);const u=$(e,["googleSearchRetrieval"]);null!=u&&B(t,["googleSearchRetrieval"],u);const c=$(e,["urlContext"]);return null!=c&&B(t,["urlContext"],c),t}function Wn(e){const t={},n=$(e,["uri"]);null!=n&&B(t,["uri"],n);const r=$(e,["videoBytes"]);null!=r&&B(t,["encodedVideo"],Yt(r));const o=$(e,["mimeType"]);return null!=o&&B(t,["encoding"],o),t}function Jn(e){const t={},n=$(e,["uri"]);null!=n&&B(t,["gcsUri"],n);const r=$(e,["videoBytes"]);null!=r&&B(t,["bytesBase64Encoded"],Yt(r));const o=$(e,["mimeType"]);return null!=o&&B(t,["mimeType"],o),t}function Kn(e,t){const n=$(e,["mimeType"]);void 0!==t&&null!=n&&B(t,["mimeType"],n);const r=$(e,["displayName"]);void 0!==t&&null!=r&&B(t,["displayName"],r);const o=$(e,["customMetadata"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["customMetadata"],e)}const i=$(e,["chunkingConfig"]);return void 0!==t&&null!=i&&B(t,["chunkingConfig"],i),{}}const Yn="x-goog-api-client";class Qn{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];return n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||"GET"===e.httpMethod&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[t,n]of Object.entries(e.queryParams))r.searchParams.append(t,String(n));let o={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,r.toString(),e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[e,r]of Object.entries(t))"object"==typeof r?n[e]=Object.assign(Object.assign({},n[e]),r):void 0!==r&&(n[e]=r);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,r.toString(),e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,r){if(t&&t.timeout||r){const n=new AbortController,o=n.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){const e=setTimeout(()=>n.abort(),t.timeout);e&&"function"==typeof e.unref&&e.unref()}r&&r.addEventListener("abort",()=>{n.abort()}),e.signal=o}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return void console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let n={};if("string"==typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!=typeof t||null===t||Array.isArray(t))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");n=t}catch(e){return void console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.")}const r=function e(t,n){const r=Object.assign({},t);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const o=n[t],i=r[t];o&&"object"==typeof o&&!Array.isArray(o)&&i&&"object"==typeof i&&!Array.isArray(i)?r[t]=e(i,o):(i&&o&&typeof i!=typeof o&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${t}". Original type: ${typeof i}, New type: ${typeof o}. Overwriting.`),r[t]=o)}return r}(n,t);e.body=JSON.stringify(r)}(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Xn(e),new et(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Xn(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){return vn(this,arguments,function*(){var t;const n=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";const o="data:",i=["\n\n","\r\r","\r\n\r\n"];for(;;){const{done:l,value:a}=yield yn(n.read());if(l){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const s=r.decode(a,{stream:!0});try{const e=JSON.parse(s);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,o=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<600)throw new Cn({message:o,status:r})}}catch(e){if("ApiError"===e.name)throw e}t+=s;let u=-1,c=0;for(;;){u=-1,c=0;for(const e of i){const n=t.indexOf(e);-1!==n&&(-1===u||n<u)&&(u=n,c=e.length)}if(-1===u)break;const n=t.substring(0,u);t=t.substring(u+c);const r=n.trim();if(r.startsWith(o)){const t=r.substring(o.length).trim();try{const n=new Response(t,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield yn(new et(n))}catch(e){throw new Error(`exception parsing stream chunk ${t}. ${e}`)}}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error(`exception ${e} sending request`)})}getDefaultHeaders(){const e={},t="google-genai-sdk/1.37.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[Yn]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){const n=new Headers;if(e&&e.headers){for(const[t,r]of Object.entries(e.headers))n.append(t,r);e.timeout&&e.timeout>0&&n.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){var t;let n="";return"string"==typeof e&&(n=e.replace(/[/\\]+$/,""),n=null!==(t=n.split(/[/\\]/).pop())&&void 0!==t?t:""),n}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,i=await o.stat(e);r.sizeBytes=String(i.size);const l=null!==(n=null==t?void 0:t.mimeType)&&void 0!==n?n:i.type;if(void 0===l||""===l)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=l;const a={file:r},s=this.getFileName(e),u=V("upload/v1beta/files",a._url),c=await this.fetchUploadUrl(u,r.sizeBytes,r.mimeType,s,a,null==t?void 0:t.httpOptions);return o.upload(e,c,this)}async uploadFileToFileSearchStore(e,t,n){var r;const o=this.clientOptions.uploader,i=await o.stat(t),l=String(i.size),a=null!==(r=null==n?void 0:n.mimeType)&&void 0!==r?r:i.type;if(void 0===a||""===a)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const s=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(t),c={};null!=n&&Kn(n,c);const d=await this.fetchUploadUrl(s,l,a,u,c,null==n?void 0:n.httpOptions);return o.uploadToFileSearchStore(t,d,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,n,r,o,i){var l;let a={};a=i||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${n}`},r?{"X-Goog-Upload-File-Name":r}:{})};const s=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:a});if(!s||!(null==s?void 0:s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=null===(l=null==s?void 0:s.headers)||void 0===l?void 0:l["x-goog-upload-url"];if(void 0===u)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Xn(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;r=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(r);if(n>=400&&n<600)throw new Cn({message:o,status:n});throw new Error(o)}}function Zn(e){for(const t of e){if(tr(t))return!0;if("object"==typeof t&&"inputSchema"in t)return!0}return false}function er(e){var t;const n=null!==(t=e[Yn])&&void 0!==t?t:"";e[Yn]=(n+" mcp_used/unknown").trimStart()}function tr(e){return null!==e&&"object"==typeof e&&e instanceof rr}function nr(e){return vn(this,arguments,function*(e,t=100){let n,r=0;for(;r<t;){const t=yield yn(e.listTools({cursor:n}));for(const e of t.tools)yield yield yn(e),r++;if(!t.nextCursor)break;n=t.nextCursor}})}class rr{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new rr(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const o={},i=[];for(const u of this.mcpClients)try{for(var l,a=!0,s=(t=void 0,bn(nr(u)));!(e=(l=await s.next()).done);a=!0){r=l.value,a=!1;const e=r;i.push(e);const t=e.name;if(o[t])throw new Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);o[t]=u}}catch(e){t={error:e}}finally{try{a||e||!(n=s.return)||await n.call(s)}finally{if(t)throw t.error}}this.mcpTools=i,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),function(e,t={}){const n=[],r=new Set;for(const o of e){const e=o.name;if(r.has(e))throw new Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);r.add(e);const i=tn(o,t);i.functionDeclarations&&n.push(...i.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const o=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:o.isError?{error:o}:o}})}return t}}class or{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),i=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(this.apiClient.getDefaultHeaders()),l=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let a=()=>{};const s=new Promise(e=>{a=e}),u=e.callbacks,c=(this.apiClient,{onopen:function(){a({})},onmessage:e=>{!async function(e,t,n){const r=new It;let o;o=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(r,o),t(r)}(0,u.onmessage,e)},onerror:null!==(t=null==u?void 0:u.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==u?void 0:u.onclose)&&void 0!==n?n:function(e){}}),d=this.webSocketFactory.create(l,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(i),c);d.connect(),await s;const p={setup:{model:At(this.apiClient,e.model)}};return d.send(JSON.stringify(p)),new ir(d,this.apiClient)}}class ir{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e){const t={},n=$(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e){const t={},n=$(e,["musicGenerationConfig"]);return null!=n&&B(t,["musicGenerationConfig"],n),t}(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Qe.PLAY)}pause(){this.sendPlaybackControl(Qe.PAUSE)}stop(){this.sendPlaybackControl(Qe.STOP)}resetContext(){this.sendPlaybackControl(Qe.RESET_CONTEXT)}close(){this.conn.close()}}class lr{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new or(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,o,i,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion();let u;const c=this.apiClient.getHeaders();e.config&&e.config.tools&&Zn(e.config.tools)&&er(c);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(c);if(this.apiClient.isVertexAI())u=`${a}/ws/google.cloud.aiplatform.${s}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,u);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),"v1alpha"!==s&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),t="BidiGenerateContentConstrained",n="access_token"),u=`${a}/ws/google.ai.generativelanguage.${s}.GenerativeService.${t}?${n}=${e}`}let p=()=>{};const f=new Promise(e=>{p=e}),h=e.callbacks,m=this.apiClient,g={onopen:function(){var e;null===(e=null==h?void 0:h.onopen)||void 0===e||e.call(h),p({})},onmessage:e=>{!async function(e,t,n){const r=new Ct;let o;o=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const i=JSON.parse(o);if(e.isVertexAI()){const e=function(e){const t={},n=$(e,["setupComplete"]);null!=n&&B(t,["setupComplete"],n);const r=$(e,["serverContent"]);null!=r&&B(t,["serverContent"],r);const o=$(e,["toolCall"]);null!=o&&B(t,["toolCall"],o);const i=$(e,["toolCallCancellation"]);null!=i&&B(t,["toolCallCancellation"],i);const l=$(e,["usageMetadata"]);null!=l&&B(t,["usageMetadata"],function(e){const t={},n=$(e,["promptTokenCount"]);null!=n&&B(t,["promptTokenCount"],n);const r=$(e,["cachedContentTokenCount"]);null!=r&&B(t,["cachedContentTokenCount"],r);const o=$(e,["candidatesTokenCount"]);null!=o&&B(t,["responseTokenCount"],o);const i=$(e,["toolUsePromptTokenCount"]);null!=i&&B(t,["toolUsePromptTokenCount"],i);const l=$(e,["thoughtsTokenCount"]);null!=l&&B(t,["thoughtsTokenCount"],l);const a=$(e,["totalTokenCount"]);null!=a&&B(t,["totalTokenCount"],a);const s=$(e,["promptTokensDetails"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["promptTokensDetails"],e)}const u=$(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["cacheTokensDetails"],e)}const c=$(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["responseTokensDetails"],e)}const d=$(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["toolUsePromptTokensDetails"],e)}const p=$(e,["trafficType"]);return null!=p&&B(t,["trafficType"],p),t}(l));const a=$(e,["goAway"]);null!=a&&B(t,["goAway"],a);const s=$(e,["sessionResumptionUpdate"]);null!=s&&B(t,["sessionResumptionUpdate"],s);const u=$(e,["voiceActivityDetectionSignal"]);null!=u&&B(t,["voiceActivityDetectionSignal"],u);const c=$(e,["voiceActivity"]);return null!=c&&B(t,["voiceActivity"],function(e){const t={},n=$(e,["type"]);return null!=n&&B(t,["voiceActivityType"],n),t}(c)),t}(i);Object.assign(r,e)}else{const e=i;Object.assign(r,e)}t(r)}(m,h.onmessage,e)},onerror:null!==(t=null==h?void 0:h.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==h?void 0:h.onclose)&&void 0!==n?n:function(e){}},y=this.webSocketFactory.create(u,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),g);y.connect(),await f;let v=At(this.apiClient,e.model);this.apiClient.isVertexAI()&&v.startsWith("publishers/")&&(v=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+v);let b={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[ye.AUDIO]}:e.config.responseModalities=[ye.AUDIO]),(null===(o=e.config)||void 0===o?void 0:o.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=null!==(l=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==l?l:[],S=[];for(const e of w)if(this.isCallableTool(e)){const t=e;S.push(await t.tool())}else S.push(e);S.length>0&&(e.config.tools=S);const E={model:v,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["setup","model"],At(e,r));const o=$(t,["config"]);return null!=o&&B(n,["config"],function(e,t){const n=$(e,["generationConfig"]);void 0!==t&&null!=n&&B(t,["setup","generationConfig"],function(e){const t={},n=$(e,["modelSelectionConfig"]);null!=n&&B(t,["modelConfig"],n);const r=$(e,["responseJsonSchema"]);null!=r&&B(t,["responseJsonSchema"],r);const o=$(e,["audioTimestamp"]);null!=o&&B(t,["audioTimestamp"],o);const i=$(e,["candidateCount"]);null!=i&&B(t,["candidateCount"],i);const l=$(e,["enableAffectiveDialog"]);null!=l&&B(t,["enableAffectiveDialog"],l);const a=$(e,["frequencyPenalty"]);null!=a&&B(t,["frequencyPenalty"],a);const s=$(e,["logprobs"]);null!=s&&B(t,["logprobs"],s);const u=$(e,["maxOutputTokens"]);null!=u&&B(t,["maxOutputTokens"],u);const c=$(e,["mediaResolution"]);null!=c&&B(t,["mediaResolution"],c);const d=$(e,["presencePenalty"]);null!=d&&B(t,["presencePenalty"],d);const p=$(e,["responseLogprobs"]);null!=p&&B(t,["responseLogprobs"],p);const f=$(e,["responseMimeType"]);null!=f&&B(t,["responseMimeType"],f);const h=$(e,["responseModalities"]);null!=h&&B(t,["responseModalities"],h);const m=$(e,["responseSchema"]);null!=m&&B(t,["responseSchema"],m);const g=$(e,["routingConfig"]);null!=g&&B(t,["routingConfig"],g);const y=$(e,["seed"]);null!=y&&B(t,["seed"],y);const v=$(e,["speechConfig"]);null!=v&&B(t,["speechConfig"],v);const b=$(e,["stopSequences"]);null!=b&&B(t,["stopSequences"],b);const w=$(e,["temperature"]);null!=w&&B(t,["temperature"],w);const S=$(e,["thinkingConfig"]);null!=S&&B(t,["thinkingConfig"],S);const E=$(e,["topK"]);null!=E&&B(t,["topK"],E);const _=$(e,["topP"]);if(null!=_&&B(t,["topP"],_),void 0!==$(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(n));const r=$(e,["responseModalities"]);void 0!==t&&null!=r&&B(t,["setup","generationConfig","responseModalities"],r);const o=$(e,["temperature"]);void 0!==t&&null!=o&&B(t,["setup","generationConfig","temperature"],o);const i=$(e,["topP"]);void 0!==t&&null!=i&&B(t,["setup","generationConfig","topP"],i);const l=$(e,["topK"]);void 0!==t&&null!=l&&B(t,["setup","generationConfig","topK"],l);const a=$(e,["maxOutputTokens"]);void 0!==t&&null!=a&&B(t,["setup","generationConfig","maxOutputTokens"],a);const s=$(e,["mediaResolution"]);void 0!==t&&null!=s&&B(t,["setup","generationConfig","mediaResolution"],s);const u=$(e,["seed"]);void 0!==t&&null!=u&&B(t,["setup","generationConfig","seed"],u);const c=$(e,["speechConfig"]);void 0!==t&&null!=c&&B(t,["setup","generationConfig","speechConfig"],Bt(c));const d=$(e,["thinkingConfig"]);void 0!==t&&null!=d&&B(t,["setup","generationConfig","thinkingConfig"],d);const p=$(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&B(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=$(e,["systemInstruction"]);void 0!==t&&null!=f&&B(t,["setup","systemInstruction"],qt(f));const h=$(e,["tools"]);if(void 0!==t&&null!=h){let e=Wt(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["retrieval"]);null!=n&&B(t,["retrieval"],n);const r=$(e,["computerUse"]);if(null!=r&&B(t,["computerUse"],r),void 0!==$(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=$(e,["codeExecution"]);null!=o&&B(t,["codeExecution"],o);const i=$(e,["enterpriseWebSearch"]);null!=i&&B(t,["enterpriseWebSearch"],i);const l=$(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["description"]);null!=n&&B(t,["description"],n);const r=$(e,["name"]);null!=r&&B(t,["name"],r);const o=$(e,["parameters"]);null!=o&&B(t,["parameters"],o);const i=$(e,["parametersJsonSchema"]);null!=i&&B(t,["parametersJsonSchema"],i);const l=$(e,["response"]);null!=l&&B(t,["response"],l);const a=$(e,["responseJsonSchema"]);if(null!=a&&B(t,["responseJsonSchema"],a),void 0!==$(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),B(t,["functionDeclarations"],e)}const a=$(e,["googleMaps"]);null!=a&&B(t,["googleMaps"],a);const s=$(e,["googleSearch"]);null!=s&&B(t,["googleSearch"],s);const u=$(e,["googleSearchRetrieval"]);null!=u&&B(t,["googleSearchRetrieval"],u);const c=$(e,["urlContext"]);return null!=c&&B(t,["urlContext"],c),t}($t(e)))),B(t,["setup","tools"],e)}const m=$(e,["sessionResumption"]);void 0!==t&&null!=m&&B(t,["setup","sessionResumption"],m);const g=$(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&B(t,["setup","inputAudioTranscription"],g);const y=$(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&B(t,["setup","outputAudioTranscription"],y);const v=$(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&B(t,["setup","realtimeInputConfig"],v);const b=$(e,["contextWindowCompression"]);void 0!==t&&null!=b&&B(t,["setup","contextWindowCompression"],b);const w=$(e,["proactivity"]);void 0!==t&&null!=w&&B(t,["setup","proactivity"],w);const S=$(e,["explicitVadSignal"]);return void 0!==t&&null!=S&&B(t,["setup","explicitVadSignal"],S),{}}(o,n)),n}(this.apiClient,E):function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["setup","model"],At(e,r));const o=$(t,["config"]);return null!=o&&B(n,["config"],An(o,n)),n}(this.apiClient,E),delete b.config,y.send(JSON.stringify(b)),new sr(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}const ar={turnComplete:!0};class sr{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let n=[];try{n=Ht(t.turns),e.isVertexAI()||(n=n.map(e=>Nn(e)))}catch(e){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:n,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const t of n){if("object"!=typeof t||null===t||!("name"in t)||!("response"in t))throw new Error(`Could not parse function response, type '${typeof t}'.`);if(!e.isVertexAI()&&!("id"in t))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},ar),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:On(e)}:{realtimeInput:xn(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function ur(e){var t,n,r;if(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let o=!1;for(const t of null!==(n=null==e?void 0:e.tools)&&void 0!==n?n:[])if(cr(t)){o=!0;break}if(!o)return!0;const i=null===(r=null==e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0)}function cr(e){return"callTool"in e&&"function"==typeof e.callTool}function dr(e){var t;const n=[];return(null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.tools)?(e.config.tools.forEach((e,t)=>{if(cr(e))return;const r=e;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(t)}),n):n}function pr(e){var t;return!(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}class fr extends z{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,o,i;const l=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>cr(e)))&&void 0!==r&&r}(e)||ur(e.config))return await this.generateContentInternal(l);const a=dr(e);if(a.length>0){const e=a.map(e=>`tools[${e}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${e}.`)}let s,u;const c=Ht(l.contents),d=null!==(r=null===(n=null===(t=l.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let p=0;for(;p<d&&(s=await this.generateContentInternal(l),s.functionCalls&&0!==s.functionCalls.length);){const t=s.candidates[0].content,n=[];for(const t of null!==(i=null===(o=e.config)||void 0===o?void 0:o.tools)&&void 0!==i?i:[])if(cr(t)){const e=t,r=await e.callTool(s.functionCalls);n.push(...r)}p++,u={role:"user",parts:n},l.contents=Ht(l.contents),l.contents.push(t),l.contents.push(u),pr(l.config)&&(c.push(t),c.push(u))}return pr(l.config)&&(s.automaticFunctionCallingHistory=c),s},this.generateContentStream=async e=>{var t,n,r,o,i;if(this.maybeMoveToResponseJsonSchem(e),ur(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}const l=dr(e);if(l.length>0){const e=l.map(e=>`tools[${e}]`).join(", ");throw new Error(`Incompatible tools found at ${e}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const a=null===(r=null===(n=null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.toolConfig)||void 0===n?void 0:n.functionCallingConfig)||void 0===r?void 0:r.streamFunctionCallArguments,s=null===(i=null===(o=null==e?void 0:e.config)||void 0===o?void 0:o.automaticFunctionCalling)||void 0===i?void 0:i.disable;if(a&&!s)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const r=[];if(null==e?void 0:e.generatedImages)for(const o of e.generatedImages)o&&(null==o?void 0:o.safetyAttributes)&&"Positive Prompt"===(null===(t=null==o?void 0:o.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null==o?void 0:o.safetyAttributes:r.push(o);let o;return o=n?{generatedImages:r,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:r,sdkHttpResponse:e.sdkHttpResponse},o}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new pn(Xe.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{var t,n,r,o,i,l;if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||((null===(t=e.video)||void 0===t?void 0:t.uri)&&(null===(n=e.video)||void 0===n?void 0:n.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null===(o=null===(r=e.source)||void 0===r?void 0:r.video)||void 0===o?void 0:o.uri)&&(null===(l=null===(i=e.source)||void 0===i?void 0:i.video)||void 0===l?void 0:l.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,r;const o=null===(t=e.config)||void 0===t?void 0:t.tools;if(!o)return e;const i=await Promise.all(o.map(async e=>{if(cr(e)){const t=e;return await t.tool()}return e})),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(l.config.tools=i,e.config&&e.config.tools&&Zn(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let o=Object.assign({},t);0===Object.keys(o).length&&(o=this.apiClient.getDefaultHeaders()),er(o),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:o})}return l}async initAfcToolsMap(e){var t,n,r;const o=new Map;for(const i of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(cr(i)){const e=i,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(o.has(n.name))throw new Error(`Duplicate tool declaration name: ${n.name}`);o.set(n.name,e)}}return o}async processAfcStream(e){var t,n,r;const o=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let i=!1,l=0;return function(e,t,n){return vn(this,arguments,function*(){for(var r,a,s,u,c,d;l<o;){i&&(l++,i=!1);const m=yield yn(e.processParamsMaybeAddMcpUsage(n)),g=yield yn(e.generateContentStreamInternal(m)),y=[],v=[];try{for(var p,f=!0,h=(a=void 0,bn(g));!(r=(p=yield yn(h.next())).done);f=!0){u=p.value,f=!1;const e=u;if(yield yield yn(e),e.candidates&&(null===(c=e.candidates[0])||void 0===c?void 0:c.content)){v.push(e.candidates[0].content);for(const n of null!==(d=e.candidates[0].content.parts)&&void 0!==d?d:[])if(l<o&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${n.functionCall.name}`);{const e=yield yn(t.get(n.functionCall.name).callTool([n.functionCall]));y.push(...e)}}}}}catch(e){a={error:e}}finally{try{f||r||!(s=h.return)||(yield yn(s.call(h)))}finally{if(a)throw a.error}}if(!(y.length>0))break;{i=!0;const e=new tt;e.candidates=[{content:{role:"user",parts:y}}],yield yield yn(e);const t=[];t.push(...v),t.push({role:"user",parts:y});const r=Ht(n.contents).concat(t);n.contents=r}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Rn(this.apiClient,e);return l=V("{model}:generateContent",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=Mn(e),n=new tt;return Object.assign(n,t),n})}{const t=Pn(this.apiClient,e);return l=V("{model}:generateContent",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=Dn(e),n=new tt;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Rn(this.apiClient,e);return l=V("{model}:streamGenerateContent?alt=sse",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),i.then(function(e){return vn(this,arguments,function*(){var t,n,r,o;try{for(var i,l=!0,a=bn(e);!(t=(i=yield yn(a.next())).done);l=!0){o=i.value,l=!1;const e=o,t=Mn(yield yn(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new tt;Object.assign(n,t),yield yield yn(n)}}catch(e){n={error:e}}finally{try{l||t||!(r=a.return)||(yield yn(r.call(a)))}finally{if(n)throw n.error}}})})}{const t=Pn(this.apiClient,e);return l=V("{model}:streamGenerateContent?alt=sse",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}),i.then(function(e){return vn(this,arguments,function*(){var t,n,r,o;try{for(var i,l=!0,a=bn(e);!(t=(i=yield yn(a.next())).done);l=!0){o=i.value,l=!1;const e=o,t=Dn(yield yn(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new tt;Object.assign(n,t),yield yield yn(n)}}catch(e){n={error:e}}finally{try{l||t||!(r=a.return)||(yield yn(r.call(a)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["contents"]);if(null!=o){let t=Ft(e,o);Array.isArray(t)&&(t=t.map(e=>e)),B(n,["instances[]","content"],t)}const i=$(t,["config"]);return null!=i&&function(e,t){const n=$(e,["taskType"]);void 0!==t&&null!=n&&B(t,["instances[]","task_type"],n);const r=$(e,["title"]);void 0!==t&&null!=r&&B(t,["instances[]","title"],r);const o=$(e,["outputDimensionality"]);void 0!==t&&null!=o&&B(t,["parameters","outputDimensionality"],o);const i=$(e,["mimeType"]);void 0!==t&&null!=i&&B(t,["instances[]","mimeType"],i);const l=$(e,["autoTruncate"]);void 0!==t&&null!=l&&B(t,["parameters","autoTruncate"],l)}(i,n),n}(this.apiClient,e);return l=V("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["predictions[]","embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["values"]);null!=n&&B(t,["values"],n);const r=$(e,["statistics"]);return null!=r&&B(t,["statistics"],function(e){const t={},n=$(e,["truncated"]);null!=n&&B(t,["truncated"],n);const r=$(e,["token_count"]);return null!=r&&B(t,["tokenCount"],r),t}(r)),t}(e))),B(t,["embeddings"],e)}const o=$(e,["metadata"]);return null!=o&&B(t,["metadata"],o),t}(e),n=new nt;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["contents"]);if(null!=o){let t=Ft(e,o);Array.isArray(t)&&(t=t.map(e=>e)),B(n,["requests[]","content"],t)}const i=$(t,["config"]);null!=i&&function(e,t){const n=$(e,["taskType"]);void 0!==t&&null!=n&&B(t,["requests[]","taskType"],n);const r=$(e,["title"]);void 0!==t&&null!=r&&B(t,["requests[]","title"],r);const o=$(e,["outputDimensionality"]);if(void 0!==t&&null!=o&&B(t,["requests[]","outputDimensionality"],o),void 0!==$(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==$(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(i,n);const l=$(t,["model"]);return void 0!==l&&B(n,["requests[]","model"],At(e,l)),n}(this.apiClient,e);return l=V("{model}:batchEmbedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["embeddings"],e)}const o=$(e,["metadata"]);return null!=o&&B(t,["metadata"],o),t}(e),n=new nt;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["prompt"]);null!=o&&B(n,["instances[0]","prompt"],o);const i=$(t,["config"]);return null!=i&&function(e,t){const n=$(e,["outputGcsUri"]);void 0!==t&&null!=n&&B(t,["parameters","storageUri"],n);const r=$(e,["negativePrompt"]);void 0!==t&&null!=r&&B(t,["parameters","negativePrompt"],r);const o=$(e,["numberOfImages"]);void 0!==t&&null!=o&&B(t,["parameters","sampleCount"],o);const i=$(e,["aspectRatio"]);void 0!==t&&null!=i&&B(t,["parameters","aspectRatio"],i);const l=$(e,["guidanceScale"]);void 0!==t&&null!=l&&B(t,["parameters","guidanceScale"],l);const a=$(e,["seed"]);void 0!==t&&null!=a&&B(t,["parameters","seed"],a);const s=$(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&B(t,["parameters","safetySetting"],s);const u=$(e,["personGeneration"]);void 0!==t&&null!=u&&B(t,["parameters","personGeneration"],u);const c=$(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&B(t,["parameters","includeSafetyAttributes"],c);const d=$(e,["includeRaiReason"]);void 0!==t&&null!=d&&B(t,["parameters","includeRaiReason"],d);const p=$(e,["language"]);void 0!==t&&null!=p&&B(t,["parameters","language"],p);const f=$(e,["outputMimeType"]);void 0!==t&&null!=f&&B(t,["parameters","outputOptions","mimeType"],f);const h=$(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&B(t,["parameters","outputOptions","compressionQuality"],h);const m=$(e,["addWatermark"]);void 0!==t&&null!=m&&B(t,["parameters","addWatermark"],m);const g=$(e,["labels"]);void 0!==t&&null!=g&&B(t,["labels"],g);const y=$(e,["imageSize"]);void 0!==t&&null!=y&&B(t,["parameters","sampleImageSize"],y);const v=$(e,["enhancePrompt"]);void 0!==t&&null!=v&&B(t,["parameters","enhancePrompt"],v)}(i,n),n}(this.apiClient,e);return l=V("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Un(e))),B(t,["generatedImages"],e)}const o=$(e,["positivePromptSafetyAttributes"]);return null!=o&&B(t,["positivePromptSafetyAttributes"],Bn(o)),t}(e),n=new rt;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["prompt"]);null!=o&&B(n,["instances[0]","prompt"],o);const i=$(t,["config"]);return null!=i&&function(e,t){if(void 0!==$(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==$(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=$(e,["numberOfImages"]);void 0!==t&&null!=n&&B(t,["parameters","sampleCount"],n);const r=$(e,["aspectRatio"]);void 0!==t&&null!=r&&B(t,["parameters","aspectRatio"],r);const o=$(e,["guidanceScale"]);if(void 0!==t&&null!=o&&B(t,["parameters","guidanceScale"],o),void 0!==$(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=$(e,["safetyFilterLevel"]);void 0!==t&&null!=i&&B(t,["parameters","safetySetting"],i);const l=$(e,["personGeneration"]);void 0!==t&&null!=l&&B(t,["parameters","personGeneration"],l);const a=$(e,["includeSafetyAttributes"]);void 0!==t&&null!=a&&B(t,["parameters","includeSafetyAttributes"],a);const s=$(e,["includeRaiReason"]);void 0!==t&&null!=s&&B(t,["parameters","includeRaiReason"],s);const u=$(e,["language"]);void 0!==t&&null!=u&&B(t,["parameters","language"],u);const c=$(e,["outputMimeType"]);void 0!==t&&null!=c&&B(t,["parameters","outputOptions","mimeType"],c);const d=$(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&B(t,["parameters","outputOptions","compressionQuality"],d),void 0!==$(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==$(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const p=$(e,["imageSize"]);if(void 0!==t&&null!=p&&B(t,["parameters","sampleImageSize"],p),void 0!==$(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(i,n),n}(this.apiClient,e);return l=V("{model}:predict",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["_self"]);null!=n&&B(t,["image"],function(e){const t={},n=$(e,["bytesBase64Encoded"]);null!=n&&B(t,["imageBytes"],Yt(n));const r=$(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}(n));const r=$(e,["raiFilteredReason"]);null!=r&&B(t,["raiFilteredReason"],r);const o=$(e,["_self"]);return null!=o&&B(t,["safetyAttributes"],Vn(o)),t}(e))),B(t,["generatedImages"],e)}const o=$(e,["positivePromptSafetyAttributes"]);return null!=o&&B(t,["positivePromptSafetyAttributes"],Vn(o)),t}(e),n=new rt;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["prompt"]);null!=o&&B(n,["instances[0]","prompt"],o);const i=$(t,["referenceImages"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["referenceImage"]);null!=n&&B(t,["referenceImage"],Hn(n));const r=$(e,["referenceId"]);null!=r&&B(t,["referenceId"],r);const o=$(e,["referenceType"]);null!=o&&B(t,["referenceType"],o);const i=$(e,["maskImageConfig"]);null!=i&&B(t,["maskImageConfig"],function(e){const t={},n=$(e,["maskMode"]);null!=n&&B(t,["maskMode"],n);const r=$(e,["segmentationClasses"]);null!=r&&B(t,["maskClasses"],r);const o=$(e,["maskDilation"]);return null!=o&&B(t,["dilation"],o),t}(i));const l=$(e,["controlImageConfig"]);null!=l&&B(t,["controlImageConfig"],function(e){const t={},n=$(e,["controlType"]);null!=n&&B(t,["controlType"],n);const r=$(e,["enableControlImageComputation"]);return null!=r&&B(t,["computeControl"],r),t}(l));const a=$(e,["styleImageConfig"]);null!=a&&B(t,["styleImageConfig"],a);const s=$(e,["subjectImageConfig"]);return null!=s&&B(t,["subjectImageConfig"],s),t}(e))),B(n,["instances[0]","referenceImages"],e)}const l=$(t,["config"]);return null!=l&&function(e,t){const n=$(e,["outputGcsUri"]);void 0!==t&&null!=n&&B(t,["parameters","storageUri"],n);const r=$(e,["negativePrompt"]);void 0!==t&&null!=r&&B(t,["parameters","negativePrompt"],r);const o=$(e,["numberOfImages"]);void 0!==t&&null!=o&&B(t,["parameters","sampleCount"],o);const i=$(e,["aspectRatio"]);void 0!==t&&null!=i&&B(t,["parameters","aspectRatio"],i);const l=$(e,["guidanceScale"]);void 0!==t&&null!=l&&B(t,["parameters","guidanceScale"],l);const a=$(e,["seed"]);void 0!==t&&null!=a&&B(t,["parameters","seed"],a);const s=$(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&B(t,["parameters","safetySetting"],s);const u=$(e,["personGeneration"]);void 0!==t&&null!=u&&B(t,["parameters","personGeneration"],u);const c=$(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&B(t,["parameters","includeSafetyAttributes"],c);const d=$(e,["includeRaiReason"]);void 0!==t&&null!=d&&B(t,["parameters","includeRaiReason"],d);const p=$(e,["language"]);void 0!==t&&null!=p&&B(t,["parameters","language"],p);const f=$(e,["outputMimeType"]);void 0!==t&&null!=f&&B(t,["parameters","outputOptions","mimeType"],f);const h=$(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&B(t,["parameters","outputOptions","compressionQuality"],h);const m=$(e,["addWatermark"]);void 0!==t&&null!=m&&B(t,["parameters","addWatermark"],m);const g=$(e,["labels"]);void 0!==t&&null!=g&&B(t,["labels"],g);const y=$(e,["editMode"]);void 0!==t&&null!=y&&B(t,["parameters","editMode"],y);const v=$(e,["baseSteps"]);void 0!==t&&null!=v&&B(t,["parameters","editConfig","baseSteps"],v)}(l,n),n}(this.apiClient,e);return o=V("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Un(e))),B(t,["generatedImages"],e)}return t}(e),n=new ot;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["image"]);null!=o&&B(n,["instances[0]","image"],Hn(o));const i=$(t,["upscaleFactor"]);null!=i&&B(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=$(t,["config"]);return null!=l&&function(e,t){const n=$(e,["outputGcsUri"]);void 0!==t&&null!=n&&B(t,["parameters","storageUri"],n);const r=$(e,["safetyFilterLevel"]);void 0!==t&&null!=r&&B(t,["parameters","safetySetting"],r);const o=$(e,["personGeneration"]);void 0!==t&&null!=o&&B(t,["parameters","personGeneration"],o);const i=$(e,["includeRaiReason"]);void 0!==t&&null!=i&&B(t,["parameters","includeRaiReason"],i);const l=$(e,["outputMimeType"]);void 0!==t&&null!=l&&B(t,["parameters","outputOptions","mimeType"],l);const a=$(e,["outputCompressionQuality"]);void 0!==t&&null!=a&&B(t,["parameters","outputOptions","compressionQuality"],a);const s=$(e,["enhanceInputImage"]);void 0!==t&&null!=s&&B(t,["parameters","upscaleConfig","enhanceInputImage"],s);const u=$(e,["imagePreservationFactor"]);void 0!==t&&null!=u&&B(t,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=$(e,["labels"]);void 0!==t&&null!=c&&B(t,["labels"],c);const d=$(e,["numberOfImages"]);void 0!==t&&null!=d&&B(t,["parameters","sampleCount"],d);const p=$(e,["mode"]);void 0!==t&&null!=p&&B(t,["parameters","mode"],p)}(l,n),n}(this.apiClient,e);return o=V("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Un(e))),B(t,["generatedImages"],e)}return t}(e),n=new it;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["source"]);null!=o&&function(e,t){const n=$(e,["prompt"]);void 0!==t&&null!=n&&B(t,["instances[0]","prompt"],n);const r=$(e,["personImage"]);void 0!==t&&null!=r&&B(t,["instances[0]","personImage","image"],Hn(r));const o=$(e,["productImages"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["productImage"]);return null!=n&&B(t,["image"],Hn(n)),t}(e))),B(t,["instances[0]","productImages"],e)}}(o,n);const i=$(t,["config"]);return null!=i&&function(e,t){const n=$(e,["numberOfImages"]);void 0!==t&&null!=n&&B(t,["parameters","sampleCount"],n);const r=$(e,["baseSteps"]);void 0!==t&&null!=r&&B(t,["parameters","baseSteps"],r);const o=$(e,["outputGcsUri"]);void 0!==t&&null!=o&&B(t,["parameters","storageUri"],o);const i=$(e,["seed"]);void 0!==t&&null!=i&&B(t,["parameters","seed"],i);const l=$(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&B(t,["parameters","safetySetting"],l);const a=$(e,["personGeneration"]);void 0!==t&&null!=a&&B(t,["parameters","personGeneration"],a);const s=$(e,["addWatermark"]);void 0!==t&&null!=s&&B(t,["parameters","addWatermark"],s);const u=$(e,["outputMimeType"]);void 0!==t&&null!=u&&B(t,["parameters","outputOptions","mimeType"],u);const c=$(e,["outputCompressionQuality"]);void 0!==t&&null!=c&&B(t,["parameters","outputOptions","compressionQuality"],c);const d=$(e,["enhancePrompt"]);void 0!==t&&null!=d&&B(t,["parameters","enhancePrompt"],d);const p=$(e,["labels"]);void 0!==t&&null!=p&&B(t,["labels"],p)}(i,n),n}(this.apiClient,e);return o=V("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=$(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Un(e))),B(t,["generatedImages"],e)}return t}(e),n=new lt;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["source"]);null!=o&&function(e,t){const n=$(e,["prompt"]);void 0!==t&&null!=n&&B(t,["instances[0]","prompt"],n);const r=$(e,["image"]);void 0!==t&&null!=r&&B(t,["instances[0]","image"],Hn(r));const o=$(e,["scribbleImage"]);void 0!==t&&null!=o&&B(t,["instances[0]","scribble"],function(e){const t={},n=$(e,["image"]);return null!=n&&B(t,["image"],Hn(n)),t}(o))}(o,n);const i=$(t,["config"]);return null!=i&&function(e,t){const n=$(e,["mode"]);void 0!==t&&null!=n&&B(t,["parameters","mode"],n);const r=$(e,["maxPredictions"]);void 0!==t&&null!=r&&B(t,["parameters","maxPredictions"],r);const o=$(e,["confidenceThreshold"]);void 0!==t&&null!=o&&B(t,["parameters","confidenceThreshold"],o);const i=$(e,["maskDilation"]);void 0!==t&&null!=i&&B(t,["parameters","maskDilation"],i);const l=$(e,["binaryColorThreshold"]);void 0!==t&&null!=l&&B(t,["parameters","binaryColorThreshold"],l);const a=$(e,["labels"]);void 0!==t&&null!=a&&B(t,["labels"],a)}(i,n),n}(this.apiClient,e);return o=V("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=$(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["_self"]);null!=n&&B(t,["mask"],qn(n));const r=$(e,["labels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["labels"],e)}return t}(e))),B(t,["generatedMasks"],e)}return t}(e),n=new at;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=$(t,["model"]);return null!=r&&B(n,["_url","name"],At(e,r)),n}(this.apiClient,e);return l=V("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>zn(e))}{const t=function(e,t){const n={},r=$(t,["model"]);return null!=r&&B(n,["_url","name"],At(e,r)),n}(this.apiClient,e);return l=V("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>Gn(e))}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=$(t,["config"]);return null!=r&&function(e,t,n){const r=$(t,["pageSize"]);void 0!==n&&null!=r&&B(n,["_query","pageSize"],r);const o=$(t,["pageToken"]);void 0!==n&&null!=o&&B(n,["_query","pageToken"],o);const i=$(t,["filter"]);void 0!==n&&null!=i&&B(n,["_query","filter"],i);const l=$(t,["queryBase"]);void 0!==n&&null!=l&&B(n,["_url","models_url"],Xt(e,l))}(e,r,n),n}(this.apiClient,e);return l=V("{models_url}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=$(e,["_self"]);if(null!=o){let e=Zt(o);Array.isArray(e)&&(e=e.map(e=>zn(e))),B(t,["models"],e)}return t}(e),n=new st;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=$(t,["config"]);return null!=r&&function(e,t,n){const r=$(t,["pageSize"]);void 0!==n&&null!=r&&B(n,["_query","pageSize"],r);const o=$(t,["pageToken"]);void 0!==n&&null!=o&&B(n,["_query","pageToken"],o);const i=$(t,["filter"]);void 0!==n&&null!=i&&B(n,["_query","filter"],i);const l=$(t,["queryBase"]);void 0!==n&&null!=l&&B(n,["_url","models_url"],Xt(e,l))}(e,r,n),n}(this.apiClient,e);return l=V("{models_url}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=$(e,["_self"]);if(null!=o){let e=Zt(o);Array.isArray(e)&&(e=e.map(e=>Gn(e))),B(t,["models"],e)}return t}(e),n=new st;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["config"]);return null!=o&&function(e,t){const n=$(e,["displayName"]);void 0!==t&&null!=n&&B(t,["displayName"],n);const r=$(e,["description"]);void 0!==t&&null!=r&&B(t,["description"],r);const o=$(e,["defaultCheckpointId"]);void 0!==t&&null!=o&&B(t,["defaultCheckpointId"],o)}(o,n),n}(this.apiClient,e);return l=V("{model}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>zn(e))}{const t=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","name"],At(e,r));const o=$(t,["config"]);return null!=o&&function(e,t){const n=$(e,["displayName"]);void 0!==t&&null!=n&&B(t,["displayName"],n);const r=$(e,["description"]);void 0!==t&&null!=r&&B(t,["description"],r);const o=$(e,["defaultCheckpointId"]);void 0!==t&&null!=o&&B(t,["defaultCheckpointId"],o)}(o,n),n}(this.apiClient,e);return l=V("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>Gn(e))}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=$(t,["model"]);return null!=r&&B(n,["_url","name"],At(e,r)),n}(this.apiClient,e);return l=V("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new ut;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=$(t,["model"]);return null!=r&&B(n,["_url","name"],At(e,r)),n}(this.apiClient,e);return l=V("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new ut;return Object.assign(n,t),n})}}async countTokens(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["contents"]);if(null!=o){let e=Ht(o);Array.isArray(e)&&(e=e.map(e=>e)),B(n,["contents"],e)}const i=$(t,["config"]);return null!=i&&function(e,t){const n=$(e,["systemInstruction"]);void 0!==t&&null!=n&&B(t,["systemInstruction"],qt(n));const r=$(e,["tools"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>$n(e))),B(t,["tools"],e)}const o=$(e,["generationConfig"]);void 0!==t&&null!=o&&B(t,["generationConfig"],function(e){const t={},n=$(e,["modelSelectionConfig"]);null!=n&&B(t,["modelConfig"],n);const r=$(e,["responseJsonSchema"]);null!=r&&B(t,["responseJsonSchema"],r);const o=$(e,["audioTimestamp"]);null!=o&&B(t,["audioTimestamp"],o);const i=$(e,["candidateCount"]);null!=i&&B(t,["candidateCount"],i);const l=$(e,["enableAffectiveDialog"]);null!=l&&B(t,["enableAffectiveDialog"],l);const a=$(e,["frequencyPenalty"]);null!=a&&B(t,["frequencyPenalty"],a);const s=$(e,["logprobs"]);null!=s&&B(t,["logprobs"],s);const u=$(e,["maxOutputTokens"]);null!=u&&B(t,["maxOutputTokens"],u);const c=$(e,["mediaResolution"]);null!=c&&B(t,["mediaResolution"],c);const d=$(e,["presencePenalty"]);null!=d&&B(t,["presencePenalty"],d);const p=$(e,["responseLogprobs"]);null!=p&&B(t,["responseLogprobs"],p);const f=$(e,["responseMimeType"]);null!=f&&B(t,["responseMimeType"],f);const h=$(e,["responseModalities"]);null!=h&&B(t,["responseModalities"],h);const m=$(e,["responseSchema"]);null!=m&&B(t,["responseSchema"],m);const g=$(e,["routingConfig"]);null!=g&&B(t,["routingConfig"],g);const y=$(e,["seed"]);null!=y&&B(t,["seed"],y);const v=$(e,["speechConfig"]);null!=v&&B(t,["speechConfig"],v);const b=$(e,["stopSequences"]);null!=b&&B(t,["stopSequences"],b);const w=$(e,["temperature"]);null!=w&&B(t,["temperature"],w);const S=$(e,["thinkingConfig"]);null!=S&&B(t,["thinkingConfig"],S);const E=$(e,["topK"]);null!=E&&B(t,["topK"],E);const _=$(e,["topP"]);if(null!=_&&B(t,["topP"],_),void 0!==$(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(o))}(i,n),n}(this.apiClient,e);return l=V("{model}:countTokens",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["totalTokens"]);return null!=r&&B(t,["totalTokens"],r),t}(e),n=new ct;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["contents"]);if(null!=o){let e=Ht(o);Array.isArray(e)&&(e=e.map(e=>Nn(e))),B(n,["contents"],e)}const i=$(t,["config"]);return null!=i&&function(e){if(void 0!==$(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==$(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==$(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(i),n}(this.apiClient,e);return l=V("{model}:countTokens",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["totalTokens"]);null!=r&&B(t,["totalTokens"],r);const o=$(e,["cachedContentTokenCount"]);return null!=o&&B(t,["cachedContentTokenCount"],o),t}(e),n=new ct;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["_url","model"],At(e,r));const o=$(t,["contents"]);if(null!=o){let e=Ht(o);Array.isArray(e)&&(e=e.map(e=>e)),B(n,["contents"],e)}return n}(this.apiClient,e);return o=V("{model}:computeTokens",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["tokensInfo"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["tokensInfo"],e)}return t}(e),n=new dt;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=jn(this.apiClient,e);return l=V("{model}:predictLongRunning",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=$(e,["name"]);null!=n&&B(t,["name"],n);const r=$(e,["metadata"]);null!=r&&B(t,["metadata"],r);const o=$(e,["done"]);null!=o&&B(t,["done"],o);const i=$(e,["error"]);null!=i&&B(t,["error"],i);const l=$(e,["response"]);return null!=l&&B(t,["response"],function(e){const t={},n=$(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["_self"]);return null!=n&&B(t,["video"],function(e){const t={},n=$(e,["gcsUri"]);null!=n&&B(t,["uri"],n);const r=$(e,["bytesBase64Encoded"]);null!=r&&B(t,["videoBytes"],Yt(r));const o=$(e,["mimeType"]);return null!=o&&B(t,["mimeType"],o),t}(n)),t}(e))),B(t,["generatedVideos"],e)}const r=$(e,["raiMediaFilteredCount"]);null!=r&&B(t,["raiMediaFilteredCount"],r);const o=$(e,["raiMediaFilteredReasons"]);return null!=o&&B(t,["raiMediaFilteredReasons"],o),t}(l)),t}(e),n=new pt;return Object.assign(n,t),n})}{const t=Ln(this.apiClient,e);return l=V("{model}:predictLongRunning",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=$(e,["name"]);null!=n&&B(t,["name"],n);const r=$(e,["metadata"]);null!=r&&B(t,["metadata"],r);const o=$(e,["done"]);null!=o&&B(t,["done"],o);const i=$(e,["error"]);null!=i&&B(t,["error"],i);const l=$(e,["response","generateVideoResponse"]);return null!=l&&B(t,["response"],function(e){const t={},n=$(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["video"]);return null!=n&&B(t,["video"],function(e){const t={},n=$(e,["uri"]);null!=n&&B(t,["uri"],n);const r=$(e,["encodedVideo"]);null!=r&&B(t,["videoBytes"],Yt(r));const o=$(e,["encoding"]);return null!=o&&B(t,["mimeType"],o),t}(n)),t}(e))),B(t,["generatedVideos"],e)}const r=$(e,["raiMediaFilteredCount"]);null!=r&&B(t,["raiMediaFilteredCount"],r);const o=$(e,["raiMediaFilteredReasons"]);return null!=o&&B(t,["raiMediaFilteredReasons"],o),t}(l)),t}(e),n=new pt;return Object.assign(n,t),n})}}}class hr extends z{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=$(e,["operationName"]);return null!=n&&B(t,["_url","operationName"],n),t}(e);return l=V("{operationName}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i}{const t=function(e){const t={},n=$(e,["operationName"]);return null!=n&&B(t,["_url","operationName"],n),t}(e);return l=V("{operationName}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i}}async fetchPredictVideosOperationInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e){const t={},n=$(e,["operationName"]);null!=n&&B(t,["operationName"],n);const r=$(e,["resourceName"]);return null!=r&&B(t,["_url","resourceName"],r),t}(e);return o=V("{resourceName}:fetchPredictOperation",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r}throw new Error("This method is only supported by the Vertex AI.")}}function mr(e,t,n){const r=$(t,["expireTime"]);void 0!==n&&null!=r&&B(n,["expireTime"],r);const o=$(t,["newSessionExpireTime"]);void 0!==n&&null!=o&&B(n,["newSessionExpireTime"],o);const i=$(t,["uses"]);void 0!==n&&null!=i&&B(n,["uses"],i);const l=$(t,["liveConnectConstraints"]);void 0!==n&&null!=l&&B(n,["bidiGenerateContentSetup"],function(e,t){const n={},r=$(t,["model"]);null!=r&&B(n,["setup","model"],At(e,r));const o=$(t,["config"]);return null!=o&&B(n,["config"],function(e,t){const n=$(e,["generationConfig"]);void 0!==t&&null!=n&&B(t,["setup","generationConfig"],n);const r=$(e,["responseModalities"]);void 0!==t&&null!=r&&B(t,["setup","generationConfig","responseModalities"],r);const o=$(e,["temperature"]);void 0!==t&&null!=o&&B(t,["setup","generationConfig","temperature"],o);const i=$(e,["topP"]);void 0!==t&&null!=i&&B(t,["setup","generationConfig","topP"],i);const l=$(e,["topK"]);void 0!==t&&null!=l&&B(t,["setup","generationConfig","topK"],l);const a=$(e,["maxOutputTokens"]);void 0!==t&&null!=a&&B(t,["setup","generationConfig","maxOutputTokens"],a);const s=$(e,["mediaResolution"]);void 0!==t&&null!=s&&B(t,["setup","generationConfig","mediaResolution"],s);const u=$(e,["seed"]);void 0!==t&&null!=u&&B(t,["setup","generationConfig","seed"],u);const c=$(e,["speechConfig"]);void 0!==t&&null!=c&&B(t,["setup","generationConfig","speechConfig"],Bt(c));const d=$(e,["thinkingConfig"]);void 0!==t&&null!=d&&B(t,["setup","generationConfig","thinkingConfig"],d);const p=$(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&B(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=$(e,["systemInstruction"]);void 0!==t&&null!=f&&B(t,["setup","systemInstruction"],function(e){const t={},n=$(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=$(e,["mediaResolution"]);null!=n&&B(t,["mediaResolution"],n);const r=$(e,["codeExecutionResult"]);null!=r&&B(t,["codeExecutionResult"],r);const o=$(e,["executableCode"]);null!=o&&B(t,["executableCode"],o);const i=$(e,["fileData"]);null!=i&&B(t,["fileData"],function(e){const t={};if(void 0!==$(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=$(e,["fileUri"]);null!=n&&B(t,["fileUri"],n);const r=$(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}(i));const l=$(e,["functionCall"]);null!=l&&B(t,["functionCall"],function(e){const t={},n=$(e,["id"]);null!=n&&B(t,["id"],n);const r=$(e,["args"]);null!=r&&B(t,["args"],r);const o=$(e,["name"]);if(null!=o&&B(t,["name"],o),void 0!==$(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==$(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=$(e,["functionResponse"]);null!=a&&B(t,["functionResponse"],a);const s=$(e,["inlineData"]);null!=s&&B(t,["inlineData"],function(e){const t={},n=$(e,["data"]);if(null!=n&&B(t,["data"],n),void 0!==$(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=$(e,["mimeType"]);return null!=r&&B(t,["mimeType"],r),t}(s));const u=$(e,["text"]);null!=u&&B(t,["text"],u);const c=$(e,["thought"]);null!=c&&B(t,["thought"],c);const d=$(e,["thoughtSignature"]);null!=d&&B(t,["thoughtSignature"],d);const p=$(e,["videoMetadata"]);return null!=p&&B(t,["videoMetadata"],p),t}(e))),B(t,["parts"],e)}const r=$(e,["role"]);return null!=r&&B(t,["role"],r),t}(qt(f)));const h=$(e,["tools"]);if(void 0!==t&&null!=h){let e=Wt(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==$(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=$(e,["computerUse"]);null!=n&&B(t,["computerUse"],n);const r=$(e,["fileSearch"]);null!=r&&B(t,["fileSearch"],r);const o=$(e,["codeExecution"]);if(null!=o&&B(t,["codeExecution"],o),void 0!==$(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=$(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["functionDeclarations"],e)}const l=$(e,["googleMaps"]);null!=l&&B(t,["googleMaps"],function(e){const t={};if(void 0!==$(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=$(e,["enableWidget"]);return null!=n&&B(t,["enableWidget"],n),t}(l));const a=$(e,["googleSearch"]);null!=a&&B(t,["googleSearch"],function(e){const t={};if(void 0!==$(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==$(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=$(e,["timeRangeFilter"]);return null!=n&&B(t,["timeRangeFilter"],n),t}(a));const s=$(e,["googleSearchRetrieval"]);null!=s&&B(t,["googleSearchRetrieval"],s);const u=$(e,["urlContext"]);return null!=u&&B(t,["urlContext"],u),t}($t(e)))),B(t,["setup","tools"],e)}const m=$(e,["sessionResumption"]);void 0!==t&&null!=m&&B(t,["setup","sessionResumption"],function(e){const t={},n=$(e,["handle"]);if(null!=n&&B(t,["handle"],n),void 0!==$(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(m));const g=$(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&B(t,["setup","inputAudioTranscription"],g);const y=$(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&B(t,["setup","outputAudioTranscription"],y);const v=$(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&B(t,["setup","realtimeInputConfig"],v);const b=$(e,["contextWindowCompression"]);void 0!==t&&null!=b&&B(t,["setup","contextWindowCompression"],b);const w=$(e,["proactivity"]);if(void 0!==t&&null!=w&&B(t,["setup","proactivity"],w),void 0!==$(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}(o,n)),n}(e,l));const a=$(t,["lockAdditionalFields"]);return void 0!==n&&null!=a&&B(n,["fieldMask"],a),{}}class gr extends z{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=function(e,t){const n={},r=$(t,["config"]);return null!=r&&B(n,["config"],mr(e,r,n)),n}(this.apiClient,e);o=V("auth_tokens",l._url),i=l._query,delete l.config,delete l._url,delete l._query;const a=function(e,t){let n=null;const r=e.bidiGenerateContentSetup;if("object"==typeof r&&null!==r&&"setup"in r){const t=r.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==r&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const r=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if("object"==typeof r&&null!=r&&Object.keys(r).length>0){const e=Object.keys(r).map(e=>`${n}.${e}`);t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&0===(null==t?void 0:t.lockAdditionalFields.length))r?e.fieldMask=r:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==o&&Array.isArray(o)&&o.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];o.length>0&&(n=o.map(e=>t.includes(e)?`generationConfig.${e}`:e));const i=[];r&&i.push(r),n.length>0&&i.push(...n),i.length>0?e.fieldMask=i.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==o&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}(l,e.config);return r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}}class yr extends z{constructor(e){super(),this.apiClient=e,this.list=async e=>new pn(Xe.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=$(e,["name"]);return null!=n&&B(t,["_url","name"],n),t}(e);return o=V("{name}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=function(e){const t={},n=$(e,["name"]);null!=n&&B(t,["_url","name"],n);const r=$(e,["config"]);return null!=r&&function(e,t){const n=$(e,["force"]);void 0!==t&&null!=n&&B(t,["_query","force"],n)}(r,t),t}(e);r=V("{name}",i._url),o=i._query,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=$(e,["parent"]);null!=n&&B(t,["_url","parent"],n);const r=$(e,["config"]);return null!=r&&function(e,t){const n=$(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=$(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r)}(r,t),t}(e);return o=V("{parent}/documents",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=$(e,["documents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["documents"],e)}return t}(e),n=new yt;return Object.assign(n,t),n})}}}class vr extends z{constructor(e,t=new yr(e)){super(),this.apiClient=e,this.documents=t,this.list=async(e={})=>new pn(Xe.PAGED_ITEM_FILE_SEARCH_STORES,e=>this.listInternal(e),await this.listInternal(e),e)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=$(e,["config"]);return null!=n&&function(e,t){const n=$(e,["displayName"]);void 0!==t&&null!=n&&B(t,["displayName"],n)}(n,t),t}(e);return o=V("fileSearchStores",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=$(e,["name"]);return null!=n&&B(t,["_url","name"],n),t}(e);return o=V("{name}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=function(e){const t={},n=$(e,["name"]);null!=n&&B(t,["_url","name"],n);const r=$(e,["config"]);return null!=r&&function(e,t){const n=$(e,["force"]);void 0!==t&&null!=n&&B(t,["_query","force"],n)}(r,t),t}(e);r=V("{name}",i._url),o=i._query,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=$(e,["config"]);return null!=n&&function(e,t){const n=$(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=$(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r)}(n,t),t}(e);return o=V("fileSearchStores",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=$(e,["fileSearchStores"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["fileSearchStores"],e)}return t}(e),n=new vt;return Object.assign(n,t),n})}}async uploadToFileSearchStoreInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=$(e,["fileSearchStoreName"]);null!=n&&B(t,["_url","file_search_store_name"],n);const r=$(e,["config"]);return null!=r&&Kn(r,t),t}(e);return o=V("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new bt;return Object.assign(n,t),n})}}async importFile(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=$(e,["fileSearchStoreName"]);null!=n&&B(t,["_url","file_search_store_name"],n);const r=$(e,["fileName"]);null!=r&&B(t,["fileName"],r);const o=$(e,["config"]);return null!=o&&function(e,t){const n=$(e,["customMetadata"]);if(void 0!==t&&null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["customMetadata"],e)}const r=$(e,["chunkingConfig"]);void 0!==t&&null!=r&&B(t,["chunkingConfig"],r)}(o,t),t}(e);return o=V("{file_search_store_name}:importFile",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=$(e,["name"]);null!=n&&B(t,["name"],n);const r=$(e,["metadata"]);null!=r&&B(t,["metadata"],r);const o=$(e,["done"]);null!=o&&B(t,["done"],o);const i=$(e,["error"]);null!=i&&B(t,["error"],i);const l=$(e,["response"]);return null!=l&&B(t,["response"],function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["parent"]);null!=r&&B(t,["parent"],r);const o=$(e,["documentName"]);return null!=o&&B(t,["documentName"],o),t}(l)),t}(e),n=new wt;return Object.assign(n,t),n})}}}let br=function(){const{crypto:e}=globalThis;if(null==e?void 0:e.randomUUID)return br=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^n()&15>>+e/4).toString(16))};function wr(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Sr=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(e){}try{return new Error(JSON.stringify(e))}catch(e){}}return new Error(e)};class Er extends Error{}class _r extends Er{constructor(e,t,n,r){super(`${_r.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,n){const r=(null==t?void 0:t.message)?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new Cr({message:n,cause:Sr(t)});const o=t;return 400===e?new kr(e,o,n,r):401===e?new Ar(e,o,n,r):403===e?new xr(e,o,n,r):404===e?new Or(e,o,n,r):409===e?new Nr(e,o,n,r):422===e?new Pr(e,o,n,r):429===e?new Rr(e,o,n,r):e>=500?new Dr(e,o,n,r):new _r(e,o,n,r)}}class Tr extends _r{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Cr extends _r{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class Ir extends Cr{constructor({message:e}={}){super({message:null!=e?e:"Request timed out."})}}class kr extends _r{}class Ar extends _r{}class xr extends _r{}class Or extends _r{}class Nr extends _r{}class Pr extends _r{}class Rr extends _r{}class Dr extends _r{}const Mr=/^[a-z][a-z0-9+.-]*:/i;let Lr=e=>(Lr=Array.isArray,Lr(e));const jr=Lr,Ur="0.0.1",qr=()=>{var e,t,n,r,o;const i="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===i)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ur,"X-Stainless-OS":Hr(Deno.build.os),"X-Stainless-Arch":Fr(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:null!==(t=null===(e=Deno.version)||void 0===e?void 0:e.deno)&&void 0!==t?t:"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===i)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ur,"X-Stainless-OS":Hr(null!==(n=globalThis.process.platform)&&void 0!==n?n:"unknown"),"X-Stainless-Arch":Fr(null!==(r=globalThis.process.arch)&&void 0!==r?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!==(o=globalThis.process.version)&&void 0!==o?o:"unknown"};const l=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e)return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}return null}();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}},Fr=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",Hr=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let Gr;function zr(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Vr(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return zr({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}function Br(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return(null==e?void 0:e.done)&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const $r=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),Wr=()=>{var e;if("undefined"==typeof File){const{process:t}=globalThis,n="string"==typeof(null===(e=null==t?void 0:t.versions)||void 0===e?void 0:e.node)&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Jr(e,t,n){return Wr(),new File(e,null!=t?t:"unknown_file",n)}const Kr=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;async function Yr(e){var t,n,r,o,i;let l=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(Kr(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator])(e)){const t=null===(i=null==e?void 0:e.constructor)||void 0===i?void 0:i.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";return`; props: [${Object.getOwnPropertyNames(e).map(e=>`"${e}"`).join(", ")}]`}(e)}`)}try{for(var a,s=!0,u=bn(e);!(t=(a=await u.next()).done);s=!0){o=a.value,s=!1;const e=o;l.push(...await Yr(e))}}catch(e){n={error:e}}finally{try{s||t||!(r=u.return)||await r.call(u)}finally{if(n)throw n.error}}}return l}class Qr{constructor(e){this._client=e}}function Xr(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}Qr._key=[];const Zr=Object.freeze(Object.create(null)),eo=(e=Xr)=>function(t,...n){if(1===t.length)return t[0];let r=!1;const o=[],i=t.reduce((t,i,l)=>{var a,s,u;/[?#]/.test(i)&&(r=!0);const c=n[l];let d=(r?encodeURIComponent:e)(""+c);return l!==n.length&&(null==c||"object"==typeof c&&c.toString===(null===(u=Object.getPrototypeOf(null!==(s=Object.getPrototypeOf(null!==(a=c.hasOwnProperty)&&void 0!==a?a:Zr))&&void 0!==s?s:Zr))||void 0===u?void 0:u.toString))&&(d=c+"",o.push({start:t.length+i.length,length:d.length,error:`Value of type ${Object.prototype.toString.call(c).slice(8,-1)} is not a valid path parameter`})),t+i+(l===n.length?"":d)},""),l=i.split(/[?#]/,1)[0],a=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let s;for(;null!==(s=a.exec(l));)o.push({start:s.index,length:s[0].length,error:`Value "${s[0]}" can't be safely passed as a path parameter`});if(o.sort((e,t)=>e.start-t.start),o.length>0){let e=0;const t=o.reduce((t,n)=>{const r=" ".repeat(n.start-e),o="^".repeat(n.length);return e=n.start+n.length,t+r+o},"");throw new Er(`Path parameters result in path with invalid segments:\n${o.map(e=>e.error).join("\n")}\n${i}\n${t}`)}return i},to=eo(Xr);class no extends Qr{create(e,t){var n;const{api_version:r=this._client.apiVersion}=e,o=gn(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Er("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Er("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(to`/${r}/interactions`,Object.assign(Object.assign({body:o},t),{stream:null!==(n=e.stream)&&void 0!==n&&n}))}delete(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.delete(to`/${r}/interactions/${e}`,n)}cancel(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.post(to`/${r}/interactions/${e}/cancel`,n)}get(e,t={},n){var r;const o=null!=t?t:{},{api_version:i=this._client.apiVersion}=o,l=gn(o,["api_version"]);return this._client.get(to`/${i}/interactions/${e}`,Object.assign(Object.assign({query:l},n),{stream:null!==(r=null==t?void 0:t.stream)&&void 0!==r&&r}))}}no._key=Object.freeze(["interactions"]);class ro extends no{}let oo,io;function lo(e){let t;return(null!=oo?oo:(t=new globalThis.TextEncoder,oo=t.encode.bind(t)))(e)}function ao(e){let t;return(null!=io?io:(t=new globalThis.TextDecoder,io=t.decode.bind(t)))(e)}class so{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?lo(e):e;this.buffer=function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}([this.buffer,t]);const n=[];let r;for(;null!=(r=uo(this.buffer,this.carriageReturnIndex));){if(r.carriage&&null==this.carriageReturnIndex){this.carriageReturnIndex=r.index;continue}if(null!=this.carriageReturnIndex&&(r.index!==this.carriageReturnIndex+1||r.carriage)){n.push(ao(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const e=null!==this.carriageReturnIndex?r.preceding-1:r.preceding,t=ao(this.buffer.subarray(0,e));n.push(t),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode("\n"):[]}}function uo(e,t){for(let n=null!=t?t:0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function co(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}so.NEWLINE_CHARS=new Set(["\n","\r"]),so.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const po={off:0,error:200,warn:300,info:400,debug:500},fo=(e,t,n)=>{var r,o;if(e)return r=po,o=e,Object.prototype.hasOwnProperty.call(r,o)?e:void vo(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(po))}`)};function ho(){}function mo(e,t,n){return!t||po[e]>po[n]?ho:t[e].bind(t)}const go={error:ho,warn:ho,info:ho,debug:ho};let yo=new WeakMap;function vo(e){var t;const n=e.logger,r=null!==(t=e.logLevel)&&void 0!==t?t:"off";if(!n)return go;const o=yo.get(n);if(o&&o[0]===r)return o[1];const i={error:mo("error",n,r),warn:mo("warn",n,r),info:mo("info",n,r),debug:mo("debug",n,r)};return yo.set(n,[r,i]),i}const bo=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"x-goog-api-key"===e.toLowerCase()||"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class wo{constructor(e,t,n){this.iterator=e,this.controller=t,this.client=n}static fromSSEResponse(e,t,n){let r=!1;const o=n?vo(n):console;return new wo(function(){return vn(this,arguments,function*(){var n,i,l,a;if(r)throw new Er("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{try{for(var u,c=!0,d=bn(function(e,t){return vn(this,arguments,function*(){var n,r,o,i;if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new Er("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new Er("Attempted to iterate over a response with no body")}const l=new So,a=new so,s=Br(e.body);try{for(var u,c=!0,d=bn(function(e){return vn(this,arguments,function*(){var t,n,r,o;let i=new Uint8Array;try{for(var l,a=!0,s=bn(e);!(t=(l=yield yn(s.next())).done);a=!0){o=l.value,a=!1;const e=o;if(null==e)continue;const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?lo(e):e;let n,r=new Uint8Array(i.length+t.length);for(r.set(i),r.set(t,i.length),i=r;-1!==(n=co(i));)yield yield yn(i.slice(0,n)),i=i.slice(n)}}catch(e){n={error:e}}finally{try{a||t||!(r=s.return)||(yield yn(r.call(s)))}finally{if(n)throw n.error}}i.length>0&&(yield yield yn(i))})}(s));!(n=(u=yield yn(d.next())).done);c=!0){i=u.value,c=!1;const e=i;for(const t of a.decode(e)){const e=l.decode(t);e&&(yield yield yn(e))}}}catch(e){r={error:e}}finally{try{c||n||!(o=d.return)||(yield yn(o.call(d)))}finally{if(r)throw r.error}}for(const e of a.flush()){const t=l.decode(e);t&&(yield yield yn(t))}})}(e,t));!(n=(u=yield yn(d.next())).done);c=!0){a=u.value,c=!1;const e=a;if(!s)if(e.data.startsWith("[DONE]"))s=!0;else try{yield yield yn(JSON.parse(e.data))}catch(t){throw o.error("Could not parse message into JSON:",e.data),o.error("From chunk:",e.raw),t}}}catch(e){i={error:e}}finally{try{c||n||!(l=d.return)||(yield yn(l.call(d)))}finally{if(i)throw i.error}}s=!0}catch(e){if(wr(e))return yield yn(void 0);throw e}finally{s||t.abort()}})},t,n)}static fromReadableStream(e,t,n){let r=!1;return new wo(function(){return vn(this,arguments,function*(){var n,o,i,l;if(r)throw new Er("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{try{for(var s,u=!0,c=bn(function(){return vn(this,arguments,function*(){var t,n,r,o;const i=new so,l=Br(e);try{for(var a,s=!0,u=bn(l);!(t=(a=yield yn(u.next())).done);s=!0){o=a.value,s=!1;const e=o;for(const t of i.decode(e))yield yield yn(t)}}catch(e){n={error:e}}finally{try{s||t||!(r=u.return)||(yield yn(r.call(u)))}finally{if(n)throw n.error}}for(const e of i.flush())yield yield yn(e)})}());!(n=(s=yield yn(c.next())).done);u=!0){l=s.value,u=!1;const e=l;a||e&&(yield yield yn(JSON.parse(e)))}}catch(e){o={error:e}}finally{try{u||n||!(i=c.return)||(yield yn(i.call(c)))}finally{if(o)throw o.error}}a=!0}catch(e){if(wr(e))return yield yn(void 0);throw e}finally{a||t.abort()}})},t,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new wo(()=>r(e),this.controller,this.client),new wo(()=>r(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return zr({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const o=lo(JSON.stringify(n)+"\n");e.enqueue(o)}catch(t){e.error(t)}},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}}class So{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e){const t=e.indexOf(":");return-1!==t?[e.substring(0,t),":",e.substring(t+1)]:[e,"",""]}(e);return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}async function Eo(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:i}=t,l=await(async()=>{var r;if(t.options.stream)return vo(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):wo.fromSSEResponse(n,t.controller,e);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const o=n.headers.get("content-type"),i=null===(r=null==o?void 0:o.split(";")[0])||void 0===r?void 0:r.trim();return(null==i?void 0:i.includes("application/json"))||(null==i?void 0:i.endsWith("+json"))?await n.json():await n.text()})();return vo(e).debug(`[${r}] response parsed`,bo({retryOfRequestLogID:o,url:n.url,status:n.status,body:l,durationMs:Date.now()-i})),l}class _o extends Promise{constructor(e,t,n=Eo){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new _o(this.client,this.responsePromise,async(t,n)=>e(await this.parseResponse(t,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const To=Symbol("brand.privateNullableHeaders");function*Co(e){if(!e)return;if(To in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():jr(e)?t=e:(n=!0,t=Object.entries(null!=e?e:{}));for(let e of t){const t=e[0];if("string"!=typeof t)throw new TypeError("expected header name to be a string");const r=jr(e[1])?e[1]:[e[1]];let o=!1;for(const e of r)void 0!==e&&(n&&!o&&(o=!0,yield[t,null]),yield[t,e])}}const Io=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[o,i]of Co(r)){const r=o.toLowerCase();e.has(r)||(t.delete(o),e.add(r)),null===i?(t.delete(o),n.add(r)):(t.append(o,i),n.delete(r))}}return{[To]:!0,values:t,nulls:n}},ko=e=>{var t,n,r,o,i,l;return void 0!==globalThis.process?null!==(r=null===(n=null===(t=globalThis.process.env)||void 0===t?void 0:t[e])||void 0===n?void 0:n.trim())&&void 0!==r?r:void 0:void 0!==globalThis.Deno?null===(l=null===(i=null===(o=globalThis.Deno.env)||void 0===o?void 0:o.get)||void 0===i?void 0:i.call(o,e))||void 0===l?void 0:l.trim():void 0};var Ao;class xo{constructor(e){var t,n,r,o,i,l,a,{baseURL:s=ko("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:u=(null!==(t=ko("GEMINI_API_KEY"))&&void 0!==t?t:null),apiVersion:c="v1beta"}=e,d=gn(e,["baseURL","apiKey","apiVersion"]);const p=Object.assign(Object.assign({apiKey:u,apiVersion:c},d),{baseURL:s||"https://generativelanguage.googleapis.com"});this.baseURL=p.baseURL,this.timeout=null!==(n=p.timeout)&&void 0!==n?n:xo.DEFAULT_TIMEOUT,this.logger=null!==(r=p.logger)&&void 0!==r?r:console;const f="warn";this.logLevel=f,this.logLevel=null!==(i=null!==(o=fo(p.logLevel,"ClientOptions.logLevel",this))&&void 0!==o?o:fo(ko("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))&&void 0!==i?i:f,this.fetchOptions=p.fetchOptions,this.maxRetries=null!==(l=p.maxRetries)&&void 0!==l?l:2,this.fetch=null!==(a=p.fetch)&&void 0!==a?a:function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),this.encoder=$r,this._options=p,this.apiKey=u,this.apiVersion=c,this.clientAdapter=p.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return"https://generativelanguage.googleapis.com"!==this.baseURL}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!e.has("authorization")&&!e.has("x-goog-api-key")&&!(this.apiKey&&e.get("x-goog-api-key")||t.has("x-goog-api-key")))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=Io([e.headers]);if(!t.values.has("authorization")&&!t.values.has("x-goog-api-key"))return this.apiKey?Io([{"x-goog-api-key":this.apiKey}]):this.clientAdapter.isVertexAI()?Io([await this.clientAdapter.getAuthHeaders()]):void 0}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new Er(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ur}`}defaultIdempotencyKey(){return`stainless-node-retry-${br()}`}makeStatusError(e,t,n,r){return _r.generate(e,t,n,r)}buildURL(e,t,n){const r=!this.baseURLOverridden()&&n||this.baseURL,o=(e=>Mr.test(e))(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return function(e){if(!e)return!0;for(const t in e)return!1;return!0}(i)||(t=Object.assign(Object.assign({},i),t)),"object"==typeof t&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>Object.assign({method:e,path:t},n)))}request(e,t=null){return new _o(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){var r,o,i;const l=await e,a=null!==(r=l.maxRetries)&&void 0!==r?r:this.maxRetries;null==t&&(t=a),await this.prepareOptions(l);const{req:s,url:u,timeout:c}=await this.buildRequest(l,{retryCount:a-t});await this.prepareRequest(s,{url:u,options:l});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=void 0===n?"":`, retryOf: ${n}`,f=Date.now();if(vo(this).debug(`[${d}] sending request`,bo({retryOfRequestLogID:n,method:l.method,url:u,options:l,headers:s.headers})),null===(o=l.signal)||void 0===o?void 0:o.aborted)throw new Tr;const h=new AbortController,m=await this.fetchWithTimeout(u,s,c,h).catch(Sr),g=Date.now();if(m instanceof globalThis.Error){const e=`retrying, ${t} attempts remaining`;if(null===(i=l.signal)||void 0===i?void 0:i.aborted)throw new Tr;const r=wr(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(t)return vo(this).info(`[${d}] connection ${r?"timed out":"failed"} - ${e}`),vo(this).debug(`[${d}] connection ${r?"timed out":"failed"} (${e})`,bo({retryOfRequestLogID:n,url:u,durationMs:g-f,message:m.message})),this.retryRequest(l,t,null!=n?n:d);if(vo(this).info(`[${d}] connection ${r?"timed out":"failed"} - error; no more retries left`),vo(this).debug(`[${d}] connection ${r?"timed out":"failed"} (error; no more retries left)`,bo({retryOfRequestLogID:n,url:u,durationMs:g-f,message:m.message})),r)throw new Ir;throw new Cr({cause:m})}const y=`[${d}${p}] ${s.method} ${u} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${g-f}ms`;if(!m.ok){const e=await this.shouldRetry(m);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await async function(e){var t,n;if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void await(null===(n=(t=e[Symbol.asyncIterator]()).return)||void 0===n?void 0:n.call(t));const r=e.getReader(),o=r.cancel();r.releaseLock(),await o}(m.body),vo(this).info(`${y} - ${e}`),vo(this).debug(`[${d}] response error (${e})`,bo({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:g-f})),this.retryRequest(l,t,null!=n?n:d,m.headers)}const r=e?"error; no more retries left":"error; not retryable";vo(this).info(`${y} - ${r}`);const o=await m.text().catch(e=>Sr(e).message),i=(e=>{try{return JSON.parse(e)}catch(e){return}})(o),a=i?void 0:o;throw vo(this).debug(`[${d}] response error (${r})`,bo({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,message:a,durationMs:Date.now()-f})),this.makeStatusError(m.status,i,a,m.headers)}return vo(this).info(y),vo(this).debug(`[${d}] response start`,bo({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:g-f})),{response:m,options:l,controller:h,requestLogID:d,retryOfRequestLogID:n,startTime:f}}async fetchWithTimeout(e,t,n,r){const o=t||{},{signal:i,method:l}=o,a=gn(o,["signal","method"]);i&&i.addEventListener("abort",()=>r.abort());const s=setTimeout(()=>r.abort(),n),u=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||"object"==typeof a.body&&null!==a.body&&Symbol.asyncIterator in a.body,c=Object.assign(Object.assign(Object.assign({signal:r.signal},u?{duplex:"half"}:{}),{method:"GET"}),a);l&&(c.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,c)}finally{clearTimeout(s)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||e.status>=500)}async retryRequest(e,t,n,r){var o;let i;const l=null==r?void 0:r.get("retry-after-ms");if(l){const e=parseFloat(l);Number.isNaN(e)||(i=e)}const a=null==r?void 0:r.get("retry-after");if(a&&!i){const e=parseFloat(a);i=Number.isNaN(e)?Date.parse(a)-Date.now():1e3*e}if(!(i&&0<=i&&i<6e4)){const n=null!==(o=e.maxRetries)&&void 0!==o?o:this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(t,n)}var s;return await(s=i,new Promise(e=>setTimeout(e,s))),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){var n,r,o;const i=Object.assign({},e),{method:l,path:a,query:s,defaultBaseURL:u}=i,c=this.buildURL(a,s,u);"timeout"in i&&((e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new Er(`${e} must be an integer`);if(t<0)throw new Er(`${e} must be a positive integer`)})("timeout",i.timeout),i.timeout=null!==(n=i.timeout)&&void 0!==n?n:this.timeout;const{bodyHeaders:d,body:p}=this.buildBody({options:i}),f=await this.buildHeaders({options:e,method:l,bodyHeaders:d,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:f},i.signal&&{signal:i.signal}),globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"}),p&&{body:p}),null!==(r=this.fetchOptions)&&void 0!==r?r:{}),null!==(o=i.fetchOptions)&&void 0!==o?o:{}),url:c,timeout:i.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:r}){let o={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const i=await this.authHeaders(e);let l=Io([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),null!=Gr?Gr:Gr=qr()),this._options.defaultHeaders,n,e.headers,i]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=Io([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:Vr(e)}:this.encoder({body:e,headers:n})}}xo.DEFAULT_TIMEOUT=6e4;class Oo extends xo{constructor(){super(...arguments),this.interactions=new ro(this)}}function No(e,t){const n={},r=$(e,["sdkHttpResponse"]);null!=r&&B(n,["sdkHttpResponse"],r);const o=$(e,["name"]);null!=o&&B(n,["name"],o);const i=$(e,["state"]);null!=i&&B(n,["state"],Kt(i));const l=$(e,["createTime"]);null!=l&&B(n,["createTime"],l);const a=$(e,["tuningTask","startTime"]);null!=a&&B(n,["startTime"],a);const s=$(e,["tuningTask","completeTime"]);null!=s&&B(n,["endTime"],s);const u=$(e,["updateTime"]);null!=u&&B(n,["updateTime"],u);const c=$(e,["description"]);null!=c&&B(n,["description"],c);const d=$(e,["baseModel"]);null!=d&&B(n,["baseModel"],d);const p=$(e,["_self"]);return null!=p&&B(n,["tunedModel"],function(e){const t={},n=$(e,["name"]);null!=n&&B(t,["model"],n);const r=$(e,["name"]);return null!=r&&B(t,["endpoint"],r),t}(p)),n}function Po(e,t){const n={},r=$(e,["sdkHttpResponse"]);null!=r&&B(n,["sdkHttpResponse"],r);const o=$(e,["name"]);null!=o&&B(n,["name"],o);const i=$(e,["state"]);null!=i&&B(n,["state"],Kt(i));const l=$(e,["createTime"]);null!=l&&B(n,["createTime"],l);const a=$(e,["startTime"]);null!=a&&B(n,["startTime"],a);const s=$(e,["endTime"]);null!=s&&B(n,["endTime"],s);const u=$(e,["updateTime"]);null!=u&&B(n,["updateTime"],u);const c=$(e,["error"]);null!=c&&B(n,["error"],c);const d=$(e,["description"]);null!=d&&B(n,["description"],d);const p=$(e,["baseModel"]);null!=p&&B(n,["baseModel"],p);const f=$(e,["tunedModel"]);null!=f&&B(n,["tunedModel"],f);const h=$(e,["preTunedModel"]);null!=h&&B(n,["preTunedModel"],h);const m=$(e,["supervisedTuningSpec"]);null!=m&&B(n,["supervisedTuningSpec"],m);const g=$(e,["preferenceOptimizationSpec"]);null!=g&&B(n,["preferenceOptimizationSpec"],g);const y=$(e,["tuningDataStats"]);null!=y&&B(n,["tuningDataStats"],y);const v=$(e,["encryptionSpec"]);null!=v&&B(n,["encryptionSpec"],v);const b=$(e,["partnerModelTuningSpec"]);null!=b&&B(n,["partnerModelTuningSpec"],b);const w=$(e,["customBaseModel"]);null!=w&&B(n,["customBaseModel"],w);const S=$(e,["experiment"]);null!=S&&B(n,["experiment"],S);const E=$(e,["labels"]);null!=E&&B(n,["labels"],E);const _=$(e,["outputUri"]);null!=_&&B(n,["outputUri"],_);const T=$(e,["pipelineJob"]);null!=T&&B(n,["pipelineJob"],T);const C=$(e,["serviceAccount"]);null!=C&&B(n,["serviceAccount"],C);const I=$(e,["tunedModelDisplayName"]);null!=I&&B(n,["tunedModelDisplayName"],I);const k=$(e,["veoTuningSpec"]);return null!=k&&B(n,["veoTuningSpec"],k),n}function Ro(e,t){const n={},r=$(e,["gcsUri"]);null!=r&&B(n,["validationDatasetUri"],r);const o=$(e,["vertexDatasetResource"]);return null!=o&&B(n,["validationDatasetUri"],o),n}Ao=Oo,Oo.GeminiNextGenAPIClient=Ao,Oo.GeminiNextGenAPIClientError=Er,Oo.APIError=_r,Oo.APIConnectionError=Cr,Oo.APIConnectionTimeoutError=Ir,Oo.APIUserAbortError=Tr,Oo.NotFoundError=Or,Oo.ConflictError=Nr,Oo.RateLimitError=Rr,Oo.BadRequestError=kr,Oo.AuthenticationError=Ar,Oo.InternalServerError=Dr,Oo.PermissionDeniedError=xr,Oo.UnprocessableEntityError=Pr,Oo.toFile=async function(e,t,n){if(Wr(),(e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&Kr(e))(e=await e))return e instanceof File?e:Jr([await e.arrayBuffer()],e.name);if((e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob)(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Jr(await Yr(r),t,n)}const r=await Yr(e);if(t||(t=function(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}(e)),!(null==n?void 0:n.type)){const e=r.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(n=Object.assign(Object.assign({},n),{type:e}))}return Jr(r,t,n)},Oo.Interactions=ro;class Do extends z{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new pn(Xe.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.get=async e=>await this.getInternal(e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const n={tunedModelName:e.baseModel};(null===(t=e.config)||void 0===t?void 0:t.preTunedModelCheckpointId)&&(n.checkpointId=e.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},e),{preTunedModel:n});return r.baseModel=void 0,await this.tuneInternal(r)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let r="";return void 0!==n.metadata&&void 0!==n.metadata.tunedModel?r=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(r=n.name.split("/operations/")[0]),{name:r,state:Se.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=$(e,["name"]);return null!=n&&B(t,["_url","name"],n),t}(e);return l=V("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>Po(e))}{const t=function(e){const t={},n=$(e,["name"]);return null!=n&&B(t,["_url","name"],n),t}(e);return l=V("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>No(e))}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=$(e,["config"]);return null!=n&&function(e,t){const n=$(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=$(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r);const o=$(e,["filter"]);void 0!==t&&null!=o&&B(t,["_query","filter"],o)}(n,t),t}(e);return l=V("tuningJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=$(e,["tuningJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Po(e))),B(t,["tuningJobs"],e)}return t}(e),n=new ft;return Object.assign(n,t),n})}{const t=function(e){const t={},n=$(e,["config"]);return null!=n&&function(e,t){const n=$(e,["pageSize"]);void 0!==t&&null!=n&&B(t,["_query","pageSize"],n);const r=$(e,["pageToken"]);void 0!==t&&null!=r&&B(t,["_query","pageToken"],r);const o=$(e,["filter"]);void 0!==t&&null!=o&&B(t,["_query","filter"],o)}(n,t),t}(e);return l=V("tunedModels",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["nextPageToken"]);null!=r&&B(t,["nextPageToken"],r);const o=$(e,["tunedModels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>No(e))),B(t,["tuningJobs"],e)}return t}(e),n=new ft;return Object.assign(n,t),n})}}async cancel(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=$(e,["name"]);return null!=n&&B(t,["_url","name"],n),t}(e);return l=V("{name}:cancel",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new ht;return Object.assign(n,t),n})}{const t=function(e){const t={},n=$(e,["name"]);return null!=n&&B(t,["_url","name"],n),t}(e);return l=V("{name}:cancel",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=$(e,["sdkHttpResponse"]);return null!=n&&B(t,["sdkHttpResponse"],n),t}(e),n=new ht;return Object.assign(n,t),n})}}async tuneInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=$(e,["baseModel"]);null!=r&&B(n,["baseModel"],r);const o=$(e,["preTunedModel"]);null!=o&&B(n,["preTunedModel"],o);const i=$(e,["trainingDataset"]);null!=i&&function(e,t,n){let r=$(n,["config","method"]);if(void 0===r&&(r="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===r){const n=$(e,["gcsUri"]);void 0!==t&&null!=n&&B(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===r){const n=$(e,["gcsUri"]);void 0!==t&&null!=n&&B(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}let o=$(n,["config","method"]);if(void 0===o&&(o="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===o){const n=$(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&B(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===o){const n=$(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&B(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}if(void 0!==$(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.")}(i,n,t);const l=$(e,["config"]);return null!=l&&function(e,t,n){let r=$(n,["config","method"]);if(void 0===r&&(r="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===r){const n=$(e,["validationDataset"]);void 0!==t&&null!=n&&B(t,["supervisedTuningSpec"],Ro(n))}else if("PREFERENCE_TUNING"===r){const n=$(e,["validationDataset"]);void 0!==t&&null!=n&&B(t,["preferenceOptimizationSpec"],Ro(n))}const o=$(e,["tunedModelDisplayName"]);void 0!==t&&null!=o&&B(t,["tunedModelDisplayName"],o);const i=$(e,["description"]);void 0!==t&&null!=i&&B(t,["description"],i);let l=$(n,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){const n=$(e,["epochCount"]);void 0!==t&&null!=n&&B(t,["supervisedTuningSpec","hyperParameters","epochCount"],n)}else if("PREFERENCE_TUNING"===l){const n=$(e,["epochCount"]);void 0!==t&&null!=n&&B(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],n)}let a=$(n,["config","method"]);if(void 0===a&&(a="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===a){const n=$(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&B(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],n)}else if("PREFERENCE_TUNING"===a){const n=$(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&B(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],n)}let s=$(n,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){const n=$(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&B(t,["supervisedTuningSpec","exportLastCheckpointOnly"],n)}else if("PREFERENCE_TUNING"===s){const n=$(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&B(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],n)}let u=$(n,["config","method"]);if(void 0===u&&(u="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===u){const n=$(e,["adapterSize"]);void 0!==t&&null!=n&&B(t,["supervisedTuningSpec","hyperParameters","adapterSize"],n)}else if("PREFERENCE_TUNING"===u){const n=$(e,["adapterSize"]);void 0!==t&&null!=n&&B(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],n)}if(void 0!==$(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==$(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const c=$(e,["labels"]);void 0!==t&&null!=c&&B(t,["labels"],c);const d=$(e,["beta"]);void 0!==t&&null!=d&&B(t,["preferenceOptimizationSpec","hyperParameters","beta"],d)}(l,n,t),n}(e,e);return o=V("tuningJobs",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>Po(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=$(e,["baseModel"]);null!=n&&B(t,["baseModel"],n);const r=$(e,["preTunedModel"]);null!=r&&B(t,["preTunedModel"],r);const o=$(e,["trainingDataset"]);null!=o&&function(e){const t={};if(void 0!==$(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==$(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=$(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),B(t,["examples","examples"],e)}}(o);const i=$(e,["config"]);return null!=i&&function(e,t){if(void 0!==$(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const n=$(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=n&&B(t,["displayName"],n),void 0!==$(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const r=$(e,["epochCount"]);void 0!==t&&null!=r&&B(t,["tuningTask","hyperparameters","epochCount"],r);const o=$(e,["learningRateMultiplier"]);if(null!=o&&B({},["tuningTask","hyperparameters","learningRateMultiplier"],o),void 0!==$(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==$(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==$(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const i=$(e,["batchSize"]);void 0!==t&&null!=i&&B(t,["tuningTask","hyperparameters","batchSize"],i);const l=$(e,["learningRate"]);if(void 0!==t&&null!=l&&B(t,["tuningTask","hyperparameters","learningRate"],l),void 0!==$(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");if(void 0!==$(e,["beta"]))throw new Error("beta parameter is not supported in Gemini API.")}(i,t),t}(e);return o=V("tunedModels",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>function(e){const t={},n=$(e,["sdkHttpResponse"]);null!=n&&B(t,["sdkHttpResponse"],n);const r=$(e,["name"]);null!=r&&B(t,["name"],r);const o=$(e,["metadata"]);null!=o&&B(t,["metadata"],o);const i=$(e,["done"]);null!=i&&B(t,["done"],i);const l=$(e,["error"]);return null!=l&&B(t,["error"],l),t}(e))}}}class Mo{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Lo="x-goog-upload-status";async function jo(e,t,n){var r,o;let i=0,l=0,a=new et(new Response),s="upload";for(i=e.size;l<i;){const u=Math.min(8388608,i-l),c=e.slice(l,l+u);l+u>=i&&(s+=", finalize");let d=0,p=1e3;for(;d<3&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":s,"X-Goog-Upload-Offset":String(l),"Content-Length":String(u)}}}),!(null===(r=null==a?void 0:a.headers)||void 0===r?void 0:r[Lo]));)d++,await Uo(p),p*=2;if(l+=u,"active"!==(null===(o=null==a?void 0:a.headers)||void 0===o?void 0:o[Lo]))break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}function Uo(e){return new Promise(t=>setTimeout(t,e))}class qo{async upload(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const o=await jo(e,t,n),i=await(null==o?void 0:o.json());if("final"!==(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r[Lo]))throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}(e,t,n)}async uploadToFileSearchStore(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const o=await jo(e,t,n),i=await(null==o?void 0:o.json());if("final"!==(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r[Lo]))throw new Error("Failed to upload file: Upload status is not finalized.");const l=K(i),a=new kt;return Object.assign(a,l),a}(e,t,n)}async stat(e){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}class Fo{create(e,t,n){return new Ho(e,t,n)}}class Ho{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}const Go="x-goog-api-key";class zo{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(null===e.get(Go)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Go,this.apiKey)}}}class Vo{get interactions(){if(void 0!==this._interactions)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;(null==e?void 0:e.extraBody)&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new Oo({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:null==e?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=function(e,t,n,r){var o,i;if(!(null==e?void 0:e.baseUrl)){const e={geminiUrl:void 0,vertexUrl:void 0};return t?null!==(o=e.vertexUrl)&&void 0!==o?o:n:null!==(i=e.geminiUrl)&&void 0!==i?i:r}return e.baseUrl}(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new zo(this.apiKey);this.apiClient=new Qn({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:"gl-node/web",uploader:new qo,downloader:new Mo}),this.models=new fr(this.apiClient),this.live=new lr(this.apiClient,r,new Fo),this.batches=new fn(this.apiClient),this.chats=new _n(this.models,this.apiClient),this.caches=new mn(this.apiClient),this.files=new In(this.apiClient),this.operations=new hr(this.apiClient),this.authTokens=new gr(this.apiClient),this.tunings=new Do(this.apiClient),this.fileSearchStores=new vr(this.apiClient)}}function Bo(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof a?r:a,u=Object.create(s.prototype);return $o(u,"_invoke",function(n,r,o){var i,a,s,u=0,c=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,a=0,s=e,p.n=n,l}};function f(n,r){for(a=n,s=r,t=0;!d&&u&&!o&&t<c.length;t++){var o,i=c[t],f=p.p,h=i[2];n>3?(o=h===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(a=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,a=0))}if(o||n>1)return l;throw d=!0,r}return function(o,c,h){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&f(c,h),a=c,s=h;(t=a<2?e:s)||!d;){i||(a?a<3?(a>1&&(p.n=-1),f(a,s)):p.n=s:p.v=s);try{if(u=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==l)break}catch(t){i=e,a=1,s=t}finally{u=1}}return{value:t,done:d}}}(n,o,i),!0),u}var l={};function a(){}function s(){}function u(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):($o(t={},r,function(){return this}),t),d=u.prototype=a.prototype=Object.create(c);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,$o(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=u,$o(d,"constructor",u),$o(u,"constructor",s),s.displayName="GeneratorFunction",$o(u,o,"GeneratorFunction"),$o(d),$o(d,o,"Generator"),$o(d,r,function(){return this}),$o(d,"toString",function(){return"[object Generator]"}),(Bo=function(){return{w:i,m:p}})()}function $o(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}$o=function(e,t,n,r){function i(t,n){$o(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},$o(e,t,n,r)}function Wo(e,t,n,r,o,i,l){try{var a=e[i](l),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o)}function Jo(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function l(e){Wo(i,r,o,l,a,"next",e)}function a(e){Wo(i,r,o,l,a,"throw",e)}l(void 0)})}}var Ko=function(){var e=Jo(Bo().m(function e(t){var n;return Bo().w(function(e){for(;;)switch(e.n){case 0:if(!(t.toString().toLowerCase().includes("requested entity was not found")||404===t.status||t.error&&404===t.error.code)){e.n=2;break}if(null===(n=window.aistudio)||void 0===n||!n.openSelectKey){e.n=2;break}return e.n=1,window.aistudio.openSelectKey();case 1:throw new Error("API Key refreshed. Please retry the action.");case 2:throw t;case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Yo=function(){var e=Jo(Bo().m(function e(t){var n,r,o;return Bo().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=new Vo({apiKey:v.apiKey}),e.p=1,e.n=2,n.models.generateContent({model:"gemini-flash-lite-latest",contents:"\n      # Role\n      Expert Chat Customer Support Agent.\n      # Behavior and Response\n      - Acknowledge: Acknowledge the customer's request.\n      - Empathize: Empathize with the customer in case of inconvenience or trouble.\n      - Reassure: Assure the customer that you'll your best to help them.\n      # Constraints\n      Very brief, friendly, professional, positive language, use < 50 words per response.\n\n      Customer Message:\n      ```\n        ".concat(t,"\n      ```\n      "),config:{temperature:.5,topP:.75,maxOutputTokens:100}});case 2:return r=e.v,e.a(2,r.text||"No response generated.");case 3:return e.p=3,o=e.v,e.n=4,Ko(o);case 4:return e.a(2,"Error generating response.")}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}();function Qo(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof a?r:a,u=Object.create(s.prototype);return Xo(u,"_invoke",function(n,r,o){var i,a,s,u=0,c=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,a=0,s=e,p.n=n,l}};function f(n,r){for(a=n,s=r,t=0;!d&&u&&!o&&t<c.length;t++){var o,i=c[t],f=p.p,h=i[2];n>3?(o=h===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(a=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,a=0))}if(o||n>1)return l;throw d=!0,r}return function(o,c,h){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&f(c,h),a=c,s=h;(t=a<2?e:s)||!d;){i||(a?a<3?(a>1&&(p.n=-1),f(a,s)):p.n=s:p.v=s);try{if(u=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==l)break}catch(t){i=e,a=1,s=t}finally{u=1}}return{value:t,done:d}}}(n,o,i),!0),u}var l={};function a(){}function s(){}function u(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(Xo(t={},r,function(){return this}),t),d=u.prototype=a.prototype=Object.create(c);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Xo(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=u,Xo(d,"constructor",u),Xo(u,"constructor",s),s.displayName="GeneratorFunction",Xo(u,o,"GeneratorFunction"),Xo(d),Xo(d,o,"Generator"),Xo(d,r,function(){return this}),Xo(d,"toString",function(){return"[object Generator]"}),(Qo=function(){return{w:i,m:p}})()}function Xo(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Xo=function(e,t,n,r){function i(t,n){Xo(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Xo(e,t,n,r)}function Zo(e,t,n,r,o,i,l){try{var a=e[i](l),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o)}function ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ti(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ti(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const ni=function(){var e=ei((0,o.useState)(""),2),t=e[0],n=e[1],r=ei((0,o.useState)(""),2),i=r[0],a=r[1],s=ei((0,o.useState)(!1),2),u=s[0],c=s[1],d=ei((0,o.useState)(!1),2),p=d[0],f=d[1],h=function(){var e,n=(e=Qo().m(function e(){var n,r;return Qo().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.trim()){e.n=1;break}return e.a(2);case 1:return c(!0),a(""),e.p=2,e.n=3,Yo(t);case 3:n=e.v,a(n),E(),e.n=5;break;case 4:e.p=4,r=e.v,console.error(r),a("Error generating response.\nPlease check your connection and API settings.");case 5:return e.p=5,c(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function l(e){Zo(i,r,o,l,a,"next",e)}function a(e){Zo(i,r,o,l,a,"throw",e)}l(void 0)})});return function(){return n.apply(this,arguments)}}();return(0,l.jsxs)("div",{id:"qresp-root",className:"h-full flex flex-col p-1 md:p-8 animate-fadeIn overflow-hidden",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2 flex-shrink-0",children:[(0,l.jsx)("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-sm mt-1",children:"Generate immediate drafts for any customer inquiry following AER."}),(0,l.jsx)("button",{onClick:function(){n(""),a(""),f(!1)},disabled:!t&&!i,className:"px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest text-slate-500 hover:bg-slate-200 dark:text-slate-400 dark:hover:bg-slate-800 transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:"Clear All"})]}),(0,l.jsxs)("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-6 min-h-0",children:[(0,l.jsxs)("div",{className:"flex flex-col h-full space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,l.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400",children:"Source Context"}),(0,l.jsxs)("span",{className:"text-[10px] font-bold text-slate-300 dark:text-slate-600",children:[t.length," chars"]})]}),(0,l.jsx)("div",{className:"flex-1 bg-white dark:bg-slate-900 rounded-[2rem] border border-slate-200 dark:border-slate-800 shadow-xl overflow-hidden flex flex-col transition-colors focus-within:ring-4 focus-within:ring-blue-500/10 focus-within:border-blue-500/50",children:(0,l.jsx)("textarea",{value:t,onChange:function(e){return n(e.target.value)},placeholder:"Paste the customer's message here...",className:"w-full h-full p-4 bg-transparent border-none outline-none resize-none text-slate-700 dark:text-slate-200 text-base leading-relaxed placeholder:text-slate-300 dark:placeholder:text-slate-700"})}),(0,l.jsx)("button",{onClick:h,disabled:!t.trim()||u,className:"w-full py-5 rounded-2xl font-black uppercase tracking-widest transition-all shadow-lg text-white flex items-center justify-center gap-3 active:scale-[0.98] ".concat(!t.trim()||u?"bg-slate-300 dark:bg-slate-800 cursor-not-allowed shadow-none text-slate-500":"bg-blue-600 hover:bg-blue-700 shadow-blue-500/30"),children:u?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-5 h-5 border-3 border-white/30 border-t-white rounded-full animate-spin"}),(0,l.jsx)("span",{children:"Drafting..."})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),(0,l.jsx)("path",{d:"M21 3v5h-5"})]}),(0,l.jsx)("span",{children:"Generate Draft"})]})})]}),(0,l.jsxs)("div",{className:"flex flex-col h-full space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,l.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-blue-500",children:"AI Suggestion"}),(0,l.jsxs)("span",{className:"flex items-center gap-1.5 text-[10px] font-bold text-slate-400",children:[(0,l.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(w()?"bg-emerald-500":"bg-red-500")}),w()?"Ready":"Invalid API Key"]})]}),(0,l.jsxs)("div",{className:"flex-1 bg-slate-50 dark:bg-slate-950 rounded-[2rem] border border-slate-200 dark:border-slate-800 shadow-inner overflow-hidden flex flex-col relative group",children:[u?(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm z-10",children:[(0,l.jsx)("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"}),(0,l.jsx)("p",{className:"text-xs font-black uppercase tracking-widest text-blue-600 animate-pulse",children:"Thinking"})]}):i?null:(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-40 select-none pointer-events-none",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-slate-200 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4 text-slate-400 dark:text-slate-600",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),(0,l.jsx)("p",{className:"text-sm font-bold text-slate-400 dark:text-slate-600",children:"Response will appear here"})]}),(0,l.jsx)("textarea",{readOnly:!0,value:i,className:"w-full h-full p-4 bg-transparent border-none outline-none resize-none text-slate-800 dark:text-slate-100 font-medium leading-relaxed"}),i&&(0,l.jsx)("div",{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,l.jsx)("button",{onClick:function(){i&&(navigator.clipboard.writeText(i),f(!0),setTimeout(function(){return f(!1)},2e3))},className:"p-3 rounded-xl shadow-lg transition-all active:scale-95 flex items-center gap-2 font-bold text-xs uppercase tracking-wider ".concat(p?"bg-emerald-500 text-white":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400"),children:p?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M20 6 9 17l-5-5"})}),(0,l.jsx)("span",{children:"Copied"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),(0,l.jsx)("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]}),(0,l.jsx)("span",{children:"Copy"})]})})})]}),(0,l.jsx)("div",{className:"h-[68px] flex items-center justify-center opacity-40",children:(0,l.jsxs)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5"}),(0,l.jsx)("path",{d:"M8.5 8.5v.01"}),(0,l.jsx)("path",{d:"M16 15.5v.01"}),(0,l.jsx)("path",{d:"M12 12v.01"}),(0,l.jsx)("path",{d:"M11 17v.01"}),(0,l.jsx)("path",{d:"M7 14v.01"})]}),"Powered by Gemini Flash Lite"]})})]})]})]})};function ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const ii=function(e){e.onConfigChange;var t=e.currentConfig,n=e.theme,r=e.onThemeChange,i=C(),a=ri((0,o.useState)(t.tier),2),s=a[0],u=a[1],c=ri((0,o.useState)(!1),2),d=(c[0],c[1]);return(0,o.useEffect)(function(){d(s!==t.tier)},[s,t]),(0,l.jsx)("div",{id:"settings-root",className:"max-w-3xl mx-auto space-y-8 animate-fadeIn pb-10",children:(0,l.jsxs)("div",{id:"settings-main-card",className:"bg-white dark:bg-slate-900 p-2 py-6 rounded-[2.5rem] border border-slate-200 dark:border-slate-800 shadow-xl transition-colors duration-300",children:[(0,l.jsx)("p",{className:"text-slate-500 dark:text-slate-400 mb-10 font-medium",children:"Configure your agent profile and managed services."}),(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h4",{className:"text-sm font-black text-slate-800 dark:text-white uppercase tracking-tight",children:"Appearance"}),(0,l.jsxs)("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-2xl w-fit",children:[(0,l.jsx)("button",{onClick:function(){return r("l")},title:"Use light color theme",className:"px-6 py-2.5 rounded-xl text-sm font-bold transition-all ".concat("l"===n?"bg-white shadow text-slate-800":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"),children:"Light Mode"}),(0,l.jsx)("button",{onClick:function(){return r("d")},title:"Use dark color theme",className:"px-6 py-2.5 rounded-xl text-sm font-bold transition-all ".concat("d"===n?"bg-slate-700 shadow text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"),children:"Dark Mode"})]})]}),(0,l.jsxs)("div",{className:"space-y-4 mt-4 pt-4 border-t border-slate-700",children:[(0,l.jsx)("h4",{className:"text-sm font-black text-slate-800 dark:text-white uppercase tracking-tight mb-4",children:"Agent"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 ml-1",children:"Agent Name"}),(0,l.jsx)("input",{type:"text",title:"Enter your display name",value:i.agtName,onChange:function(e){return b({agtName:e.target.value})},className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all font-bold text-slate-700 dark:text-slate-200"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 ml-1",children:"Tier"}),(0,l.jsxs)("select",{title:"Select your agent tier level",value:s,onChange:function(e){return u(e.target.value)},className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all font-bold text-slate-700 dark:text-slate-200 appearance-none",children:[(0,l.jsx)("option",{value:"Tier 1 Agent",children:"Tier 1 Agent"}),(0,l.jsx)("option",{value:"Tier 2 Specialist",children:"Tier 2 Specialist"}),(0,l.jsx)("option",{value:"Tier 3 Senior",children:"Tier 3 Senior"}),(0,l.jsx)("option",{value:"Admin Support",children:"Admin Support"})]})]})]})]}),(0,l.jsx)("div",{className:"space-y-4 mt-4 pt-4 border-t border-slate-700",children:(0,l.jsxs)("label",{className:"flex items-center cursor-pointer gap-3",children:[(0,l.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:i.bRandomTmpVariant,onChange:function(e){return b({bRandomTmpVariant:!i.bRandomTmpVariant})}}),(0,l.jsx)("div",{className:"relative w-11 h-6 bg-slate-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-slate-300 after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),(0,l.jsx)("span",{className:"text-sm font-black text-slate-400",children:"Generate random template on each copy"})]})}),(0,l.jsxs)("div",{className:"space-y-4 mt-4 pt-4 border-t border-slate-700",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsx)("div",{children:(0,l.jsx)("h4",{className:"text-sm font-black text-slate-800 dark:text-white uppercase tracking-tight",children:"Gemini API Connection"})})}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("input",{type:"password",title:"Enter or paste your API Key",value:i.apiKey,maxLength:40,onChange:function(e){return b({apiKey:e.target.value})},placeholder:"Paste your Gemini API Key here...",className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-800 rounded-2xl text-slate-600 dark:text-slate-300 font-mono text-sm focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all"})})]})]})]})})};function li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ai(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ai(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const si=function(){var e,t=li((0,o.useState)(I.DASHBOARD),2),n=t[0],r=t[1],i=li((0,o.useState)({tier:"Tier 1 Agent"}),2),a=i[0],s=i[1],c=li((0,o.useState)(v.theme),2),d=c[0],p=c[1],f=li((0,o.useState)(!0),2),h=f[0],m=f[1];(0,o.useEffect)(function(){"d"===d?(b({theme:"d"}),document.documentElement.classList.add("dark")):(b({theme:"l"}),document.documentElement.classList.remove("dark"))},[d]);var g=[{id:I.DASHBOARD,label:"Dashboard",icon:u.Svg(u.ID.Dashboard),title:"View stats, performance metrics and analytics"},{id:I.CHAT_TEMPLATES,label:"Templates",icon:u.Svg(u.ID.Templates),title:"Manage saved response templates"},{id:I.QUICK_RESP,label:"Quick Response",icon:u.Svg(u.ID.QuickResponse),title:"Generate quick responses to customer's queries"},{id:I.SETTINGS,label:"Settings",icon:u.Svg(u.ID.Settings),title:"Configure agent profile and system settings"}];return(0,l.jsxs)("div",{id:"app-root",className:"flex h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden text-slate-900 dark:text-slate-100 transition-all duration-500",children:[(0,l.jsxs)("aside",{id:"app-sidebar",className:"relative z-40 h-full bg-slate-900 dark:bg-slate-950 text-white flex flex-col shadow-2xl border-r border-slate-800 transition-all duration-500 ease-[cubic-bezier(0.4,0,0.2,1)] ".concat(h?"w-48":"w-10"),children:[(0,l.jsxs)("div",{className:"flex items-center justify-center",children:[(0,l.jsxs)("button",{onClick:function(){return m(!1)},className:"flex items-center justify-center p-2 w-full h-full transition-all duration-500 text-slate-400 hover:text-white hover:bg-slate-800 hover:scale-110 ".concat(h?"w-full opacity-100":"w-0 opacity-0 hidden"),title:"Collapse Sidebar",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 m-2 my-4",children:[u.Svg(u.ID.AppIcon),(0,l.jsx)("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent whitespace-nowrap",title:"xAgent Command Center",children:"xAgent"})]}),(0,l.jsx)("div",{className:"items-center justify-right ml-auto mr-0 w-16 min-w-8 max-w-12 min-h-8 max-h-12",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"m15 18-6-6 6-6"})})})]}),!h&&(0,l.jsx)("button",{onClick:function(){return m(!0)},className:"px-6 py-6 text-blue-500 hover:text-blue-400 hover:scale-120 transition-all duration-500",title:"Expand Sidebar",children:u.Svg(u.ID.AppIcon)})]}),(0,l.jsx)("div",{className:"px-6 mt-2 mb-4 overflow-hidden transition-all duration-500 ".concat(h?"h-auto opacity-100":"h-0 opacity-0"),children:(0,l.jsx)("p",{className:"text-xs text-slate-400 uppercase tracking-widest font-semibold whitespace-nowrap",children:"Command Center"})}),(0,l.jsx)("nav",{className:"flex-1 space-y-1 overflow-x-hidden overflow-y-auto custom-scrollbar",children:g.map(function(e){return(0,l.jsxs)("button",{onClick:function(){return r(e.id)},title:h?e.title:e.label,className:"w-full flex items-center p-3 rounded-xl hover:scale-110 transition-all duration-500 group relative ".concat(n===e.id?"bg-blue-600 text-white shadow-lg shadow-blue-900/40":"text-slate-400 hover:bg-slate-800 hover:text-white"," ").concat(h?"space-x-3":"justify-center"),children:[(0,l.jsx)("span",{className:"flex-shrink-0 transition-colors ".concat(n===e.id?"text-white":"text-slate-500 group-hover:text-blue-400"),children:e.icon}),(0,l.jsx)("span",{className:"font-semibold whitespace-nowrap transition-all duration-500 ".concat(h?"opacity-100 w-auto":"opacity-0 w-0 hidden"),children:e.label}),!h&&(0,l.jsxs)("div",{className:"absolute left-full ml-4 px-3 py-2 bg-slate-800 text-white text-xs font-bold rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 shadow-xl border border-slate-700 transition-opacity translate-x-2",children:[e.label,(0,l.jsx)("div",{className:"absolute top-1/2 -left-1 -mt-1 border-4 border-transparent border-r-slate-800"})]})]},e.id)})}),(0,l.jsxs)("div",{className:"p-1 border-t border-slate-800",children:[(0,l.jsxs)("div",{className:"flex items-center bg-slate-800 rounded-xl p-1 mb-4 border border-slate-700 transition-all duration-500 ".concat(h?"":"flex-col bg-transparent border-none p-0"),children:[(0,l.jsx)("button",{onClick:function(){return p("l")},title:"Switch to Light Mode",className:"flex-1 flex items-center justify-center p-2 rounded-lg transition-all duration-500 ".concat("l"===d?"bg-blue-600 text-white shadow-md":"text-slate-400 hover:text-white hover:bg-slate-700"," ").concat(h?"":"w-full"),children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,l.jsx)("path",{d:"M12 1v2"}),(0,l.jsx)("path",{d:"M12 21v2"}),(0,l.jsx)("path",{d:"M4.22 4.22l1.42 1.42"}),(0,l.jsx)("path",{d:"M18.36 18.36l1.42 1.42"}),(0,l.jsx)("path",{d:"M1 12h2"}),(0,l.jsx)("path",{d:"M21 12h2"}),(0,l.jsx)("path",{d:"M4.22 19.78l1.42-1.42"}),(0,l.jsx)("path",{d:"M18.36 5.64l1.42-1.42"})]})}),(0,l.jsx)("button",{onClick:function(){return p("d")},title:"Switch to Dark Mode",className:"flex-1 flex items-center justify-center p-2 rounded-lg transition-all duration-500 ".concat("d"===d?"bg-blue-600 text-white shadow-md":"text-slate-400 hover:text-white hover:bg-slate-700"," ").concat(h?"":"w-full"),children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})})})]}),(0,l.jsxs)("div",{className:"flex items-center p-3 bg-slate-800/50 rounded-2xl transition-all duration-500 ".concat(h?"space-x-3":"justify-center p-0 bg-transparent"),title:"Current Agent Profile",children:[(0,l.jsx)("div",{className:"rounded-xl bg-gradient-to-tr from-indigo-500 to-blue-500 flex items-center justify-center font-bold text-sm shadow-inner uppercase flex-shrink-0 ".concat(h?"w-9 h-9":"w-10 h-10"),children:v.agtName.substring(0,2)}),(0,l.jsxs)("div",{className:"flex-1 min-w-0 transition-all duration-500 ".concat(h?"w-auto opacity-100":"w-0 opacity-0 hidden"),children:[(0,l.jsx)("p",{className:"text-sm font-bold truncate",children:v.agtName}),(0,l.jsx)("p",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-tighter truncate",children:a.tier})]})]}),(0,l.jsxs)("div",{className:"flex-1 min-w-0 justify-center transition-all duration-500 ".concat(h?"":"hidden"),children:[(0,l.jsxs)("p",{className:"text-[10px] text-blue-400 font-bold text-center tracking-tighter wrap",children:["v","1.4.1"]}),(0,l.jsx)("p",{className:"text-[10px] text-blue-400 font-bold text-center tracking-tighter wrap",children:"2026 Yuri A. Wolf. All Right Reserved."})]})]})]}),(0,l.jsxs)("main",{id:"app-main",className:"flex-1 flex flex-col overflow-hidden relative",children:[(0,l.jsx)("header",{id:"app-header",className:"p-2 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 flex items-center justify-between sticky top-0 z-20 transition-colors duration-500",children:(0,l.jsx)("div",{className:"flex items-center pl-6",children:(0,l.jsx)("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:null===(e=g.find(function(e){return e.id===n}))||void 0===e?void 0:e.label})})}),(0,l.jsx)("section",{id:"app-content-area",className:"flex-1 overflow-y-auto p-1 bg-slate-50/50 dark:bg-slate-950",children:(0,l.jsxs)("div",{className:"w-full h-full",children:[n===I.DASHBOARD&&(0,l.jsx)(k,{}),n===I.CHAT_TEMPLATES&&(0,l.jsx)(G,{}),n===I.QUICK_RESP&&(0,l.jsx)(ni,{}),n===I.SETTINGS&&(0,l.jsx)(ii,{currentConfig:a,onConfigChange:s,theme:d,onThemeChange:p})]})})]})]})};var ui=document.getElementById("root");if(!ui)throw new Error("Could not find root element to mount to!");i.createRoot(ui).render((0,l.jsx)(o.StrictMode,{children:(0,l.jsx)(si,{})}))})();